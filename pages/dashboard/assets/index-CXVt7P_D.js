(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var Sp={exports:{}},Fc={};var zT;function Z2(){if(zT)return Fc;zT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Fc.Fragment=t,Fc.jsx=e,Fc.jsxs=e,Fc}var BT;function tI(){return BT||(BT=1,Sp.exports=Z2()),Sp.exports}var v=tI(),wp={exports:{}},At={};var FT;function eI(){if(FT)return At;FT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,x={};function L(z,it,ct){this.props=z,this.context=it,this.refs=x,this.updater=ct||R}L.prototype.isReactComponent={},L.prototype.setState=function(z,it){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,it,"setState")},L.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=L.prototype;function q(z,it,ct){this.props=z,this.context=it,this.refs=x,this.updater=ct||R}var et=q.prototype=new U;et.constructor=q,I(et,L.prototype),et.isPureReactComponent=!0;var J=Array.isArray;function tt(){}var k={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function C(z,it,ct){var W=ct.ref;return{$$typeof:n,type:z,key:it,ref:W!==void 0?W:null,props:ct}}function P(z,it){return C(z.type,it,z.props)}function M(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function j(z){var it={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ct){return it[ct]})}var O=/\/+/g;function wt(z,it){return typeof z=="object"&&z!==null&&z.key!=null?j(""+z.key):it.toString(36)}function ft(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(tt,tt):(z.status="pending",z.then(function(it){z.status==="pending"&&(z.status="fulfilled",z.value=it)},function(it){z.status==="pending"&&(z.status="rejected",z.reason=it)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,it,ct,W,ut){var pt=typeof z;(pt==="undefined"||pt==="boolean")&&(z=null);var kt=!1;if(z===null)kt=!0;else switch(pt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(z.$$typeof){case n:case t:kt=!0;break;case p:return kt=z._init,Q(kt(z._payload),it,ct,W,ut)}}if(kt)return ut=ut(z),kt=W===""?"."+wt(z,0):W,J(ut)?(ct="",kt!=null&&(ct=kt.replace(O,"$&/")+"/"),Q(ut,it,ct,"",function(ra){return ra})):ut!=null&&(M(ut)&&(ut=P(ut,ct+(ut.key==null||z&&z.key===ut.key?"":(""+ut.key).replace(O,"$&/")+"/")+kt)),it.push(ut)),1;kt=0;var He=W===""?".":W+":";if(J(z))for(var de=0;de<z.length;de++)W=z[de],pt=He+wt(W,de),kt+=Q(W,it,ct,pt,ut);else if(de=w(z),typeof de=="function")for(z=de.call(z),de=0;!(W=z.next()).done;)W=W.value,pt=He+wt(W,de++),kt+=Q(W,it,ct,pt,ut);else if(pt==="object"){if(typeof z.then=="function")return Q(ft(z),it,ct,W,ut);throw it=String(z),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return kt}function lt(z,it,ct){if(z==null)return z;var W=[],ut=0;return Q(z,W,"","",function(pt){return it.call(ct,pt,ut++)}),W}function _t(z){if(z._status===-1){var it=z._result;it=it(),it.then(function(ct){(z._status===0||z._status===-1)&&(z._status=1,z._result=ct)},function(ct){(z._status===0||z._status===-1)&&(z._status=2,z._result=ct)}),z._status===-1&&(z._status=0,z._result=it)}if(z._status===1)return z._result.default;throw z._result}var Dt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Mt={map:lt,forEach:function(z,it,ct){lt(z,function(){it.apply(this,arguments)},ct)},count:function(z){var it=0;return lt(z,function(){it++}),it},toArray:function(z){return lt(z,function(it){return it})||[]},only:function(z){if(!M(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return At.Activity=_,At.Children=Mt,At.Component=L,At.Fragment=e,At.Profiler=r,At.PureComponent=q,At.StrictMode=i,At.Suspense=f,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,At.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},At.cache=function(z){return function(){return z.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(z,it,ct){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var W=I({},z.props),ut=z.key;if(it!=null)for(pt in it.key!==void 0&&(ut=""+it.key),it)!N.call(it,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&it.ref===void 0||(W[pt]=it[pt]);var pt=arguments.length-2;if(pt===1)W.children=ct;else if(1<pt){for(var kt=Array(pt),He=0;He<pt;He++)kt[He]=arguments[He+2];W.children=kt}return C(z.type,ut,W)},At.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},At.createElement=function(z,it,ct){var W,ut={},pt=null;if(it!=null)for(W in it.key!==void 0&&(pt=""+it.key),it)N.call(it,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ut[W]=it[W]);var kt=arguments.length-2;if(kt===1)ut.children=ct;else if(1<kt){for(var He=Array(kt),de=0;de<kt;de++)He[de]=arguments[de+2];ut.children=He}if(z&&z.defaultProps)for(W in kt=z.defaultProps,kt)ut[W]===void 0&&(ut[W]=kt[W]);return C(z,pt,ut)},At.createRef=function(){return{current:null}},At.forwardRef=function(z){return{$$typeof:h,render:z}},At.isValidElement=M,At.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:_t}},At.memo=function(z,it){return{$$typeof:d,type:z,compare:it===void 0?null:it}},At.startTransition=function(z){var it=k.T,ct={};k.T=ct;try{var W=z(),ut=k.S;ut!==null&&ut(ct,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(tt,Dt)}catch(pt){Dt(pt)}finally{it!==null&&ct.types!==null&&(it.types=ct.types),k.T=it}},At.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},At.use=function(z){return k.H.use(z)},At.useActionState=function(z,it,ct){return k.H.useActionState(z,it,ct)},At.useCallback=function(z,it){return k.H.useCallback(z,it)},At.useContext=function(z){return k.H.useContext(z)},At.useDebugValue=function(){},At.useDeferredValue=function(z,it){return k.H.useDeferredValue(z,it)},At.useEffect=function(z,it){return k.H.useEffect(z,it)},At.useEffectEvent=function(z){return k.H.useEffectEvent(z)},At.useId=function(){return k.H.useId()},At.useImperativeHandle=function(z,it,ct){return k.H.useImperativeHandle(z,it,ct)},At.useInsertionEffect=function(z,it){return k.H.useInsertionEffect(z,it)},At.useLayoutEffect=function(z,it){return k.H.useLayoutEffect(z,it)},At.useMemo=function(z,it){return k.H.useMemo(z,it)},At.useOptimistic=function(z,it){return k.H.useOptimistic(z,it)},At.useReducer=function(z,it,ct){return k.H.useReducer(z,it,ct)},At.useRef=function(z){return k.H.useRef(z)},At.useState=function(z){return k.H.useState(z)},At.useSyncExternalStore=function(z,it,ct){return k.H.useSyncExternalStore(z,it,ct)},At.useTransition=function(){return k.H.useTransition()},At.version="19.2.4",At}var HT;function Yy(){return HT||(HT=1,wp.exports=eI()),wp.exports}var B=Yy(),xp={exports:{}},Hc={},Ap={exports:{}},Rp={};var qT;function nI(){return qT||(qT=1,(function(n){function t(Q,lt){var _t=Q.length;Q.push(lt);t:for(;0<_t;){var Dt=_t-1>>>1,Mt=Q[Dt];if(0<r(Mt,lt))Q[Dt]=lt,Q[_t]=Mt,_t=Dt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var lt=Q[0],_t=Q.pop();if(_t!==lt){Q[0]=_t;t:for(var Dt=0,Mt=Q.length,z=Mt>>>1;Dt<z;){var it=2*(Dt+1)-1,ct=Q[it],W=it+1,ut=Q[W];if(0>r(ct,_t))W<Mt&&0>r(ut,ct)?(Q[Dt]=ut,Q[W]=_t,Dt=W):(Q[Dt]=ct,Q[it]=_t,Dt=it);else if(W<Mt&&0>r(ut,_t))Q[Dt]=ut,Q[W]=_t,Dt=W;else break t}}return lt}function r(Q,lt){var _t=Q.sortIndex-lt.sortIndex;return _t!==0?_t:Q.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],p=1,_=null,T=3,w=!1,R=!1,I=!1,x=!1,L=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function et(Q){for(var lt=e(d);lt!==null;){if(lt.callback===null)i(d);else if(lt.startTime<=Q)i(d),lt.sortIndex=lt.expirationTime,t(f,lt);else break;lt=e(d)}}function J(Q){if(I=!1,et(Q),!R)if(e(f)!==null)R=!0,tt||(tt=!0,j());else{var lt=e(d);lt!==null&&ft(J,lt.startTime-Q)}}var tt=!1,k=-1,N=5,C=-1;function P(){return x?!0:!(n.unstable_now()-C<N)}function M(){if(x=!1,tt){var Q=n.unstable_now();C=Q;var lt=!0;try{t:{R=!1,I&&(I=!1,U(k),k=-1),w=!0;var _t=T;try{e:{for(et(Q),_=e(f);_!==null&&!(_.expirationTime>Q&&P());){var Dt=_.callback;if(typeof Dt=="function"){_.callback=null,T=_.priorityLevel;var Mt=Dt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof Mt=="function"){_.callback=Mt,et(Q),lt=!0;break e}_===e(f)&&i(f),et(Q)}else i(f);_=e(f)}if(_!==null)lt=!0;else{var z=e(d);z!==null&&ft(J,z.startTime-Q),lt=!1}}break t}finally{_=null,T=_t,w=!1}lt=void 0}}finally{lt?j():tt=!1}}}var j;if(typeof q=="function")j=function(){q(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,wt=O.port2;O.port1.onmessage=M,j=function(){wt.postMessage(null)}}else j=function(){L(M,0)};function ft(Q,lt){k=L(function(){Q(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var lt=3;break;default:lt=T}var _t=T;T=lt;try{return Q()}finally{T=_t}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(Q,lt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _t=T;T=Q;try{return lt()}finally{T=_t}},n.unstable_scheduleCallback=function(Q,lt,_t){var Dt=n.unstable_now();switch(typeof _t=="object"&&_t!==null?(_t=_t.delay,_t=typeof _t=="number"&&0<_t?Dt+_t:Dt):_t=Dt,Q){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=_t+Mt,Q={id:p++,callback:lt,priorityLevel:Q,startTime:_t,expirationTime:Mt,sortIndex:-1},_t>Dt?(Q.sortIndex=_t,t(d,Q),e(f)===null&&Q===e(d)&&(I?(U(k),k=-1):I=!0,ft(J,_t-Dt))):(Q.sortIndex=Mt,t(f,Q),R||w||(R=!0,tt||(tt=!0,j()))),Q},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Q){var lt=T;return function(){var _t=T;T=lt;try{return Q.apply(this,arguments)}finally{T=_t}}}})(Rp)),Rp}var GT;function iI(){return GT||(GT=1,Ap.exports=nI()),Ap.exports}var Cp={exports:{}},cn={};var $T;function sI(){if($T)return cn;$T=1;var n=Yy();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},cn.flushSync=function(f){var d=c.T,p=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=p,i.d.f()}},cn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},cn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},cn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,_=h(p,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:w}):p==="script"&&i.d.X(f,{crossOrigin:_,integrity:T,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},cn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=h(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cn.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},cn.requestFormReset=function(f){i.d.r(f)},cn.unstable_batchedUpdates=function(f,d){return f(d)},cn.useFormState=function(f,d,p){return c.H.useFormState(f,d,p)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var YT;function rI(){if(YT)return Cp.exports;YT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Cp.exports=sI(),Cp.exports}var KT;function aI(){if(KT)return Hc;KT=1;var n=iI(),t=Yy(),e=rI();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),s;if(y===u)return f(g),a;y=y.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=y;else{for(var E=!1,A=g.child;A;){if(A===l){E=!0,l=g,u=y;break}if(A===u){E=!0,u=g,l=y;break}A=A.sibling}if(!E){for(A=y.child;A;){if(A===l){E=!0,l=y,u=g;break}if(A===u){E=!0,u=y,l=g;break}A=A.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function wt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case L:return"Profiler";case x:return"StrictMode";case J:return"Suspense";case tt:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case q:return s.displayName||"Context";case U:return(s._context.displayName||"Context")+".Consumer";case et:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return a=s.displayName||null,a!==null?a:wt(s.type)||"Memo";case N:a=s._payload,s=s._init;try{return wt(s(a))}catch{}}return null}var ft=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_t={pending:!1,data:null,method:null,action:null},Dt=[],Mt=-1;function z(s){return{current:s}}function it(s){0>Mt||(s.current=Dt[Mt],Dt[Mt]=null,Mt--)}function ct(s,a){Mt++,Dt[Mt]=s.current,s.current=a}var W=z(null),ut=z(null),pt=z(null),kt=z(null);function He(s,a){switch(ct(pt,a),ct(ut,s),ct(W,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?cT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=cT(a),s=uT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}it(W),ct(W,s)}function de(){it(W),it(ut),it(pt)}function ra(s){s.memoizedState!==null&&ct(kt,s);var a=W.current,l=uT(a,s.type);a!==l&&(ct(ut,s),ct(W,l))}function fo(s){ut.current===s&&(it(W),it(ut)),kt.current===s&&(it(kt),jc._currentValue=_t)}var mo,go;function Mi(s){if(mo===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);mo=a&&a[1]||"",go=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+s+go}var jl=!1;function aa(s,a){if(!s||jl)return"";jl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Z){var K=Z}Reflect.construct(s,[],at)}else{try{at.call()}catch(Z){K=Z}s.call(at.prototype)}}else{try{throw Error()}catch(Z){K=Z}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],A=y[1];if(E&&A){var V=E.split(`
`),Y=A.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===Y.length)for(u=V.length-1,g=Y.length-1;1<=u&&0<=g&&V[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==Y[g]){var nt=`
`+V[u].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=u&&0<=g);break}}}finally{jl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Mi(l):""}function Ul(s,a){switch(s.tag){case 26:case 27:case 5:return Mi(s.type);case 16:return Mi("Lazy");case 13:return s.child!==a&&a!==null?Mi("Suspense Fallback"):Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 15:return aa(s.type,!1);case 11:return aa(s.type.render,!1);case 1:return aa(s.type,!0);case 31:return Mi("Activity");default:return""}}function zl(s){try{var a="",l=null;do a+=Ul(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var De=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,Zs=n.unstable_cancelCallback,xm=n.unstable_shouldYield,eh=n.unstable_requestPaint,yn=n.unstable_now,oa=n.unstable_getCurrentPriorityLevel,Bl=n.unstable_ImmediatePriority,Fl=n.unstable_UserBlockingPriority,tr=n.unstable_NormalPriority,Am=n.unstable_LowPriority,nh=n.unstable_IdlePriority,ih=n.log,sh=n.unstable_setDisableYieldValue,fi=null,Ze=null;function Gn(s){if(typeof ih=="function"&&sh(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(fi,s)}catch{}}var Se=Math.clz32?Math.clz32:ah,rh=Math.log,po=Math.LN2;function ah(s){return s>>>=0,s===0?32:31-(rh(s)/po|0)|0}var Oi=256,la=262144,ke=4194304;function Pi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Li(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,y=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~y,u!==0?g=Pi(u):(E&=A,E!==0?g=Pi(E):l||(l=A&~s,l!==0&&(g=Pi(l))))):(A=u&~y,A!==0?g=Pi(A):E!==0?g=Pi(E):l||(l=u&~s,l!==0&&(g=Pi(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function di(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Rm(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oh(){var s=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),s}function Vi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ca(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Cm(s,a,l,u,g,y){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,V=s.expirationTimes,Y=s.hiddenUpdates;for(l=E&~l;0<l;){var nt=31-Se(l),at=1<<nt;A[nt]=0,V[nt]=-1;var K=Y[nt];if(K!==null)for(Y[nt]=null,nt=0;nt<K.length;nt++){var Z=K[nt];Z!==null&&(Z.lane&=-536870913)}l&=~at}u!==0&&ua(s,u,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~a))}function ua(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Se(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Hl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Se(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function ql(s,a){var l=a&-a;return l=(l&42)!==0?1:ha(l),(l&(s.suspendedLanes|a))!==0?0:l}function ha(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function vs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function lh(){var s=lt.p;return s!==0?s:(s=window.event,s===void 0?32:MT(s.type))}function mi(s,a){var l=lt.p;try{return lt.p=s,a()}finally{lt.p=l}}var gi=Math.random().toString(36).slice(2),Me="__reactFiber$"+gi,Ke="__reactProps$"+gi,ji="__reactContainer$"+gi,yo="__reactEvents$"+gi,Im="__reactListeners$"+gi,ch="__reactHandles$"+gi,uh="__reactResources$"+gi,Ui="__reactMarker$"+gi;function _o(s){delete s[Me],delete s[Ke],delete s[yo],delete s[Im],delete s[ch]}function zi(s){var a=s[Me];if(a)return a;for(var l=s.parentNode;l;){if(a=l[ji]||l[Me]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=yT(s);s!==null;){if(l=s[Me])return l;s=yT(s)}return a}s=l,l=s.parentNode}return null}function $n(s){if(s=s[Me]||s[ji]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function kn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function Bi(s){var a=s[uh];return a||(a=s[uh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Oe(s){s[Ui]=!0}var Gl=new Set,$l={};function Fi(s,a){Hi(s,a),Hi(s+"Capture",a)}function Hi(s,a){for($l[s]=a,s=0;s<a.length;s++)Gl.add(a[s])}var Yl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Wl={};function hh(s){return De.call(Wl,s)?!0:De.call(Kl,s)?!1:Yl.test(s)?Wl[s]=!0:(Kl[s]=!0,!1)}function vo(s,a,l){if(hh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Mn(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Pe(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function We(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function er(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ql(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Jt(s){if(!s._valueTracker){var a=er(s)?"checked":"value";s._valueTracker=Ql(s,a,""+s[a])}}function fa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=er(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function qi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var da=/[\n"\\]/g;function Tn(s){return s.replace(da,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function bo(s,a,l,u,g,y,E,A){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+We(a)):s.value!==""+We(a)&&(s.value=""+We(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?Xl(s,E,We(a)):l!=null?Xl(s,E,We(l)):u!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+We(A):s.removeAttribute("name")}function fh(s,a,l,u,g,y,E,A){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){Jt(s);return}l=l!=null?""+We(l):"",a=a!=null?""+We(a):l,A||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),Jt(s)}function Xl(s,a,l){a==="number"&&qi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function nr(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+We(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function dh(s,a,l){if(a!=null&&(a=""+We(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+We(l):""}function ir(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(ft(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=We(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Jt(s)}function En(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var mh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||mh.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&Jl(s,g,u)}else for(var y in a)a.hasOwnProperty(y)&&Jl(s,y,a[y])}function To(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(s){return sr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function pi(){}var tc=null;function Yn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rr=null,Gi=null;function ma(s){var a=$n(s);if(a&&(s=a.stateNode)){var l=s[Ke]||null;t:switch(s=a.stateNode,a.type){case"input":if(bo(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Tn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[Ke]||null;if(!g)throw Error(i(90));bo(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&fa(u)}break t;case"textarea":dh(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&nr(s,!!l.multiple,a,!1)}}}var So=!1;function ar(s,a,l){if(So)return s(a,l);So=!0;try{var u=s(a);return u}finally{if(So=!1,(rr!==null||Gi!==null)&&(cf(),rr&&(a=rr,s=Gi,Gi=rr=null,ma(a),s)))for(a=0;a<s.length;a++)ma(s[a])}}function yi(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ke]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(Kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ga=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ga=!1}var $i=null,ec=null,pa=null;function nc(){if(pa)return pa;var s,a=ec,l=a.length,u,g="value"in $i?$i.value:$i.textContent,y=g.length;for(s=0;s<l&&a[s]===g[s];s++);var E=l-s;for(u=1;u<=E&&a[l-u]===g[y-u];u++);return pa=g.slice(s,1<u?1-u:void 0)}function ya(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function bs(){return!0}function _i(){return!1}function tn(s){function a(l,u,g,y,E){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?bs:_i,this.isPropagationStopped=_i,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yi=tn(Ts),or=_({},Ts,{view:0,detail:0}),ic=tn(or),lr,wo,Ki,xo=_({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ki&&(Ki&&s.type==="mousemove"?(lr=s.screenX-Ki.screenX,wo=s.screenY-Ki.screenY):wo=lr=0,Ki=s),lr)},movementY:function(s){return"movementY"in s?s.movementY:wo}}),sc=tn(xo),_a=_({},xo,{dataTransfer:0}),ph=tn(_a),yh=_({},or,{relatedTarget:0}),va=tn(yh),rc=_({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),_h=tn(rc),Ao=_({},Ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vh=tn(Ao),bh=_({},Ts,{data:0}),Wi=tn(bh),Th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Sh[s])?!!a[s]:!1}function cr(){return wh}var _n=_({},or,{key:function(s){if(s.key){var a=Th[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ya(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Eh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(s){return s.type==="keypress"?ya(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ya(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),xh=tn(_n),Ah=_({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Es=tn(Ah),m=_({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),b=tn(m),S=_({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),D=tn(S),G=_({},xo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),X=tn(G),ht=_({},Ts,{newState:0,oldState:0}),Ct=tn(ht),we=[9,13,27,32],Kt=Kn&&"CompositionEvent"in window,me=null;Kn&&"documentMode"in document&&(me=document.documentMode);var Wn=Kn&&"TextEvent"in window&&!me,Qi=Kn&&(!Kt||me&&8<me&&11>=me),vi=" ",bi=!1;function ba(s,a){switch(s){case"keyup":return we.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Co=!1;function SC(s,a){switch(s){case"compositionend":return Ro(a);case"keypress":return a.which!==32?null:(bi=!0,vi);case"textInput":return s=a.data,s===vi&&bi?null:s;default:return null}}function wC(s,a){if(Co)return s==="compositionend"||!Kt&&ba(s,a)?(s=nc(),pa=ec=$i=null,Co=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Qi&&a.locale!=="ko"?null:a.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!xC[s.type]:a==="textarea"}function Tv(s,a,l,u){rr?Gi?Gi.push(u):Gi=[u]:rr=u,a=pf(a,"onChange"),0<a.length&&(l=new Yi("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var ac=null,oc=null;function AC(s){iT(s,0)}function Rh(s){var a=kn(s);if(fa(a))return s}function Ev(s,a){if(s==="change")return a}var Sv=!1;if(Kn){var Nm;if(Kn){var Dm="oninput"in document;if(!Dm){var wv=document.createElement("div");wv.setAttribute("oninput","return;"),Dm=typeof wv.oninput=="function"}Nm=Dm}else Nm=!1;Sv=Nm&&(!document.documentMode||9<document.documentMode)}function xv(){ac&&(ac.detachEvent("onpropertychange",Av),oc=ac=null)}function Av(s){if(s.propertyName==="value"&&Rh(oc)){var a=[];Tv(a,oc,s,Yn(s)),ar(AC,a)}}function RC(s,a,l){s==="focusin"?(xv(),ac=a,oc=l,ac.attachEvent("onpropertychange",Av)):s==="focusout"&&xv()}function CC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Rh(oc)}function IC(s,a){if(s==="click")return Rh(a)}function NC(s,a){if(s==="input"||s==="change")return Rh(a)}function DC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var On=typeof Object.is=="function"?Object.is:DC;function lc(s,a){if(On(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!De.call(a,g)||!On(s[g],a[g]))return!1}return!0}function Rv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Cv(s,a){var l=Rv(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Rv(l)}}function Iv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Iv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Nv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=qi(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=qi(s.document)}return a}function km(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var kC=Kn&&"documentMode"in document&&11>=document.documentMode,Io=null,Mm=null,cc=null,Om=!1;function Dv(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Om||Io==null||Io!==qi(u)||(u=Io,"selectionStart"in u&&km(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cc&&lc(cc,u)||(cc=u,u=pf(Mm,"onSelect"),0<u.length&&(a=new Yi("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Io)))}function Ta(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var No={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},Pm={},kv={};Kn&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ea(s){if(Pm[s])return Pm[s];if(!No[s])return s;var a=No[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in kv)return Pm[s]=a[l];return s}var Mv=Ea("animationend"),Ov=Ea("animationiteration"),Pv=Ea("animationstart"),MC=Ea("transitionrun"),OC=Ea("transitionstart"),PC=Ea("transitioncancel"),Lv=Ea("transitionend"),Vv=new Map,Lm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lm.push("scrollEnd");function Ti(s,a){Vv.set(s,a),Fi(a,[s])}var Ch=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Qn=[],Do=0,Vm=0;function Ih(){for(var s=Do,a=Vm=Do=0;a<s;){var l=Qn[a];Qn[a++]=null;var u=Qn[a];Qn[a++]=null;var g=Qn[a];Qn[a++]=null;var y=Qn[a];if(Qn[a++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}y!==0&&jv(l,g,y)}}function Nh(s,a,l,u){Qn[Do++]=s,Qn[Do++]=a,Qn[Do++]=l,Qn[Do++]=u,Vm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function jm(s,a,l,u){return Nh(s,a,l,u),Dh(s)}function Sa(s,a){return Nh(s,null,null,a),Dh(s)}function jv(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-Se(l),s=y.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),y):null}function Dh(s){if(50<Dc)throw Dc=0,Yg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var ko={};function LC(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,a,l,u){return new LC(s,a,l,u)}function Um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ss(s,a){var l=s.alternate;return l===null?(l=Pn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Uv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function kh(s,a,l,u,g,y){var E=0;if(u=s,typeof s=="function")Um(s)&&(E=1);else if(typeof s=="string")E=B2(s,l,W.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case C:return s=Pn(31,l,a,g),s.elementType=C,s.lanes=y,s;case I:return wa(l.children,g,y,a);case x:E=8,g|=24;break;case L:return s=Pn(12,l,a,g|2),s.elementType=L,s.lanes=y,s;case J:return s=Pn(13,l,a,g),s.elementType=J,s.lanes=y,s;case tt:return s=Pn(19,l,a,g),s.elementType=tt,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:E=10;break t;case U:E=9;break t;case et:E=11;break t;case k:E=14;break t;case N:E=16,u=null;break t}E=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=Pn(E,l,a,g),a.elementType=s,a.type=u,a.lanes=y,a}function wa(s,a,l,u){return s=Pn(7,s,u,a),s.lanes=l,s}function zm(s,a,l){return s=Pn(6,s,null,a),s.lanes=l,s}function zv(s){var a=Pn(18,null,null,0);return a.stateNode=s,a}function Bm(s,a,l){return a=Pn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Bv=new WeakMap;function Xn(s,a){if(typeof s=="object"&&s!==null){var l=Bv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:zl(a)},Bv.set(s,a),a)}return{value:s,source:a,stack:zl(a)}}var Mo=[],Oo=0,Mh=null,uc=0,Jn=[],Zn=0,ur=null,Xi=1,Ji="";function ws(s,a){Mo[Oo++]=uc,Mo[Oo++]=Mh,Mh=s,uc=a}function Fv(s,a,l){Jn[Zn++]=Xi,Jn[Zn++]=Ji,Jn[Zn++]=ur,ur=s;var u=Xi;s=Ji;var g=32-Se(u)-1;u&=~(1<<g),l+=1;var y=32-Se(a)+g;if(30<y){var E=g-g%5;y=(u&(1<<E)-1).toString(32),u>>=E,g-=E,Xi=1<<32-Se(a)+g|l<<g|u,Ji=y+s}else Xi=1<<y|l<<g|u,Ji=s}function Fm(s){s.return!==null&&(ws(s,1),Fv(s,1,0))}function Hm(s){for(;s===Mh;)Mh=Mo[--Oo],Mo[Oo]=null,uc=Mo[--Oo],Mo[Oo]=null;for(;s===ur;)ur=Jn[--Zn],Jn[Zn]=null,Ji=Jn[--Zn],Jn[Zn]=null,Xi=Jn[--Zn],Jn[Zn]=null}function Hv(s,a){Jn[Zn++]=Xi,Jn[Zn++]=Ji,Jn[Zn++]=ur,Xi=a.id,Ji=a.overflow,ur=s}var en=null,ce=null,Bt=!1,hr=null,ti=!1,qm=Error(i(519));function fr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hc(Xn(a,s)),qm}function qv(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Me]=s,a[Ke]=u,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<Mc.length;l++)Pt(Mc[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),fh(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),ir(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||oT(a.textContent,l)?(u.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),u.onScroll!=null&&Pt("scroll",a),u.onScrollEnd!=null&&Pt("scrollend",a),u.onClick!=null&&(a.onclick=pi),a=!0):a=!1,a||fr(s,!0)}function Gv(s){for(en=s.return;en;)switch(en.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:en=en.return}}function Po(s){if(s!==en)return!1;if(!Bt)return Gv(s),Bt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||lp(s.type,s.memoizedProps)),l=!l),l&&ce&&fr(s),Gv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=pT(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=pT(s)}else a===27?(a=ce,Ar(s.type)?(s=dp,dp=null,ce=s):ce=a):ce=en?ni(s.stateNode.nextSibling):null;return!0}function xa(){ce=en=null,Bt=!1}function Gm(){var s=hr;return s!==null&&(An===null?An=s:An.push.apply(An,s),hr=null),s}function hc(s){hr===null?hr=[s]:hr.push(s)}var $m=z(null),Aa=null,xs=null;function dr(s,a,l){ct($m,a._currentValue),a._currentValue=l}function As(s){s._currentValue=$m.current,it($m)}function Ym(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function Km(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;t:for(;y!==null;){var A=y;y=g;for(var V=0;V<a.length;V++)if(A.context===a[V]){y.lanes|=l,A=y.alternate,A!==null&&(A.lanes|=l),Ym(y.return,l,s),u||(E=null);break t}y=A.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(i(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),Ym(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Lo(s,a,l,u){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=g.type;On(g.pendingProps.value,E.value)||(s!==null?s.push(A):s=[A])}}else if(g===kt.current){if(E=g.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(jc):s=[jc])}g=g.return}s!==null&&Km(a,s,l,u),a.flags|=262144}function Oh(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ra(s){Aa=s,xs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function nn(s){return $v(Aa,s)}function Ph(s,a){return Aa===null&&Ra(s),$v(s,a)}function $v(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},xs===null){if(s===null)throw Error(i(308));xs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else xs=xs.next=a;return l}var VC=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},jC=n.unstable_scheduleCallback,UC=n.unstable_NormalPriority,Le={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wm(){return{controller:new VC,data:new Map,refCount:0}}function fc(s){s.refCount--,s.refCount===0&&jC(UC,function(){s.controller.abort()})}var dc=null,Qm=0,Vo=0,jo=null;function zC(s,a){if(dc===null){var l=dc=[];Qm=0,Vo=Zg(),jo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Qm++,a.then(Yv,Yv),a}function Yv(){if(--Qm===0&&dc!==null){jo!==null&&(jo.status="fulfilled");var s=dc;dc=null,Vo=0,jo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function BC(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Kv=Q.S;Q.S=function(s,a){Db=yn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&zC(s,a),Kv!==null&&Kv(s,a)};var Ca=z(null);function Xm(){var s=Ca.current;return s!==null?s:ae.pooledCache}function Lh(s,a){a===null?ct(Ca,Ca.current):ct(Ca,a.pool)}function Wv(){var s=Xm();return s===null?null:{parent:Le._currentValue,pool:s}}var Uo=Error(i(460)),Jm=Error(i(474)),Vh=Error(i(542)),jh={then:function(){}};function Qv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Xv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(pi,pi),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Zv(s),s;default:if(typeof a.status=="string")a.then(pi,pi);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Zv(s),s}throw Na=a,Uo}}function Ia(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Na=l,Uo):l}}var Na=null;function Jv(){if(Na===null)throw Error(i(459));var s=Na;return Na=null,s}function Zv(s){if(s===Uo||s===Vh)throw Error(i(483))}var zo=null,mc=0;function Uh(s){var a=mc;return mc+=1,zo===null&&(zo=[]),Xv(zo,s,a)}function gc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function zh(s,a){throw a.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function t0(s){function a(H,F){if(s){var $=H.deletions;$===null?(H.deletions=[F],H.flags|=16):$.push(F)}}function l(H,F){if(!s)return null;for(;F!==null;)a(H,F),F=F.sibling;return null}function u(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function g(H,F){return H=Ss(H,F),H.index=0,H.sibling=null,H}function y(H,F,$){return H.index=$,s?($=H.alternate,$!==null?($=$.index,$<F?(H.flags|=67108866,F):$):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function E(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function A(H,F,$,st){return F===null||F.tag!==6?(F=zm($,H.mode,st),F.return=H,F):(F=g(F,$),F.return=H,F)}function V(H,F,$,st){var vt=$.type;return vt===I?nt(H,F,$.props.children,st,$.key):F!==null&&(F.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===N&&Ia(vt)===F.type)?(F=g(F,$.props),gc(F,$),F.return=H,F):(F=kh($.type,$.key,$.props,null,H.mode,st),gc(F,$),F.return=H,F)}function Y(H,F,$,st){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=Bm($,H.mode,st),F.return=H,F):(F=g(F,$.children||[]),F.return=H,F)}function nt(H,F,$,st,vt){return F===null||F.tag!==7?(F=wa($,H.mode,st,vt),F.return=H,F):(F=g(F,$),F.return=H,F)}function at(H,F,$){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=zm(""+F,H.mode,$),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case w:return $=kh(F.type,F.key,F.props,null,H.mode,$),gc($,F),$.return=H,$;case R:return F=Bm(F,H.mode,$),F.return=H,F;case N:return F=Ia(F),at(H,F,$)}if(ft(F)||j(F))return F=wa(F,H.mode,$,null),F.return=H,F;if(typeof F.then=="function")return at(H,Uh(F),$);if(F.$$typeof===q)return at(H,Ph(H,F),$);zh(H,F)}return null}function K(H,F,$,st){var vt=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return vt!==null?null:A(H,F,""+$,st);if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return $.key===vt?V(H,F,$,st):null;case R:return $.key===vt?Y(H,F,$,st):null;case N:return $=Ia($),K(H,F,$,st)}if(ft($)||j($))return vt!==null?null:nt(H,F,$,st,null);if(typeof $.then=="function")return K(H,F,Uh($),st);if($.$$typeof===q)return K(H,F,Ph(H,$),st);zh(H,$)}return null}function Z(H,F,$,st,vt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return H=H.get($)||null,A(F,H,""+st,vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case w:return H=H.get(st.key===null?$:st.key)||null,V(F,H,st,vt);case R:return H=H.get(st.key===null?$:st.key)||null,Y(F,H,st,vt);case N:return st=Ia(st),Z(H,F,$,st,vt)}if(ft(st)||j(st))return H=H.get($)||null,nt(F,H,st,vt,null);if(typeof st.then=="function")return Z(H,F,$,Uh(st),vt);if(st.$$typeof===q)return Z(H,F,$,Ph(F,st),vt);zh(F,st)}return null}function gt(H,F,$,st){for(var vt=null,Gt=null,yt=F,Nt=F=0,Vt=null;yt!==null&&Nt<$.length;Nt++){yt.index>Nt?(Vt=yt,yt=null):Vt=yt.sibling;var $t=K(H,yt,$[Nt],st);if($t===null){yt===null&&(yt=Vt);break}s&&yt&&$t.alternate===null&&a(H,yt),F=y($t,F,Nt),Gt===null?vt=$t:Gt.sibling=$t,Gt=$t,yt=Vt}if(Nt===$.length)return l(H,yt),Bt&&ws(H,Nt),vt;if(yt===null){for(;Nt<$.length;Nt++)yt=at(H,$[Nt],st),yt!==null&&(F=y(yt,F,Nt),Gt===null?vt=yt:Gt.sibling=yt,Gt=yt);return Bt&&ws(H,Nt),vt}for(yt=u(yt);Nt<$.length;Nt++)Vt=Z(yt,H,Nt,$[Nt],st),Vt!==null&&(s&&Vt.alternate!==null&&yt.delete(Vt.key===null?Nt:Vt.key),F=y(Vt,F,Nt),Gt===null?vt=Vt:Gt.sibling=Vt,Gt=Vt);return s&&yt.forEach(function(Dr){return a(H,Dr)}),Bt&&ws(H,Nt),vt}function Tt(H,F,$,st){if($==null)throw Error(i(151));for(var vt=null,Gt=null,yt=F,Nt=F=0,Vt=null,$t=$.next();yt!==null&&!$t.done;Nt++,$t=$.next()){yt.index>Nt?(Vt=yt,yt=null):Vt=yt.sibling;var Dr=K(H,yt,$t.value,st);if(Dr===null){yt===null&&(yt=Vt);break}s&&yt&&Dr.alternate===null&&a(H,yt),F=y(Dr,F,Nt),Gt===null?vt=Dr:Gt.sibling=Dr,Gt=Dr,yt=Vt}if($t.done)return l(H,yt),Bt&&ws(H,Nt),vt;if(yt===null){for(;!$t.done;Nt++,$t=$.next())$t=at(H,$t.value,st),$t!==null&&(F=y($t,F,Nt),Gt===null?vt=$t:Gt.sibling=$t,Gt=$t);return Bt&&ws(H,Nt),vt}for(yt=u(yt);!$t.done;Nt++,$t=$.next())$t=Z(yt,H,Nt,$t.value,st),$t!==null&&(s&&$t.alternate!==null&&yt.delete($t.key===null?Nt:$t.key),F=y($t,F,Nt),Gt===null?vt=$t:Gt.sibling=$t,Gt=$t);return s&&yt.forEach(function(J2){return a(H,J2)}),Bt&&ws(H,Nt),vt}function re(H,F,$,st){if(typeof $=="object"&&$!==null&&$.type===I&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case w:t:{for(var vt=$.key;F!==null;){if(F.key===vt){if(vt=$.type,vt===I){if(F.tag===7){l(H,F.sibling),st=g(F,$.props.children),st.return=H,H=st;break t}}else if(F.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===N&&Ia(vt)===F.type){l(H,F.sibling),st=g(F,$.props),gc(st,$),st.return=H,H=st;break t}l(H,F);break}else a(H,F);F=F.sibling}$.type===I?(st=wa($.props.children,H.mode,st,$.key),st.return=H,H=st):(st=kh($.type,$.key,$.props,null,H.mode,st),gc(st,$),st.return=H,H=st)}return E(H);case R:t:{for(vt=$.key;F!==null;){if(F.key===vt)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){l(H,F.sibling),st=g(F,$.children||[]),st.return=H,H=st;break t}else{l(H,F);break}else a(H,F);F=F.sibling}st=Bm($,H.mode,st),st.return=H,H=st}return E(H);case N:return $=Ia($),re(H,F,$,st)}if(ft($))return gt(H,F,$,st);if(j($)){if(vt=j($),typeof vt!="function")throw Error(i(150));return $=vt.call($),Tt(H,F,$,st)}if(typeof $.then=="function")return re(H,F,Uh($),st);if($.$$typeof===q)return re(H,F,Ph(H,$),st);zh(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,F!==null&&F.tag===6?(l(H,F.sibling),st=g(F,$),st.return=H,H=st):(l(H,F),st=zm($,H.mode,st),st.return=H,H=st),E(H)):l(H,F)}return function(H,F,$,st){try{mc=0;var vt=re(H,F,$,st);return zo=null,vt}catch(yt){if(yt===Uo||yt===Vh)throw yt;var Gt=Pn(29,yt,null,H.mode);return Gt.lanes=st,Gt.return=H,Gt}}}var Da=t0(!0),e0=t0(!1),mr=!1;function Zm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function pr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Wt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=Dh(s),jv(s,null,l),a}return Nh(s,u,a,l),Dh(s)}function pc(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Hl(s,l)}}function eg(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ng=!1;function yc(){if(ng){var s=jo;if(s!==null)throw s}}function _c(s,a,l,u){ng=!1;var g=s.updateQueue;mr=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,A=g.shared.pending;if(A!==null){g.shared.pending=null;var V=A,Y=V.next;V.next=null,E===null?y=Y:E.next=Y,E=V;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,A=nt.lastBaseUpdate,A!==E&&(A===null?nt.firstBaseUpdate=Y:A.next=Y,nt.lastBaseUpdate=V))}if(y!==null){var at=g.baseState;E=0,nt=Y=V=null,A=y;do{var K=A.lane&-536870913,Z=K!==A.lane;if(Z?(Lt&K)===K:(u&K)===K){K!==0&&K===Vo&&(ng=!0),nt!==null&&(nt=nt.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var gt=s,Tt=A;K=a;var re=l;switch(Tt.tag){case 1:if(gt=Tt.payload,typeof gt=="function"){at=gt.call(re,at,K);break t}at=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Tt.payload,K=typeof gt=="function"?gt.call(re,at,K):gt,K==null)break t;at=_({},at,K);break t;case 2:mr=!0}}K=A.callback,K!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:A.tag,payload:A.payload,callback:A.callback,next:null},nt===null?(Y=nt=Z,V=at):nt=nt.next=Z,E|=K;if(A=A.next,A===null){if(A=g.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);nt===null&&(V=at),g.baseState=V,g.firstBaseUpdate=Y,g.lastBaseUpdate=nt,y===null&&(g.shared.lanes=0),Tr|=E,s.lanes=E,s.memoizedState=at}}function n0(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function i0(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)n0(l[s],a)}var Bo=z(null),Bh=z(0);function s0(s,a){s=Ps,ct(Bh,s),ct(Bo,a),Ps=s|a.baseLanes}function ig(){ct(Bh,Ps),ct(Bo,Bo.current)}function sg(){Ps=Bh.current,it(Bo),it(Bh)}var Ln=z(null),ei=null;function yr(s){var a=s.alternate;ct(xe,xe.current&1),ct(Ln,s),ei===null&&(a===null||Bo.current!==null||a.memoizedState!==null)&&(ei=s)}function rg(s){ct(xe,xe.current),ct(Ln,s),ei===null&&(ei=s)}function r0(s){s.tag===22?(ct(xe,xe.current),ct(Ln,s),ei===null&&(ei=s)):_r()}function _r(){ct(xe,xe.current),ct(Ln,Ln.current)}function Vn(s){it(Ln),ei===s&&(ei=null),it(xe)}var xe=z(0);function Fh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||hp(l)||fp(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Rs=0,It=null,ie=null,Ve=null,Hh=!1,Fo=!1,ka=!1,qh=0,vc=0,Ho=null,FC=0;function ve(){throw Error(i(321))}function ag(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!On(s[l],a[l]))return!1;return!0}function og(s,a,l,u,g,y){return Rs=y,It=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?F0:Eg,ka=!1,y=l(u,g),ka=!1,Fo&&(y=o0(a,l,u,g)),a0(s),y}function a0(s){Q.H=Ec;var a=ie!==null&&ie.next!==null;if(Rs=0,Ve=ie=It=null,Hh=!1,vc=0,Ho=null,a)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&Oh(s)&&(je=!0))}function o0(s,a,l,u){It=s;var g=0;do{if(Fo&&(Ho=null),vc=0,Fo=!1,25<=g)throw Error(i(301));if(g+=1,Ve=ie=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=H0,y=a(l,u)}while(Fo);return y}function HC(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?bc(a):a,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(It.flags|=1024),a}function lg(){var s=qh!==0;return qh=0,s}function cg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function ug(s){if(Hh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Hh=!1}Rs=0,Ve=ie=It=null,Fo=!1,vc=qh=0,Ho=null}function vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?It.memoizedState=Ve=s:Ve=Ve.next=s,Ve}function Ae(){if(ie===null){var s=It.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var a=Ve===null?It.memoizedState:Ve.next;if(a!==null)Ve=a,ie=s;else{if(s===null)throw It.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?It.memoizedState=Ve=s:Ve=Ve.next=s}return Ve}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(s){var a=vc;return vc+=1,Ho===null&&(Ho=[]),s=Xv(Ho,s,a),a=It,(Ve===null?a.memoizedState:Ve.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?F0:Eg),s}function $h(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bc(s);if(s.$$typeof===q)return nn(s)}throw Error(i(438,String(s)))}function hg(s){var a=null,l=It.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=It.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Gh(),It.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function Cs(s,a){return typeof a=="function"?a(s):a}function Yh(s){var a=Ae();return fg(a,ie,s)}function fg(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,y=u.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}a.baseQueue=g=y,u.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var A=E=null,V=null,Y=a,nt=!1;do{var at=Y.lane&-536870913;if(at!==Y.lane?(Lt&at)===at:(Rs&at)===at){var K=Y.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),at===Vo&&(nt=!0);else if((Rs&K)===K){Y=Y.next,K===Vo&&(nt=!0);continue}else at={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(A=V=at,E=y):V=V.next=at,It.lanes|=K,Tr|=K;at=Y.action,ka&&l(y,at),y=Y.hasEagerState?Y.eagerState:l(y,at)}else K={lane:at,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(A=V=K,E=y):V=V.next=K,It.lanes|=at,Tr|=at;Y=Y.next}while(Y!==null&&Y!==a);if(V===null?E=y:V.next=A,!On(y,s.memoizedState)&&(je=!0,nt&&(l=jo,l!==null)))throw l;s.memoizedState=y,s.baseState=E,s.baseQueue=V,u.lastRenderedState=y}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function dg(s){var a=Ae(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=s(y,E.action),E=E.next;while(E!==g);On(y,a.memoizedState)||(je=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function l0(s,a,l){var u=It,g=Ae(),y=Bt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!On((ie||g).memoizedState,l);if(E&&(g.memoizedState=l,je=!0),g=g.queue,pg(h0.bind(null,u,g,s),[s]),g.getSnapshot!==a||E||Ve!==null&&Ve.memoizedState.tag&1){if(u.flags|=2048,qo(9,{destroy:void 0},u0.bind(null,u,g,l,a),null),ae===null)throw Error(i(349));y||(Rs&127)!==0||c0(u,a,l)}return l}function c0(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=It.updateQueue,a===null?(a=Gh(),It.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function u0(s,a,l,u){a.value=l,a.getSnapshot=u,f0(a)&&d0(s)}function h0(s,a,l){return l(function(){f0(a)&&d0(s)})}function f0(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!On(s,l)}catch{return!0}}function d0(s){var a=Sa(s,2);a!==null&&Rn(a,s,2)}function mg(s){var a=vn();if(typeof s=="function"){var l=s;if(s=l(),ka){Gn(!0);try{l()}finally{Gn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:s},a}function m0(s,a,l,u){return s.baseState=l,fg(s,ie,typeof u=="function"?u:Cs)}function qC(s,a,l,u,g){if(Qh(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};Q.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,g0(a,y)):(y.next=l.next,a.pending=l.next=y)}}function g0(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var y=Q.T,E={};Q.T=E;try{var A=l(g,u),V=Q.S;V!==null&&V(E,A),p0(s,a,A)}catch(Y){gg(s,a,Y)}finally{y!==null&&E.types!==null&&(y.types=E.types),Q.T=y}}else try{y=l(g,u),p0(s,a,y)}catch(Y){gg(s,a,Y)}}function p0(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){y0(s,a,u)},function(u){return gg(s,a,u)}):y0(s,a,l)}function y0(s,a,l){a.status="fulfilled",a.value=l,_0(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,g0(s,l)))}function gg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,_0(a),a=a.next;while(a!==u)}s.action=null}function _0(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function v0(s,a){return a}function b0(s,a){if(Bt){var l=ae.formState;if(l!==null){t:{var u=It;if(Bt){if(ce){e:{for(var g=ce,y=ti;g.nodeType!==8;){if(!y){g=null;break e}if(g=ni(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ce=ni(g.nextSibling),u=g.data==="F!";break t}}fr(u)}u=!1}u&&(a=l[0])}}return l=vn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:a},l.queue=u,l=U0.bind(null,It,u),u.dispatch=l,u=mg(!1),y=Tg.bind(null,It,!1,u.queue),u=vn(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=qC.bind(null,It,g,y,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function T0(s){var a=Ae();return E0(a,ie,s)}function E0(s,a,l){if(a=fg(s,a,v0)[0],s=Yh(Cs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=bc(a)}catch(E){throw E===Uo?Vh:E}else u=a;a=Ae();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(It.flags|=2048,qo(9,{destroy:void 0},GC.bind(null,g,l),null)),[u,y,s]}function GC(s,a){s.action=a}function S0(s){var a=Ae(),l=ie;if(l!==null)return E0(a,l,s);Ae(),a=a.memoizedState,l=Ae();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function qo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=It.updateQueue,a===null&&(a=Gh(),It.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function w0(){return Ae().memoizedState}function Kh(s,a,l,u){var g=vn();It.flags|=s,g.memoizedState=qo(1|a,{destroy:void 0},l,u===void 0?null:u)}function Wh(s,a,l,u){var g=Ae();u=u===void 0?null:u;var y=g.memoizedState.inst;ie!==null&&u!==null&&ag(u,ie.memoizedState.deps)?g.memoizedState=qo(a,y,l,u):(It.flags|=s,g.memoizedState=qo(1|a,y,l,u))}function x0(s,a){Kh(8390656,8,s,a)}function pg(s,a){Wh(2048,8,s,a)}function $C(s){It.flags|=4;var a=It.updateQueue;if(a===null)a=Gh(),It.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function A0(s){var a=Ae().memoizedState;return $C({ref:a,nextImpl:s}),function(){if((Wt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function R0(s,a){return Wh(4,2,s,a)}function C0(s,a){return Wh(4,4,s,a)}function I0(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function N0(s,a,l){l=l!=null?l.concat([s]):null,Wh(4,4,I0.bind(null,a,s),l)}function yg(){}function D0(s,a){var l=Ae();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&ag(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function k0(s,a){var l=Ae();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&ag(a,u[1]))return u[0];if(u=s(),ka){Gn(!0);try{s()}finally{Gn(!1)}}return l.memoizedState=[u,a],u}function _g(s,a,l){return l===void 0||(Rs&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=Mb(),It.lanes|=s,Tr|=s,l)}function M0(s,a,l,u){return On(l,a)?l:Bo.current!==null?(s=_g(s,l,u),On(s,a)||(je=!0),s):(Rs&42)===0||(Rs&1073741824)!==0&&(Lt&261930)===0?(je=!0,s.memoizedState=l):(s=Mb(),It.lanes|=s,Tr|=s,a)}function O0(s,a,l,u,g){var y=lt.p;lt.p=y!==0&&8>y?y:8;var E=Q.T,A={};Q.T=A,Tg(s,!1,a,l);try{var V=g(),Y=Q.S;if(Y!==null&&Y(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var nt=BC(V,u);Tc(s,a,nt,zn(s))}else Tc(s,a,u,zn(s))}catch(at){Tc(s,a,{then:function(){},status:"rejected",reason:at},zn())}finally{lt.p=y,E!==null&&A.types!==null&&(E.types=A.types),Q.T=E}}function YC(){}function vg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var g=P0(s).queue;O0(s,g,a,_t,l===null?YC:function(){return L0(s),l(u)})}function P0(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:_t,baseState:_t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:_t},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function L0(s){var a=P0(s);a.next===null&&(a=s.alternate.memoizedState),Tc(s,a.next.queue,{},zn())}function bg(){return nn(jc)}function V0(){return Ae().memoizedState}function j0(){return Ae().memoizedState}function KC(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=zn();s=gr(l);var u=pr(a,s,l);u!==null&&(Rn(u,a,l),pc(u,a,l)),a={cache:Wm()},s.payload=a;return}a=a.return}}function WC(s,a,l){var u=zn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qh(s)?z0(a,l):(l=jm(s,a,l,u),l!==null&&(Rn(l,s,u),B0(l,a,u)))}function U0(s,a,l){var u=zn();Tc(s,a,l,u)}function Tc(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))z0(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,A=y(E,l);if(g.hasEagerState=!0,g.eagerState=A,On(A,E))return Nh(s,a,g,0),ae===null&&Ih(),!1}catch{}if(l=jm(s,a,g,u),l!==null)return Rn(l,s,u),B0(l,a,u),!0}return!1}function Tg(s,a,l,u){if(u={lane:2,revertLane:Zg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qh(s)){if(a)throw Error(i(479))}else a=jm(s,l,u,2),a!==null&&Rn(a,s,2)}function Qh(s){var a=s.alternate;return s===It||a!==null&&a===It}function z0(s,a){Fo=Hh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function B0(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Hl(s,l)}}var Ec={readContext:nn,use:$h,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ec.useEffectEvent=ve;var F0={readContext:nn,use:$h,useCallback:function(s,a){return vn().memoizedState=[s,a===void 0?null:a],s},useContext:nn,useEffect:x0,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Kh(4194308,4,I0.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Kh(4194308,4,s,a)},useInsertionEffect:function(s,a){Kh(4,2,s,a)},useMemo:function(s,a){var l=vn();a=a===void 0?null:a;var u=s();if(ka){Gn(!0);try{s()}finally{Gn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=vn();if(l!==void 0){var g=l(a);if(ka){Gn(!0);try{l(a)}finally{Gn(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=WC.bind(null,It,s),[u.memoizedState,s]},useRef:function(s){var a=vn();return s={current:s},a.memoizedState=s},useState:function(s){s=mg(s);var a=s.queue,l=U0.bind(null,It,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:yg,useDeferredValue:function(s,a){var l=vn();return _g(l,s,a)},useTransition:function(){var s=mg(!1);return s=O0.bind(null,It,s.queue,!0,!1),vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=It,g=vn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Lt&127)!==0||c0(u,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,x0(h0.bind(null,u,y,s),[s]),u.flags|=2048,qo(9,{destroy:void 0},u0.bind(null,u,y,l,a),null),l},useId:function(){var s=vn(),a=ae.identifierPrefix;if(Bt){var l=Ji,u=Xi;l=(u&~(1<<32-Se(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=qh++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=FC++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:bg,useFormState:b0,useActionState:b0,useOptimistic:function(s){var a=vn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Tg.bind(null,It,!0,l),l.dispatch=a,[s,a]},useMemoCache:hg,useCacheRefresh:function(){return vn().memoizedState=KC.bind(null,It)},useEffectEvent:function(s){var a=vn(),l={impl:s};return a.memoizedState=l,function(){if((Wt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Eg={readContext:nn,use:$h,useCallback:D0,useContext:nn,useEffect:pg,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:C0,useMemo:k0,useReducer:Yh,useRef:w0,useState:function(){return Yh(Cs)},useDebugValue:yg,useDeferredValue:function(s,a){var l=Ae();return M0(l,ie.memoizedState,s,a)},useTransition:function(){var s=Yh(Cs)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:bc(s),a]},useSyncExternalStore:l0,useId:V0,useHostTransitionStatus:bg,useFormState:T0,useActionState:T0,useOptimistic:function(s,a){var l=Ae();return m0(l,ie,s,a)},useMemoCache:hg,useCacheRefresh:j0};Eg.useEffectEvent=A0;var H0={readContext:nn,use:$h,useCallback:D0,useContext:nn,useEffect:pg,useImperativeHandle:N0,useInsertionEffect:R0,useLayoutEffect:C0,useMemo:k0,useReducer:dg,useRef:w0,useState:function(){return dg(Cs)},useDebugValue:yg,useDeferredValue:function(s,a){var l=Ae();return ie===null?_g(l,s,a):M0(l,ie.memoizedState,s,a)},useTransition:function(){var s=dg(Cs)[0],a=Ae().memoizedState;return[typeof s=="boolean"?s:bc(s),a]},useSyncExternalStore:l0,useId:V0,useHostTransitionStatus:bg,useFormState:S0,useActionState:S0,useOptimistic:function(s,a){var l=Ae();return ie!==null?m0(l,ie,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:hg,useCacheRefresh:j0};H0.useEffectEvent=A0;function Sg(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var wg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=zn(),g=gr(u);g.payload=a,l!=null&&(g.callback=l),a=pr(s,g,u),a!==null&&(Rn(a,s,u),pc(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=zn(),g=gr(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=pr(s,g,u),a!==null&&(Rn(a,s,u),pc(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=zn(),u=gr(l);u.tag=2,a!=null&&(u.callback=a),a=pr(s,u,l),a!==null&&(Rn(a,s,l),pc(a,s,l))}};function q0(s,a,l,u,g,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,E):a.prototype&&a.prototype.isPureReactComponent?!lc(l,u)||!lc(g,y):!0}function G0(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&wg.enqueueReplaceState(a,a.state,null)}function Ma(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function $0(s){Ch(s)}function Y0(s){console.error(s)}function K0(s){Ch(s)}function Xh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function W0(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function xg(s,a,l){return l=gr(l),l.tag=3,l.payload={element:null},l.callback=function(){Xh(s,a)},l}function Q0(s){return s=gr(s),s.tag=3,s}function X0(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;s.payload=function(){return g(y)},s.callback=function(){W0(a,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){W0(a,l,u),typeof g!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function QC(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Lo(a,l,g,!0),l=Ln.current,l!==null){switch(l.tag){case 31:case 13:return ei===null?uf():l.alternate===null&&be===0&&(be=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===jh?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Qg(s,u,g)),!1;case 22:return l.flags|=65536,u===jh?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Qg(s,u,g)),!1}throw Error(i(435,l.tag))}return Qg(s,u,g),uf(),!1}if(Bt)return a=Ln.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==qm&&(s=Error(i(422),{cause:u}),hc(Xn(s,l)))):(u!==qm&&(a=Error(i(423),{cause:u}),hc(Xn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Xn(u,l),g=xg(s.stateNode,u,g),eg(s,g),be!==4&&(be=2)),!1;var y=Error(i(520),{cause:u});if(y=Xn(y,l),Nc===null?Nc=[y]:Nc.push(y),be!==4&&(be=2),a===null)return!0;u=Xn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=xg(l.stateNode,u,s),eg(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Er===null||!Er.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Q0(g),X0(g,s,l,u),eg(l,g),!1}l=l.return}while(l!==null);return!1}var Ag=Error(i(461)),je=!1;function sn(s,a,l,u){a.child=s===null?e0(a,null,l,u):Da(a,s.child,l,u)}function J0(s,a,l,u,g){l=l.render;var y=a.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return Ra(a),u=og(s,a,l,E,y,g),A=lg(),s!==null&&!je?(cg(s,a,g),Is(s,a,g)):(Bt&&A&&Fm(a),a.flags|=1,sn(s,a,u,g),a.child)}function Z0(s,a,l,u,g){if(s===null){var y=l.type;return typeof y=="function"&&!Um(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,tb(s,a,y,u,g)):(s=kh(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Og(s,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:lc,l(E,u)&&s.ref===a.ref)return Is(s,a,g)}return a.flags|=1,s=Ss(y,u),s.ref=a.ref,s.return=a,a.child=s}function tb(s,a,l,u,g){if(s!==null){var y=s.memoizedProps;if(lc(y,u)&&s.ref===a.ref)if(je=!1,a.pendingProps=u=y,Og(s,g))(s.flags&131072)!==0&&(je=!0);else return a.lanes=s.lanes,Is(s,a,g)}return Rg(s,a,l,u,g)}function eb(s,a,l,u){var g=u.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,a.child=null;return nb(s,a,y,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Lh(a,y!==null?y.cachePool:null),y!==null?s0(a,y):ig(),r0(a);else return u=a.lanes=536870912,nb(s,a,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(Lh(a,y.cachePool),s0(a,y),_r(),a.memoizedState=null):(s!==null&&Lh(a,null),ig(),_r());return sn(s,a,g,l),a.child}function Sc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function nb(s,a,l,u,g){var y=Xm();return y=y===null?null:{parent:Le._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},s!==null&&Lh(a,null),ig(),r0(a),s!==null&&Lo(s,a,u,!0),a.childLanes=g,null}function Jh(s,a){return a=tf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function ib(s,a,l){return Da(a,s.child,null,l),s=Jh(a,a.pendingProps),s.flags|=2,Vn(a),a.memoizedState=null,s}function XC(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=Jh(a,u),a.lanes=536870912,Sc(null,s);if(rg(a),(s=ce)?(s=gT(s,ti),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ur!==null?{id:Xi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},l=zv(s),l.return=a,a.child=l,en=a,ce=null)):s=null,s===null)throw fr(a);return a.lanes=536870912,null}return Jh(a,u)}var y=s.memoizedState;if(y!==null){var E=y.dehydrated;if(rg(a),g)if(a.flags&256)a.flags&=-257,a=ib(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(je||Lo(s,a,l,!1),g=(l&s.childLanes)!==0,je||g){if(u=ae,u!==null&&(E=ql(u,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Sa(s,E),Rn(u,s,E),Ag;uf(),a=ib(s,a,l)}else s=y.treeContext,ce=ni(E.nextSibling),en=a,Bt=!0,hr=null,ti=!1,s!==null&&Hv(a,s),a=Jh(a,u),a.flags|=4096;return a}return s=Ss(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Zh(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Rg(s,a,l,u,g){return Ra(a),l=og(s,a,l,u,void 0,g),u=lg(),s!==null&&!je?(cg(s,a,g),Is(s,a,g)):(Bt&&u&&Fm(a),a.flags|=1,sn(s,a,l,g),a.child)}function sb(s,a,l,u,g,y){return Ra(a),a.updateQueue=null,l=o0(a,u,l,g),a0(s),u=lg(),s!==null&&!je?(cg(s,a,y),Is(s,a,y)):(Bt&&u&&Fm(a),a.flags|=1,sn(s,a,l,y),a.child)}function rb(s,a,l,u,g){if(Ra(a),a.stateNode===null){var y=ko,E=l.contextType;typeof E=="object"&&E!==null&&(y=nn(E)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=wg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Zm(a),E=l.contextType,y.context=typeof E=="object"&&E!==null?nn(E):ko,y.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Sg(a,l,E,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&wg.enqueueReplaceState(y,y.state,null),_c(a,u,y,g),yc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var A=a.memoizedProps,V=Ma(l,A);y.props=V;var Y=y.context,nt=l.contextType;E=ko,typeof nt=="object"&&nt!==null&&(E=nn(nt));var at=l.getDerivedStateFromProps;nt=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,nt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A||Y!==E)&&G0(a,y,u,E),mr=!1;var K=a.memoizedState;y.state=K,_c(a,u,y,g),yc(),Y=a.memoizedState,A||K!==Y||mr?(typeof at=="function"&&(Sg(a,l,at,u),Y=a.memoizedState),(V=mr||q0(a,l,V,u,K,Y,E))?(nt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),y.props=u,y.state=Y,y.context=E,u=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,tg(s,a),E=a.memoizedProps,nt=Ma(l,E),y.props=nt,at=a.pendingProps,K=y.context,Y=l.contextType,V=ko,typeof Y=="object"&&Y!==null&&(V=nn(Y)),A=l.getDerivedStateFromProps,(Y=typeof A=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==at||K!==V)&&G0(a,y,u,V),mr=!1,K=a.memoizedState,y.state=K,_c(a,u,y,g),yc();var Z=a.memoizedState;E!==at||K!==Z||mr||s!==null&&s.dependencies!==null&&Oh(s.dependencies)?(typeof A=="function"&&(Sg(a,l,A,u),Z=a.memoizedState),(nt=mr||q0(a,l,nt,u,K,Z,V)||s!==null&&s.dependencies!==null&&Oh(s.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Z),y.props=u,y.state=Z,y.context=V,u=nt):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,Zh(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=Da(a,s.child,null,g),a.child=Da(a,null,l,g)):sn(s,a,l,g),a.memoizedState=y.state,s=a.child):s=Is(s,a,g),s}function ab(s,a,l,u){return xa(),a.flags|=256,sn(s,a,l,u),a.child}var Cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ig(s){return{baseLanes:s,cachePool:Wv()}}function Ng(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Un),s}function ob(s,a,l){var u=a.pendingProps,g=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(xe.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Bt){if(g?yr(a):_r(),(s=ce)?(s=gT(s,ti),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:ur!==null?{id:Xi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},l=zv(s),l.return=a,a.child=l,en=a,ce=null)):s=null,s===null)throw fr(a);return fp(s)?a.lanes=32:a.lanes=536870912,null}var A=u.children;return u=u.fallback,g?(_r(),g=a.mode,A=tf({mode:"hidden",children:A},g),u=wa(u,g,l,null),A.return=a,u.return=a,A.sibling=u,a.child=A,u=a.child,u.memoizedState=Ig(l),u.childLanes=Ng(s,E,l),a.memoizedState=Cg,Sc(null,u)):(yr(a),Dg(a,A))}var V=s.memoizedState;if(V!==null&&(A=V.dehydrated,A!==null)){if(y)a.flags&256?(yr(a),a.flags&=-257,a=kg(s,a,l)):a.memoizedState!==null?(_r(),a.child=s.child,a.flags|=128,a=null):(_r(),A=u.fallback,g=a.mode,u=tf({mode:"visible",children:u.children},g),A=wa(A,g,l,null),A.flags|=2,u.return=a,A.return=a,u.sibling=A,a.child=u,Da(a,s.child,null,l),u=a.child,u.memoizedState=Ig(l),u.childLanes=Ng(s,E,l),a.memoizedState=Cg,a=Sc(null,u));else if(yr(a),fp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,hc({value:u,source:null,stack:null}),a=kg(s,a,l)}else if(je||Lo(s,a,l,!1),E=(l&s.childLanes)!==0,je||E){if(E=ae,E!==null&&(u=ql(E,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,Sa(s,u),Rn(E,s,u),Ag;hp(A)||uf(),a=kg(s,a,l)}else hp(A)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,ce=ni(A.nextSibling),en=a,Bt=!0,hr=null,ti=!1,s!==null&&Hv(a,s),a=Dg(a,u.children),a.flags|=4096);return a}return g?(_r(),A=u.fallback,g=a.mode,V=s.child,Y=V.sibling,u=Ss(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?A=Ss(Y,A):(A=wa(A,g,l,null),A.flags|=2),A.return=a,u.return=a,u.sibling=A,a.child=u,Sc(null,u),u=a.child,A=s.child.memoizedState,A===null?A=Ig(l):(g=A.cachePool,g!==null?(V=Le._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=Wv(),A={baseLanes:A.baseLanes|l,cachePool:g}),u.memoizedState=A,u.childLanes=Ng(s,E,l),a.memoizedState=Cg,Sc(s.child,u)):(yr(a),l=s.child,s=l.sibling,l=Ss(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function Dg(s,a){return a=tf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function tf(s,a){return s=Pn(22,s,null,a),s.lanes=0,s}function kg(s,a,l){return Da(a,s.child,null,l),s=Dg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function lb(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Ym(s.return,a,l)}function Mg(s,a,l,u,g,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=l,E.tailMode=g,E.treeForkCount=y)}function cb(s,a,l){var u=a.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var E=xe.current,A=(E&2)!==0;if(A?(E=E&1|2,a.flags|=128):E&=1,ct(xe,E),sn(s,a,u,l),u=Bt?uc:0,!A&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lb(s,l,a);else if(s.tag===19)lb(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Fh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Mg(a,!1,g,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Fh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Mg(a,!0,l,null,y,u);break;case"together":Mg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Is(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Tr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Lo(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Ss(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Ss(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Og(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Oh(s)))}function JC(s,a,l){switch(a.tag){case 3:He(a,a.stateNode.containerInfo),dr(a,Le,s.memoizedState.cache),xa();break;case 27:case 5:ra(a);break;case 4:He(a,a.stateNode.containerInfo);break;case 10:dr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,rg(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(yr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ob(s,a,l):(yr(a),s=Is(s,a,l),s!==null?s.sibling:null);yr(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Lo(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return cb(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(xe,xe.current),u)break;return null;case 22:return a.lanes=0,eb(s,a,l,a.pendingProps);case 24:dr(a,Le,s.memoizedState.cache)}return Is(s,a,l)}function ub(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)je=!0;else{if(!Og(s,l)&&(a.flags&128)===0)return je=!1,JC(s,a,l);je=(s.flags&131072)!==0}else je=!1,Bt&&(a.flags&1048576)!==0&&Fv(a,uc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var u=a.pendingProps;if(s=Ia(a.elementType),a.type=s,typeof s=="function")Um(s)?(u=Ma(s,u),a.tag=1,a=rb(null,a,s,u,l)):(a.tag=0,a=Rg(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===et){a.tag=11,a=J0(null,a,s,u,l);break t}else if(g===k){a.tag=14,a=Z0(null,a,s,u,l);break t}}throw a=wt(s)||s,Error(i(306,a,""))}}return a;case 0:return Rg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=Ma(u,a.pendingProps),rb(s,a,u,g,l);case 3:t:{if(He(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var y=a.memoizedState;g=y.element,tg(s,a),_c(a,u,null,l);var E=a.memoizedState;if(u=E.cache,dr(a,Le,u),u!==y.cache&&Km(a,[Le],l,!0),yc(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=ab(s,a,u,l);break t}else if(u!==g){g=Xn(Error(i(424)),a),hc(g),a=ab(s,a,u,l);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ce=ni(s.firstChild),en=a,Bt=!0,hr=null,ti=!0,l=e0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xa(),u===g){a=Is(s,a,l);break t}sn(s,a,u,l)}a=a.child}return a;case 26:return Zh(s,a),s===null?(l=TT(a.type,null,a.pendingProps,null))?a.memoizedState=l:Bt||(l=a.type,s=a.pendingProps,u=yf(pt.current).createElement(l),u[Me]=a,u[Ke]=s,rn(u,l,s),Oe(u),a.stateNode=u):a.memoizedState=TT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ra(a),s===null&&Bt&&(u=a.stateNode=_T(a.type,a.pendingProps,pt.current),en=a,ti=!0,g=ce,Ar(a.type)?(dp=g,ce=ni(u.firstChild)):ce=g),sn(s,a,a.pendingProps.children,l),Zh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Bt&&((g=u=ce)&&(u=C2(u,a.type,a.pendingProps,ti),u!==null?(a.stateNode=u,en=a,ce=ni(u.firstChild),ti=!1,g=!0):g=!1),g||fr(a)),ra(a),g=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,u=y.children,lp(g,y)?u=null:E!==null&&lp(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=og(s,a,HC,null,null,l),jc._currentValue=g),Zh(s,a),sn(s,a,u,l),a.child;case 6:return s===null&&Bt&&((s=l=ce)&&(l=I2(l,a.pendingProps,ti),l!==null?(a.stateNode=l,en=a,ce=null,s=!0):s=!1),s||fr(a)),null;case 13:return ob(s,a,l);case 4:return He(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Da(a,null,u,l):sn(s,a,u,l),a.child;case 11:return J0(s,a,a.type,a.pendingProps,l);case 7:return sn(s,a,a.pendingProps,l),a.child;case 8:return sn(s,a,a.pendingProps.children,l),a.child;case 12:return sn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,dr(a,a.type,u.value),sn(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Ra(a),g=nn(g),u=u(g),a.flags|=1,sn(s,a,u,l),a.child;case 14:return Z0(s,a,a.type,a.pendingProps,l);case 15:return tb(s,a,a.type,a.pendingProps,l);case 19:return cb(s,a,l);case 31:return XC(s,a,l);case 22:return eb(s,a,l,a.pendingProps);case 24:return Ra(a),u=nn(Le),s===null?(g=Xm(),g===null&&(g=ae,y=Wm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:u,cache:g},Zm(a),dr(a,Le,g)):((s.lanes&l)!==0&&(tg(s,a),_c(a,null,null,l),yc()),g=s.memoizedState,y=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),dr(a,Le,u)):(u=y.cache,dr(a,Le,u),u!==g.cache&&Km(a,[Le],l,!0))),sn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ns(s){s.flags|=4}function Pg(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Vb())s.flags|=8192;else throw Na=jh,Jm}else s.flags&=-16777217}function hb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!AT(a))if(Vb())s.flags|=8192;else throw Na=jh,Jm}function ef(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?oh():536870912,s.lanes|=a,Ko|=a)}function wc(s,a){if(!Bt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function ZC(s,a,l){var u=a.pendingProps;switch(Hm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(a),null;case 1:return ue(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),As(Le),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Po(a)?Ns(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Gm())),ue(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Ns(a),y!==null?(ue(a),hb(a,y)):(ue(a),Pg(a,g,null,u,l))):y?y!==s.memoizedState?(Ns(a),ue(a),hb(a,y)):(ue(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&Ns(a),ue(a),Pg(a,g,s,u,l)),null;case 27:if(fo(a),l=pt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ns(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}s=W.current,Po(a)?qv(a):(s=_T(g,u,l),a.stateNode=s,Ns(a))}return ue(a),null;case 5:if(fo(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Ns(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ue(a),null}if(y=W.current,Po(a))qv(a);else{var E=yf(pt.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}y[Me]=a,y[Ke]=u;t:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break t;for(;E.sibling===null;){if(E.return===null||E.return===a)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=y;t:switch(rn(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&Ns(a)}}return ue(a),Pg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Ns(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=pt.current,Po(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=en,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Me]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||oT(s.nodeValue,l)),s||fr(a,!0)}else s=yf(s).createTextNode(u),s[Me]=a,a.stateNode=s}return ue(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=Po(a),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Me]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),s=!1}else l=Gm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?(Vn(a),a):(Vn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ue(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=Po(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Me]=a}else xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ue(a),g=!1}else g=Gm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Vn(a),a):(Vn(a),null)}return Vn(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),ef(a,a.updateQueue),ue(a),null);case 4:return de(),s===null&&ip(a.stateNode.containerInfo),ue(a),null;case 10:return As(a.type),ue(a),null;case 19:if(it(xe),u=a.memoizedState,u===null)return ue(a),null;if(g=(a.flags&128)!==0,y=u.rendering,y===null)if(g)wc(u,!1);else{if(be!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Fh(s),y!==null){for(a.flags|=128,wc(u,!1),s=y.updateQueue,a.updateQueue=s,ef(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)Uv(l,s),l=l.sibling;return ct(xe,xe.current&1|2),Bt&&ws(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&yn()>of&&(a.flags|=128,g=!0,wc(u,!1),a.lanes=4194304)}else{if(!g)if(s=Fh(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,ef(a,s),wc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!Bt)return ue(a),null}else 2*yn()-u.renderingStartTime>of&&l!==536870912&&(a.flags|=128,g=!0,wc(u,!1),a.lanes=4194304);u.isBackwards?(y.sibling=a.child,a.child=y):(s=u.last,s!==null?s.sibling=y:a.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=yn(),s.sibling=null,l=xe.current,ct(xe,g?l&1|2:l&1),Bt&&ws(a,u.treeForkCount),s):(ue(a),null);case 22:case 23:return Vn(a),sg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ue(a),a.subtreeFlags&6&&(a.flags|=8192)):ue(a),l=a.updateQueue,l!==null&&ef(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&it(Ca),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),As(Le),ue(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function t2(s,a){switch(Hm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return As(Le),de(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return fo(a),null;case 31:if(a.memoizedState!==null){if(Vn(a),a.alternate===null)throw Error(i(340));xa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Vn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));xa()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return it(xe),null;case 4:return de(),null;case 10:return As(a.type),null;case 22:case 23:return Vn(a),sg(),s!==null&&it(Ca),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return As(Le),null;case 25:return null;default:return null}}function fb(s,a){switch(Hm(a),a.tag){case 3:As(Le),de();break;case 26:case 27:case 5:fo(a);break;case 4:de();break;case 31:a.memoizedState!==null&&Vn(a);break;case 13:Vn(a);break;case 19:it(xe);break;case 10:As(a.type);break;case 22:case 23:Vn(a),sg(),s!==null&&it(Ca);break;case 24:As(Le)}}function xc(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var y=l.create,E=l.inst;u=y(),E.destroy=u}l=l.next}while(l!==g)}}catch(A){te(a,a.return,A)}}function vr(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&s)===s){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,g=a;var V=l,Y=A;try{Y()}catch(nt){te(g,V,nt)}}}u=u.next}while(u!==y)}}catch(nt){te(a,a.return,nt)}}function db(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{i0(a,l)}catch(u){te(s,s.return,u)}}}function mb(s,a,l){l.props=Ma(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){te(s,a,u)}}function Ac(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){te(s,a,g)}}function Zi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){te(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){te(s,a,g)}else l.current=null}function gb(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){te(s,s.return,g)}}function Lg(s,a,l){try{var u=s.stateNode;E2(u,s.type,l,a),u[Ke]=a}catch(g){te(s,s.return,g)}}function pb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ar(s.type)||s.tag===4}function Vg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||pb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ar(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=pi));else if(u!==4&&(u===27&&Ar(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(jg(s,a,l),s=s.sibling;s!==null;)jg(s,a,l),s=s.sibling}function nf(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&Ar(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(nf(s,a,l),s=s.sibling;s!==null;)nf(s,a,l),s=s.sibling}function yb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);rn(a,u,l),a[Me]=s,a[Ke]=l}catch(y){te(s,s.return,y)}}var Ds=!1,Ue=!1,Ug=!1,_b=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function e2(s,a){if(s=s.containerInfo,ap=wf,s=Nv(s),km(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var E=0,A=-1,V=-1,Y=0,nt=0,at=s,K=null;e:for(;;){for(var Z;at!==l||g!==0&&at.nodeType!==3||(A=E+g),at!==y||u!==0&&at.nodeType!==3||(V=E+u),at.nodeType===3&&(E+=at.nodeValue.length),(Z=at.firstChild)!==null;)K=at,at=Z;for(;;){if(at===s)break e;if(K===l&&++Y===g&&(A=E),K===y&&++nt===u&&(V=E),(Z=at.nextSibling)!==null)break;at=K,K=at.parentNode}at=Z}l=A===-1||V===-1?null:{start:A,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(op={focusedElem:s,selectionRange:l},wf=!1,Qe=a;Qe!==null;)if(a=Qe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Qe=s;else for(;Qe!==null;){switch(a=Qe,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var gt=Ma(l.type,g);s=u.getSnapshotBeforeUpdate(gt,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Tt){te(l,l.return,Tt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)up(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":up(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Qe=s;break}Qe=a.return}}function vb(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(s,l),u&4&&xc(5,l);break;case 1:if(Ms(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(E){te(l,l.return,E)}else{var g=Ma(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){te(l,l.return,E)}}u&64&&db(l),u&512&&Ac(l,l.return);break;case 3:if(Ms(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{i0(s,a)}catch(E){te(l,l.return,E)}}break;case 27:a===null&&u&4&&yb(l);case 26:case 5:Ms(s,l),a===null&&u&4&&gb(l),u&512&&Ac(l,l.return);break;case 12:Ms(s,l);break;case 31:Ms(s,l),u&4&&Eb(s,l);break;case 13:Ms(s,l),u&4&&Sb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=u2.bind(null,l),N2(s,l))));break;case 22:if(u=l.memoizedState!==null||Ds,!u){a=a!==null&&a.memoizedState!==null||Ue,g=Ds;var y=Ue;Ds=u,(Ue=a)&&!y?Os(s,l,(l.subtreeFlags&8772)!==0):Ms(s,l),Ds=g,Ue=y}break;case 30:break;default:Ms(s,l)}}function bb(s){var a=s.alternate;a!==null&&(s.alternate=null,bb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&_o(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,Sn=!1;function ks(s,a,l){for(l=l.child;l!==null;)Tb(s,a,l),l=l.sibling}function Tb(s,a,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(fi,l)}catch{}switch(l.tag){case 26:Ue||Zi(l,a),ks(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ue||Zi(l,a);var u=ge,g=Sn;Ar(l.type)&&(ge=l.stateNode,Sn=!1),ks(s,a,l),Pc(l.stateNode),ge=u,Sn=g;break;case 5:Ue||Zi(l,a);case 6:if(u=ge,g=Sn,ge=null,ks(s,a,l),ge=u,Sn=g,ge!==null)if(Sn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(y){te(l,a,y)}else try{ge.removeChild(l.stateNode)}catch(y){te(l,a,y)}break;case 18:ge!==null&&(Sn?(s=ge,dT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),nl(s)):dT(ge,l.stateNode));break;case 4:u=ge,g=Sn,ge=l.stateNode.containerInfo,Sn=!0,ks(s,a,l),ge=u,Sn=g;break;case 0:case 11:case 14:case 15:vr(2,l,a),Ue||vr(4,l,a),ks(s,a,l);break;case 1:Ue||(Zi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&mb(l,a,u)),ks(s,a,l);break;case 21:ks(s,a,l);break;case 22:Ue=(u=Ue)||l.memoizedState!==null,ks(s,a,l),Ue=u;break;default:ks(s,a,l)}}function Eb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{nl(s)}catch(l){te(a,a.return,l)}}}function Sb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{nl(s)}catch(l){te(a,a.return,l)}}function n2(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new _b),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new _b),a;default:throw Error(i(435,s.tag))}}function sf(s,a){var l=n2(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=h2.bind(null,s,u);u.then(g,g)}})}function wn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],y=s,E=a,A=E;t:for(;A!==null;){switch(A.tag){case 27:if(Ar(A.type)){ge=A.stateNode,Sn=!1;break t}break;case 5:ge=A.stateNode,Sn=!1;break t;case 3:case 4:ge=A.stateNode.containerInfo,Sn=!0;break t}A=A.return}if(ge===null)throw Error(i(160));Tb(y,E,g),ge=null,Sn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)wb(a,s),a=a.sibling}var Ei=null;function wb(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wn(a,s),xn(s),u&4&&(vr(3,s,s.return),xc(3,s),vr(5,s,s.return));break;case 1:wn(a,s),xn(s),u&512&&(Ue||l===null||Zi(l,l.return)),u&64&&Ds&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Ei;if(wn(a,s),xn(s),u&512&&(Ue||l===null||Zi(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ui]||y[Me]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),rn(y,u,l),y[Me]=s,Oe(y),u=y;break t;case"link":var E=wT("link","href",g).get(u+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(y=E[A],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break e}}y=g.createElement(u),rn(y,u,l),g.head.appendChild(y);break;case"meta":if(E=wT("meta","content",g).get(u+(l.content||""))){for(A=0;A<E.length;A++)if(y=E[A],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break e}}y=g.createElement(u),rn(y,u,l),g.head.appendChild(y);break;default:throw Error(i(468,u))}y[Me]=s,Oe(y),u=y}s.stateNode=u}else xT(g,s.type,s.stateNode);else s.stateNode=ST(g,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?xT(g,s.type,s.stateNode):ST(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Lg(s,s.memoizedProps,l.memoizedProps)}break;case 27:wn(a,s),xn(s),u&512&&(Ue||l===null||Zi(l,l.return)),l!==null&&u&4&&Lg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(wn(a,s),xn(s),u&512&&(Ue||l===null||Zi(l,l.return)),s.flags&32){g=s.stateNode;try{En(g,"")}catch(gt){te(s,s.return,gt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Lg(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Ug=!0);break;case 6:if(wn(a,s),xn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(gt){te(s,s.return,gt)}}break;case 3:if(bf=null,g=Ei,Ei=_f(a.containerInfo),wn(a,s),Ei=g,xn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{nl(a.containerInfo)}catch(gt){te(s,s.return,gt)}Ug&&(Ug=!1,xb(s));break;case 4:u=Ei,Ei=_f(s.stateNode.containerInfo),wn(a,s),xn(s),Ei=u;break;case 12:wn(a,s),xn(s);break;case 31:wn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,sf(s,u)));break;case 13:wn(a,s),xn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(af=yn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,sf(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,Y=Ds,nt=Ue;if(Ds=Y||g,Ue=nt||V,wn(a,s),Ue=nt,Ds=Y,xn(s),u&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||V||Ds||Ue||Oa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){V=l=a;try{if(y=V.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=V.stateNode;var at=V.memoizedProps.style,K=at!=null&&at.hasOwnProperty("display")?at.display:null;A.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(gt){te(V,V.return,gt)}}}else if(a.tag===6){if(l===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(gt){te(V,V.return,gt)}}}else if(a.tag===18){if(l===null){V=a;try{var Z=V.stateNode;g?mT(Z,!0):mT(V.stateNode,!1)}catch(gt){te(V,V.return,gt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,sf(s,l))));break;case 19:wn(a,s),xn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,sf(s,u)));break;case 30:break;case 21:break;default:wn(a,s),xn(s)}}function xn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(pb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=Vg(s);nf(s,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(En(E,""),l.flags&=-33);var A=Vg(s);nf(s,A,E);break;case 3:case 4:var V=l.stateNode.containerInfo,Y=Vg(s);jg(s,Y,V);break;default:throw Error(i(161))}}catch(nt){te(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function xb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;xb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ms(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)vb(s,a.alternate,a),a=a.sibling}function Oa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:vr(4,a,a.return),Oa(a);break;case 1:Zi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&mb(a,a.return,l),Oa(a);break;case 27:Pc(a.stateNode);case 26:case 5:Zi(a,a.return),Oa(a);break;case 22:a.memoizedState===null&&Oa(a);break;case 30:Oa(a);break;default:Oa(a)}s=s.sibling}}function Os(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:Os(g,y,l),xc(4,y);break;case 1:if(Os(g,y,l),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){te(u,u.return,Y)}if(u=y,g=u.updateQueue,g!==null){var A=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)n0(V[g],A)}catch(Y){te(u,u.return,Y)}}l&&E&64&&db(y),Ac(y,y.return);break;case 27:yb(y);case 26:case 5:Os(g,y,l),l&&u===null&&E&4&&gb(y),Ac(y,y.return);break;case 12:Os(g,y,l);break;case 31:Os(g,y,l),l&&E&4&&Eb(g,y);break;case 13:Os(g,y,l),l&&E&4&&Sb(g,y);break;case 22:y.memoizedState===null&&Os(g,y,l),Ac(y,y.return);break;case 30:break;default:Os(g,y,l)}a=a.sibling}}function zg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&fc(l))}function Bg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fc(s))}function Si(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ab(s,a,l,u),a=a.sibling}function Ab(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Si(s,a,l,u),g&2048&&xc(9,a);break;case 1:Si(s,a,l,u);break;case 3:Si(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&fc(s)));break;case 12:if(g&2048){Si(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,E=y.id,A=y.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){te(a,a.return,V)}}else Si(s,a,l,u);break;case 31:Si(s,a,l,u);break;case 13:Si(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,E=a.alternate,a.memoizedState!==null?y._visibility&2?Si(s,a,l,u):Rc(s,a):y._visibility&2?Si(s,a,l,u):(y._visibility|=2,Go(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&zg(E,a);break;case 24:Si(s,a,l,u),g&2048&&Bg(a.alternate,a);break;default:Si(s,a,l,u)}}function Go(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,E=a,A=l,V=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Go(y,E,A,V,g),xc(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?Go(y,E,A,V,g):Rc(y,E):(nt._visibility|=2,Go(y,E,A,V,g)),g&&Y&2048&&zg(E.alternate,E);break;case 24:Go(y,E,A,V,g),g&&Y&2048&&Bg(E.alternate,E);break;default:Go(y,E,A,V,g)}a=a.sibling}}function Rc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:Rc(l,u),g&2048&&zg(u.alternate,u);break;case 24:Rc(l,u),g&2048&&Bg(u.alternate,u);break;default:Rc(l,u)}a=a.sibling}}var Cc=8192;function $o(s,a,l){if(s.subtreeFlags&Cc)for(s=s.child;s!==null;)Rb(s,a,l),s=s.sibling}function Rb(s,a,l){switch(s.tag){case 26:$o(s,a,l),s.flags&Cc&&s.memoizedState!==null&&F2(l,Ei,s.memoizedState,s.memoizedProps);break;case 5:$o(s,a,l);break;case 3:case 4:var u=Ei;Ei=_f(s.stateNode.containerInfo),$o(s,a,l),Ei=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Cc,Cc=16777216,$o(s,a,l),Cc=u):$o(s,a,l));break;default:$o(s,a,l)}}function Cb(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Ic(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Nb(u,s)}Cb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ib(s),s=s.sibling}function Ib(s){switch(s.tag){case 0:case 11:case 15:Ic(s),s.flags&2048&&vr(9,s,s.return);break;case 3:Ic(s);break;case 12:Ic(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,rf(s)):Ic(s);break;default:Ic(s)}}function rf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Qe=u,Nb(u,s)}Cb(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:vr(8,a,a.return),rf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,rf(a));break;default:rf(a)}s=s.sibling}}function Nb(s,a){for(;Qe!==null;){var l=Qe;switch(l.tag){case 0:case 11:case 15:vr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Qe=u;else t:for(l=s;Qe!==null;){u=Qe;var g=u.sibling,y=u.return;if(bb(u),u===l){Qe=null;break t}if(g!==null){g.return=y,Qe=g;break t}Qe=y}}}var i2={getCacheForType:function(s){var a=nn(Le),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return nn(Le).controller.signal}},s2=typeof WeakMap=="function"?WeakMap:Map,Wt=0,ae=null,Ot=null,Lt=0,Zt=0,jn=null,br=!1,Yo=!1,Fg=!1,Ps=0,be=0,Tr=0,Pa=0,Hg=0,Un=0,Ko=0,Nc=null,An=null,qg=!1,af=0,Db=0,of=1/0,lf=null,Er=null,Ge=0,Sr=null,Wo=null,Ls=0,Gg=0,$g=null,kb=null,Dc=0,Yg=null;function zn(){return(Wt&2)!==0&&Lt!==0?Lt&-Lt:Q.T!==null?Zg():lh()}function Mb(){if(Un===0)if((Lt&536870912)===0||Bt){var s=la;la<<=1,(la&3932160)===0&&(la=262144),Un=s}else Un=536870912;return s=Ln.current,s!==null&&(s.flags|=32),Un}function Rn(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Qo(s,0),wr(s,Lt,Un,!1)),ca(s,l),((Wt&2)===0||s!==ae)&&(s===ae&&((Wt&2)===0&&(Pa|=l),be===4&&wr(s,Lt,Un,!1)),ts(s))}function Ob(s,a,l){if((Wt&6)!==0)throw Error(i(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||di(s,a),g=u?o2(s,a):Wg(s,a,!0),y=u;do{if(g===0){Yo&&!u&&wr(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!r2(l)){g=Wg(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var A=s;g=Nc;var V=A.current.memoizedState.isDehydrated;if(V&&(Qo(A,E).flags|=256),E=Wg(A,E,!1),E!==2){if(Fg&&!V){A.errorRecoveryDisabledLanes|=y,Pa|=y,g=4;break t}y=An,An=g,y!==null&&(An===null?An=y:An.push.apply(An,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Qo(s,0),wr(s,a,0,!0);break}t:{switch(u=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wr(u,a,Un,!br);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=af+300-yn(),10<g)){if(wr(u,a,Un,!br),Li(u,0,!0)!==0)break t;Ls=a,u.timeoutHandle=hT(Pb.bind(null,u,l,An,lf,qg,a,Un,Pa,Ko,br,y,"Throttled",-0,0),g);break t}Pb(u,l,An,lf,qg,a,Un,Pa,Ko,br,y,null,-0,0)}}break}while(!0);ts(s)}function Pb(s,a,l,u,g,y,E,A,V,Y,nt,at,K,Z){if(s.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pi},Rb(a,y,at);var gt=(y&62914560)===y?af-yn():(y&4194048)===y?Db-yn():0;if(gt=H2(at,gt),gt!==null){Ls=y,s.cancelPendingCommit=gt(Hb.bind(null,s,a,y,l,u,g,E,A,V,nt,at,null,K,Z)),wr(s,y,E,!Y);return}}Hb(s,a,y,l,u,g,E,A,V)}function r2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],y=g.getSnapshot;g=g.value;try{if(!On(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wr(s,a,l,u){a&=~Hg,a&=~Pa,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var y=31-Se(g),E=1<<y;u[y]=-1,g&=~E}l!==0&&ua(s,l,a)}function cf(){return(Wt&6)===0?(kc(0),!1):!0}function Kg(){if(Ot!==null){if(Zt===0)var s=Ot.return;else s=Ot,xs=Aa=null,ug(s),zo=null,mc=0,s=Ot;for(;s!==null;)fb(s.alternate,s),s=s.return;Ot=null}}function Qo(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,x2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ls=0,Kg(),ae=s,Ot=l=Ss(s.current,null),Lt=a,Zt=0,jn=null,br=!1,Yo=di(s,a),Fg=!1,Ko=Un=Hg=Pa=Tr=be=0,An=Nc=null,qg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-Se(u),y=1<<g;a|=s[g],u&=~y}return Ps=a,Ih(),l}function Lb(s,a){It=null,Q.H=Ec,a===Uo||a===Vh?(a=Jv(),Zt=3):a===Jm?(a=Jv(),Zt=4):Zt=a===Ag?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,jn=a,Ot===null&&(be=1,Xh(s,Xn(a,s.current)))}function Vb(){var s=Ln.current;return s===null?!0:(Lt&4194048)===Lt?ei===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===ei:!1}function jb(){var s=Q.H;return Q.H=Ec,s===null?Ec:s}function Ub(){var s=Q.A;return Q.A=i2,s}function uf(){be=4,br||(Lt&4194048)!==Lt&&Ln.current!==null||(Yo=!0),(Tr&134217727)===0&&(Pa&134217727)===0||ae===null||wr(ae,Lt,Un,!1)}function Wg(s,a,l){var u=Wt;Wt|=2;var g=jb(),y=Ub();(ae!==s||Lt!==a)&&(lf=null,Qo(s,a)),a=!1;var E=be;t:do try{if(Zt!==0&&Ot!==null){var A=Ot,V=jn;switch(Zt){case 8:Kg(),E=6;break t;case 3:case 2:case 9:case 6:Ln.current===null&&(a=!0);var Y=Zt;if(Zt=0,jn=null,Xo(s,A,V,Y),l&&Yo){E=0;break t}break;default:Y=Zt,Zt=0,jn=null,Xo(s,A,V,Y)}}a2(),E=be;break}catch(nt){Lb(s,nt)}while(!0);return a&&s.shellSuspendCounter++,xs=Aa=null,Wt=u,Q.H=g,Q.A=y,Ot===null&&(ae=null,Lt=0,Ih()),E}function a2(){for(;Ot!==null;)zb(Ot)}function o2(s,a){var l=Wt;Wt|=2;var u=jb(),g=Ub();ae!==s||Lt!==a?(lf=null,of=yn()+500,Qo(s,a)):Yo=di(s,a);t:do try{if(Zt!==0&&Ot!==null){a=Ot;var y=jn;e:switch(Zt){case 1:Zt=0,jn=null,Xo(s,a,y,1);break;case 2:case 9:if(Qv(y)){Zt=0,jn=null,Bb(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),ts(s)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:Qv(y)?(Zt=0,jn=null,Bb(a)):(Zt=0,jn=null,Xo(s,a,y,7));break;case 5:var E=null;switch(Ot.tag){case 26:E=Ot.memoizedState;case 5:case 27:var A=Ot;if(E?AT(E):A.stateNode.complete){Zt=0,jn=null;var V=A.sibling;if(V!==null)Ot=V;else{var Y=A.return;Y!==null?(Ot=Y,hf(Y)):Ot=null}break e}}Zt=0,jn=null,Xo(s,a,y,5);break;case 6:Zt=0,jn=null,Xo(s,a,y,6);break;case 8:Kg(),be=6;break t;default:throw Error(i(462))}}l2();break}catch(nt){Lb(s,nt)}while(!0);return xs=Aa=null,Q.H=u,Q.A=g,Wt=l,Ot!==null?0:(ae=null,Lt=0,Ih(),be)}function l2(){for(;Ot!==null&&!xm();)zb(Ot)}function zb(s){var a=ub(s.alternate,s,Ps);s.memoizedProps=s.pendingProps,a===null?hf(s):Ot=a}function Bb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=sb(l,a,a.pendingProps,a.type,void 0,Lt);break;case 11:a=sb(l,a,a.pendingProps,a.type.render,a.ref,Lt);break;case 5:ug(a);default:fb(l,a),a=Ot=Uv(a,Ps),a=ub(l,a,Ps)}s.memoizedProps=s.pendingProps,a===null?hf(s):Ot=a}function Xo(s,a,l,u){xs=Aa=null,ug(a),zo=null,mc=0;var g=a.return;try{if(QC(s,g,a,l,Lt)){be=1,Xh(s,Xn(l,s.current)),Ot=null;return}}catch(y){if(g!==null)throw Ot=g,y;be=1,Xh(s,Xn(l,s.current)),Ot=null;return}a.flags&32768?(Bt||u===1?s=!0:Yo||(Lt&536870912)!==0?s=!1:(br=s=!0,(u===2||u===9||u===3||u===6)&&(u=Ln.current,u!==null&&u.tag===13&&(u.flags|=16384))),Fb(a,s)):hf(a)}function hf(s){var a=s;do{if((a.flags&32768)!==0){Fb(a,br);return}s=a.return;var l=ZC(a.alternate,a,Ps);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);be===0&&(be=5)}function Fb(s,a){do{var l=t2(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);be=6,Ot=null}function Hb(s,a,l,u,g,y,E,A,V){s.cancelPendingCommit=null;do ff();while(Ge!==0);if((Wt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Vm,Cm(s,l,y,E,A,V),s===ae&&(Ot=ae=null,Lt=0),Wo=a,Sr=s,Ls=l,Gg=y,$g=g,kb=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,f2(tr,function(){return Kb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,g=lt.p,lt.p=2,E=Wt,Wt|=4;try{e2(s,a,l)}finally{Wt=E,lt.p=g,Q.T=u}}Ge=1,qb(),Gb(),$b()}}function qb(){if(Ge===1){Ge=0;var s=Sr,a=Wo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var u=lt.p;lt.p=2;var g=Wt;Wt|=4;try{wb(a,s);var y=op,E=Nv(s.containerInfo),A=y.focusedElem,V=y.selectionRange;if(E!==A&&A&&A.ownerDocument&&Iv(A.ownerDocument.documentElement,A)){if(V!==null&&km(A)){var Y=V.start,nt=V.end;if(nt===void 0&&(nt=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(nt,A.value.length);else{var at=A.ownerDocument||document,K=at&&at.defaultView||window;if(K.getSelection){var Z=K.getSelection(),gt=A.textContent.length,Tt=Math.min(V.start,gt),re=V.end===void 0?Tt:Math.min(V.end,gt);!Z.extend&&Tt>re&&(E=re,re=Tt,Tt=E);var H=Cv(A,Tt),F=Cv(A,re);if(H&&F&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var $=at.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),Tt>re?(Z.addRange($),Z.extend(F.node,F.offset)):($.setEnd(F.node,F.offset),Z.addRange($))}}}}for(at=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&at.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<at.length;A++){var st=at[A];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}wf=!!ap,op=ap=null}finally{Wt=g,lt.p=u,Q.T=l}}s.current=a,Ge=2}}function Gb(){if(Ge===2){Ge=0;var s=Sr,a=Wo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var u=lt.p;lt.p=2;var g=Wt;Wt|=4;try{vb(s,a.alternate,a)}finally{Wt=g,lt.p=u,Q.T=l}}Ge=3}}function $b(){if(Ge===4||Ge===3){Ge=0,eh();var s=Sr,a=Wo,l=Ls,u=kb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ge=5:(Ge=0,Wo=Sr=null,Yb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Er=null),vs(l),a=a.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(fi,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=Q.T,g=lt.p,lt.p=2,Q.T=null;try{for(var y=s.onRecoverableError,E=0;E<u.length;E++){var A=u[E];y(A.value,{componentStack:A.stack})}}finally{Q.T=a,lt.p=g}}(Ls&3)!==0&&ff(),ts(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===Yg?Dc++:(Dc=0,Yg=s):Dc=0,kc(0)}}function Yb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,fc(a)))}function ff(){return qb(),Gb(),$b(),Kb()}function Kb(){if(Ge!==5)return!1;var s=Sr,a=Gg;Gg=0;var l=vs(Ls),u=Q.T,g=lt.p;try{lt.p=32>l?32:l,Q.T=null,l=$g,$g=null;var y=Sr,E=Ls;if(Ge=0,Wo=Sr=null,Ls=0,(Wt&6)!==0)throw Error(i(331));var A=Wt;if(Wt|=4,Ib(y.current),Ab(y,y.current,E,l),Wt=A,kc(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(fi,y)}catch{}return!0}finally{lt.p=g,Q.T=u,Yb(s,a)}}function Wb(s,a,l){a=Xn(l,a),a=xg(s.stateNode,a,2),s=pr(s,a,2),s!==null&&(ca(s,2),ts(s))}function te(s,a,l){if(s.tag===3)Wb(s,s,l);else for(;a!==null;){if(a.tag===3){Wb(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Er===null||!Er.has(u))){s=Xn(l,s),l=Q0(2),u=pr(a,l,2),u!==null&&(X0(l,u,a,s),ca(u,2),ts(u));break}}a=a.return}}function Qg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new s2;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(Fg=!0,g.add(l),s=c2.bind(null,s,a,l),a.then(s,s))}function c2(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Lt&l)===l&&(be===4||be===3&&(Lt&62914560)===Lt&&300>yn()-af?(Wt&2)===0&&Qo(s,0):Hg|=l,Ko===Lt&&(Ko=0)),ts(s)}function Qb(s,a){a===0&&(a=oh()),s=Sa(s,a),s!==null&&(ca(s,a),ts(s))}function u2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Qb(s,l)}function h2(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),Qb(s,l)}function f2(s,a){return qe(s,a)}var df=null,Jo=null,Xg=!1,mf=!1,Jg=!1,xr=0;function ts(s){s!==Jo&&s.next===null&&(Jo===null?df=Jo=s:Jo=Jo.next=s),mf=!0,Xg||(Xg=!0,m2())}function kc(s,a){if(!Jg&&mf){Jg=!0;do for(var l=!1,u=df;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var E=u.suspendedLanes,A=u.pingedLanes;y=(1<<31-Se(42|s)+1)-1,y&=g&~(E&~A),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,tT(u,y))}else y=Lt,y=Li(u,u===ae?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||di(u,y)||(l=!0,tT(u,y));u=u.next}while(l);Jg=!1}}function d2(){Xb()}function Xb(){mf=Xg=!1;var s=0;xr!==0&&w2()&&(s=xr);for(var a=yn(),l=null,u=df;u!==null;){var g=u.next,y=Jb(u,a);y===0?(u.next=null,l===null?df=g:l.next=g,g===null&&(Jo=l)):(l=u,(s!==0||(y&3)!==0)&&(mf=!0)),u=g}Ge!==0&&Ge!==5||kc(s),xr!==0&&(xr=0)}function Jb(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-Se(y),A=1<<E,V=g[E];V===-1?((A&l)===0||(A&u)!==0)&&(g[E]=Rm(A,a)):V<=a&&(s.expiredLanes|=A),y&=~A}if(a=ae,l=Lt,l=Li(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Zs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||di(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Zs(u),vs(l)){case 2:case 8:l=Fl;break;case 32:l=tr;break;case 268435456:l=nh;break;default:l=tr}return u=Zb.bind(null,s),l=qe(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Zs(u),s.callbackPriority=2,s.callbackNode=null,2}function Zb(s,a){if(Ge!==0&&Ge!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(ff()&&s.callbackNode!==l)return null;var u=Lt;return u=Li(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Ob(s,u,a),Jb(s,yn()),s.callbackNode!=null&&s.callbackNode===l?Zb.bind(null,s):null)}function tT(s,a){if(ff())return null;Ob(s,a,!0)}function m2(){A2(function(){(Wt&6)!==0?qe(Bl,d2):Xb()})}function Zg(){if(xr===0){var s=Vo;s===0&&(s=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),xr=s}return xr}function eT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Eo(""+s)}function nT(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function g2(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var y=eT((g[Ke]||null).action),E=u.submitter;E&&(a=(a=E[Ke]||null)?eT(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var A=new Yi("action","action",null,u,g);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xr!==0){var V=E?nT(g,E):new FormData(g);vg(l,{pending:!0,data:V,method:g.method,action:y},null,V)}}else typeof y=="function"&&(A.preventDefault(),V=E?nT(g,E):new FormData(g),vg(l,{pending:!0,data:V,method:g.method,action:y},y,V))},currentTarget:g}]})}}for(var tp=0;tp<Lm.length;tp++){var ep=Lm[tp],p2=ep.toLowerCase(),y2=ep[0].toUpperCase()+ep.slice(1);Ti(p2,"on"+y2)}Ti(Mv,"onAnimationEnd"),Ti(Ov,"onAnimationIteration"),Ti(Pv,"onAnimationStart"),Ti("dblclick","onDoubleClick"),Ti("focusin","onFocus"),Ti("focusout","onBlur"),Ti(MC,"onTransitionRun"),Ti(OC,"onTransitionStart"),Ti(PC,"onTransitionCancel"),Ti(Lv,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mc));function iT(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var y=void 0;if(a)for(var E=u.length-1;0<=E;E--){var A=u[E],V=A.instance,Y=A.currentTarget;if(A=A.listener,V!==y&&g.isPropagationStopped())break t;y=A,g.currentTarget=Y;try{y(g)}catch(nt){Ch(nt)}g.currentTarget=null,y=V}else for(E=0;E<u.length;E++){if(A=u[E],V=A.instance,Y=A.currentTarget,A=A.listener,V!==y&&g.isPropagationStopped())break t;y=A,g.currentTarget=Y;try{y(g)}catch(nt){Ch(nt)}g.currentTarget=null,y=V}}}}function Pt(s,a){var l=a[yo];l===void 0&&(l=a[yo]=new Set);var u=s+"__bubble";l.has(u)||(sT(a,s,2,!1),l.add(u))}function np(s,a,l){var u=0;a&&(u|=4),sT(l,s,u,a)}var gf="_reactListening"+Math.random().toString(36).slice(2);function ip(s){if(!s[gf]){s[gf]=!0,Gl.forEach(function(l){l!=="selectionchange"&&(_2.has(l)||np(l,!1,s),np(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gf]||(a[gf]=!0,np("selectionchange",!1,a))}}function sT(s,a,l,u){switch(MT(a)){case 2:var g=$2;break;case 8:g=Y2;break;default:g=_p}l=g.bind(null,a,l,s),g=void 0,!ga||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function sp(s,a,l,u,g){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===g)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;A!==null;){if(E=zi(A),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=y=E;continue t}A=A.parentNode}}u=u.return}ar(function(){var Y=y,nt=Yn(l),at=[];t:{var K=Vv.get(s);if(K!==void 0){var Z=Yi,gt=s;switch(s){case"keypress":if(ya(l)===0)break t;case"keydown":case"keyup":Z=xh;break;case"focusin":gt="focus",Z=va;break;case"focusout":gt="blur",Z=va;break;case"beforeblur":case"afterblur":Z=va;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case Mv:case Ov:case Pv:Z=_h;break;case Lv:Z=D;break;case"scroll":case"scrollend":Z=ic;break;case"wheel":Z=X;break;case"copy":case"cut":case"paste":Z=vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Es;break;case"toggle":case"beforetoggle":Z=Ct}var Tt=(a&4)!==0,re=!Tt&&(s==="scroll"||s==="scrollend"),H=Tt?K!==null?K+"Capture":null:K;Tt=[];for(var F=Y,$;F!==null;){var st=F;if($=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||$===null||H===null||(st=yi(F,H),st!=null&&Tt.push(Oc(F,st,$))),re)break;F=F.return}0<Tt.length&&(K=new Z(K,gt,null,l,nt),at.push({event:K,listeners:Tt}))}}if((a&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",K&&l!==tc&&(gt=l.relatedTarget||l.fromElement)&&(zi(gt)||gt[ji]))break t;if((Z||K)&&(K=nt.window===nt?nt:(K=nt.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(gt=l.relatedTarget||l.toElement,Z=Y,gt=gt?zi(gt):null,gt!==null&&(re=o(gt),Tt=gt.tag,gt!==re||Tt!==5&&Tt!==27&&Tt!==6)&&(gt=null)):(Z=null,gt=Y),Z!==gt)){if(Tt=sc,st="onMouseLeave",H="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=Es,st="onPointerLeave",H="onPointerEnter",F="pointer"),re=Z==null?K:kn(Z),$=gt==null?K:kn(gt),K=new Tt(st,F+"leave",Z,l,nt),K.target=re,K.relatedTarget=$,st=null,zi(nt)===Y&&(Tt=new Tt(H,F+"enter",gt,l,nt),Tt.target=$,Tt.relatedTarget=re,st=Tt),re=st,Z&&gt)e:{for(Tt=v2,H=Z,F=gt,$=0,st=H;st;st=Tt(st))$++;st=0;for(var vt=F;vt;vt=Tt(vt))st++;for(;0<$-st;)H=Tt(H),$--;for(;0<st-$;)F=Tt(F),st--;for(;$--;){if(H===F||F!==null&&H===F.alternate){Tt=H;break e}H=Tt(H),F=Tt(F)}Tt=null}else Tt=null;Z!==null&&rT(at,K,Z,Tt,!1),gt!==null&&re!==null&&rT(at,re,gt,Tt,!0)}}t:{if(K=Y?kn(Y):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var Gt=Ev;else if(bv(K))if(Sv)Gt=NC;else{Gt=CC;var yt=RC}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&To(Y.elementType)&&(Gt=Ev):Gt=IC;if(Gt&&(Gt=Gt(s,Y))){Tv(at,Gt,l,nt);break t}yt&&yt(s,K,Y),s==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Xl(K,"number",K.value)}switch(yt=Y?kn(Y):window,s){case"focusin":(bv(yt)||yt.contentEditable==="true")&&(Io=yt,Mm=Y,cc=null);break;case"focusout":cc=Mm=Io=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,Dv(at,l,nt);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":Dv(at,l,nt)}var Nt;if(Kt)t:{switch(s){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else Co?ba(s,l)&&(Vt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Vt="onCompositionStart");Vt&&(Qi&&l.locale!=="ko"&&(Co||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&Co&&(Nt=nc()):($i=nt,ec="value"in $i?$i.value:$i.textContent,Co=!0)),yt=pf(Y,Vt),0<yt.length&&(Vt=new Wi(Vt,s,null,l,nt),at.push({event:Vt,listeners:yt}),Nt?Vt.data=Nt:(Nt=Ro(l),Nt!==null&&(Vt.data=Nt)))),(Nt=Wn?SC(s,l):wC(s,l))&&(Vt=pf(Y,"onBeforeInput"),0<Vt.length&&(yt=new Wi("onBeforeInput","beforeinput",null,l,nt),at.push({event:yt,listeners:Vt}),yt.data=Nt)),g2(at,s,Y,l,nt)}iT(at,a)})}function Oc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function pf(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=yi(s,l),g!=null&&u.unshift(Oc(s,g,y)),g=yi(s,a),g!=null&&u.push(Oc(s,g,y))),s.tag===3)return u;s=s.return}return[]}function v2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function rT(s,a,l,u,g){for(var y=a._reactName,E=[];l!==null&&l!==u;){var A=l,V=A.alternate,Y=A.stateNode;if(A=A.tag,V!==null&&V===u)break;A!==5&&A!==26&&A!==27||Y===null||(V=Y,g?(Y=yi(l,y),Y!=null&&E.unshift(Oc(l,Y,V))):g||(Y=yi(l,y),Y!=null&&E.push(Oc(l,Y,V)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var b2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function aT(s){return(typeof s=="string"?s:""+s).replace(b2,`
`).replace(T2,"")}function oT(s,a){return a=aT(a),aT(s)===a}function se(s,a,l,u,g,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||En(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&En(s,""+u);break;case"className":Mn(s,"class",u);break;case"tabIndex":Mn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(s,l,u);break;case"style":Zl(s,u,y);break;case"data":if(a!=="object"){Mn(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Eo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&se(s,a,"name",g.name,g,null),se(s,a,"formEncType",g.formEncType,g,null),se(s,a,"formMethod",g.formMethod,g,null),se(s,a,"formTarget",g.formTarget,g,null)):(se(s,a,"encType",g.encType,g,null),se(s,a,"method",g.method,g,null),se(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Eo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=pi);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Eo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),vo(s,"popover",u);break;case"xlinkActuate":Pe(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Pe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Pe(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Pe(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Pe(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Pe(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Pe(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vo(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=gh.get(l)||l,vo(s,l,u))}}function rp(s,a,l,u,g,y){switch(l){case"style":Zl(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?En(s,u):(typeof u=="number"||typeof u=="bigint")&&En(s,""+u);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$l.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=s[Ke]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):vo(s,l,u)}}}function rn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var u=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,y,E,l,null)}}g&&se(s,a,"srcSet",l.srcSet,l,null),u&&se(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var A=y=E=g=null,V=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var nt=l[u];if(nt!=null)switch(u){case"name":g=nt;break;case"type":E=nt;break;case"checked":V=nt;break;case"defaultChecked":Y=nt;break;case"value":y=nt;break;case"defaultValue":A=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:se(s,a,u,nt,l,null)}}fh(s,y,A,V,Y,E,g,!1);return;case"select":Pt("invalid",s),u=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(A=l[g],A!=null))switch(g){case"value":y=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:se(s,a,g,A,l,null)}a=y,l=E,s.multiple=!!u,a!=null?nr(s,!!u,a,!1):l!=null&&nr(s,!!u,l,!0);return;case"textarea":Pt("invalid",s),y=g=u=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":g=A;break;case"children":y=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:se(s,a,E,A,l,null)}ir(s,u,g,y);return;case"option":for(V in l)l.hasOwnProperty(V)&&(u=l[V],u!=null)&&(V==="selected"?s.selected=u&&typeof u!="function"&&typeof u!="symbol":se(s,a,V,u,l,null));return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(u=0;u<Mc.length;u++)Pt(Mc[u],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:se(s,a,Y,u,l,null)}return;default:if(To(a)){for(nt in l)l.hasOwnProperty(nt)&&(u=l[nt],u!==void 0&&rp(s,a,nt,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&se(s,a,A,u,l,null))}function E2(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,A=null,V=null,Y=null,nt=null;for(Z in l){var at=l[Z];if(l.hasOwnProperty(Z)&&at!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=at;default:u.hasOwnProperty(Z)||se(s,a,Z,null,u,at)}}for(var K in u){var Z=u[K];if(at=l[K],u.hasOwnProperty(K)&&(Z!=null||at!=null))switch(K){case"type":y=Z;break;case"name":g=Z;break;case"checked":Y=Z;break;case"defaultChecked":nt=Z;break;case"value":E=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==at&&se(s,a,K,Z,u,at)}}bo(s,E,A,V,Y,nt,y,g);return;case"select":Z=E=A=K=null;for(y in l)if(V=l[y],l.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":Z=V;default:u.hasOwnProperty(y)||se(s,a,y,null,u,V)}for(g in u)if(y=u[g],V=l[g],u.hasOwnProperty(g)&&(y!=null||V!=null))switch(g){case"value":K=y;break;case"defaultValue":A=y;break;case"multiple":E=y;default:y!==V&&se(s,a,g,y,u,V)}a=A,l=E,u=Z,K!=null?nr(s,!!l,K,!1):!!u!=!!l&&(a!=null?nr(s,!!l,a,!0):nr(s,!!l,l?[]:"",!1));return;case"textarea":Z=K=null;for(A in l)if(g=l[A],l.hasOwnProperty(A)&&g!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:se(s,a,A,null,u,g)}for(E in u)if(g=u[E],y=l[E],u.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":K=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&se(s,a,E,g,u,y)}dh(s,K,Z);return;case"option":for(var gt in l)K=l[gt],l.hasOwnProperty(gt)&&K!=null&&!u.hasOwnProperty(gt)&&(gt==="selected"?s.selected=!1:se(s,a,gt,null,u,K));for(V in u)K=u[V],Z=l[V],u.hasOwnProperty(V)&&K!==Z&&(K!=null||Z!=null)&&(V==="selected"?s.selected=K&&typeof K!="function"&&typeof K!="symbol":se(s,a,V,K,u,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in l)K=l[Tt],l.hasOwnProperty(Tt)&&K!=null&&!u.hasOwnProperty(Tt)&&se(s,a,Tt,null,u,K);for(Y in u)if(K=u[Y],Z=l[Y],u.hasOwnProperty(Y)&&K!==Z&&(K!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:se(s,a,Y,K,u,Z)}return;default:if(To(a)){for(var re in l)K=l[re],l.hasOwnProperty(re)&&K!==void 0&&!u.hasOwnProperty(re)&&rp(s,a,re,void 0,u,K);for(nt in u)K=u[nt],Z=l[nt],!u.hasOwnProperty(nt)||K===Z||K===void 0&&Z===void 0||rp(s,a,nt,K,u,Z);return}}for(var H in l)K=l[H],l.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&se(s,a,H,null,u,K);for(at in u)K=u[at],Z=l[at],!u.hasOwnProperty(at)||K===Z||K==null&&Z==null||se(s,a,at,K,u,Z)}function lT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function S2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],y=g.transferSize,E=g.initiatorType,A=g.duration;if(y&&A&&lT(E)){for(E=0,A=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],Y=V.startTime;if(Y>A)break;var nt=V.transferSize,at=V.initiatorType;nt&&lT(at)&&(V=V.responseEnd,E+=nt*(V<A?1:(A-Y)/(V-Y)))}if(--u,a+=8*(y+E)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var ap=null,op=null;function yf(s){return s.nodeType===9?s:s.ownerDocument}function cT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function lp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cp=null;function w2(){var s=window.event;return s&&s.type==="popstate"?s===cp?!1:(cp=s,!0):(cp=null,!1)}var hT=typeof setTimeout=="function"?setTimeout:void 0,x2=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof fT<"u"?function(s){return fT.resolve(null).then(s).catch(R2)}:hT;function R2(s){setTimeout(function(){throw s})}function Ar(s){return s==="head"}function dT(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),nl(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Pc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Pc(l);for(var y=l.firstChild;y;){var E=y.nextSibling,A=y.nodeName;y[Ui]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&Pc(s.ownerDocument.body);l=g}while(l);nl(a)}function mT(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function up(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":up(l),_o(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function C2(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ui])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ni(s.nextSibling),s===null)break}return null}function I2(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ni(s.nextSibling),s===null))return null;return s}function gT(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=ni(s.nextSibling),s===null))return null;return s}function hp(s){return s.data==="$?"||s.data==="$~"}function fp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function N2(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function ni(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var dp=null;function pT(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return ni(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function yT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function _T(s,a,l){switch(a=yf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Pc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);_o(s)}var ii=new Map,vT=new Set;function _f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vs=lt.d;lt.d={f:D2,r:k2,D:M2,C:O2,L:P2,m:L2,X:j2,S:V2,M:U2};function D2(){var s=Vs.f(),a=cf();return s||a}function k2(s){var a=$n(s);a!==null&&a.tag===5&&a.type==="form"?L0(a):Vs.r(s)}var Zo=typeof document>"u"?null:document;function bT(s,a,l){var u=Zo;if(u&&typeof a=="string"&&a){var g=Tn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),vT.has(g)||(vT.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),rn(a,"link",s),Oe(a),u.head.appendChild(a)))}}function M2(s){Vs.D(s),bT("dns-prefetch",s,null)}function O2(s,a){Vs.C(s,a),bT("preconnect",s,a)}function P2(s,a,l){Vs.L(s,a,l);var u=Zo;if(u&&s&&a){var g='link[rel="preload"][as="'+Tn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Tn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Tn(l.imageSizes)+'"]')):g+='[href="'+Tn(s)+'"]';var y=g;switch(a){case"style":y=tl(s);break;case"script":y=el(s)}ii.has(y)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ii.set(y,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Lc(y))||a==="script"&&u.querySelector(Vc(y))||(a=u.createElement("link"),rn(a,"link",s),Oe(a),u.head.appendChild(a)))}}function L2(s,a){Vs.m(s,a);var l=Zo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Tn(u)+'"][href="'+Tn(s)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=el(s)}if(!ii.has(y)&&(s=_({rel:"modulepreload",href:s},a),ii.set(y,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Vc(y)))return}u=l.createElement("link"),rn(u,"link",s),Oe(u),l.head.appendChild(u)}}}function V2(s,a,l){Vs.S(s,a,l);var u=Zo;if(u&&s){var g=Bi(u).hoistableStyles,y=tl(s);a=a||"default";var E=g.get(y);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(Lc(y)))A.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ii.get(y))&&mp(s,l);var V=E=u.createElement("link");Oe(V),rn(V,"link",s),V._p=new Promise(function(Y,nt){V.onload=Y,V.onerror=nt}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,vf(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:A},g.set(y,E)}}}function j2(s,a){Vs.X(s,a);var l=Zo;if(l&&s){var u=Bi(l).hoistableScripts,g=el(s),y=u.get(g);y||(y=l.querySelector(Vc(g)),y||(s=_({src:s,async:!0},a),(a=ii.get(g))&&gp(s,a),y=l.createElement("script"),Oe(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function U2(s,a){Vs.M(s,a);var l=Zo;if(l&&s){var u=Bi(l).hoistableScripts,g=el(s),y=u.get(g);y||(y=l.querySelector(Vc(g)),y||(s=_({src:s,async:!0,type:"module"},a),(a=ii.get(g))&&gp(s,a),y=l.createElement("script"),Oe(y),rn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function TT(s,a,l,u){var g=(g=pt.current)?_f(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=tl(l.href),l=Bi(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=tl(l.href);var y=Bi(g).hoistableStyles,E=y.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=g.querySelector(Lc(s)))&&!y._p&&(E.instance=y,E.state.loading=5),ii.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ii.set(s,l),y||z2(g,s,l,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=el(l),l=Bi(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function tl(s){return'href="'+Tn(s)+'"'}function Lc(s){return'link[rel="stylesheet"]['+s+"]"}function ET(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function z2(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),rn(a,"link",l),Oe(a),s.head.appendChild(a))}function el(s){return'[src="'+Tn(s)+'"]'}function Vc(s){return"script[async]"+s}function ST(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Tn(l.href)+'"]');if(u)return a.instance=u,Oe(u),u;var g=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Oe(u),rn(u,"style",g),vf(u,l.precedence,s),a.instance=u;case"stylesheet":g=tl(l.href);var y=s.querySelector(Lc(g));if(y)return a.state.loading|=4,a.instance=y,Oe(y),y;u=ET(l),(g=ii.get(g))&&mp(u,g),y=(s.ownerDocument||s).createElement("link"),Oe(y);var E=y;return E._p=new Promise(function(A,V){E.onload=A,E.onerror=V}),rn(y,"link",u),a.state.loading|=4,vf(y,l.precedence,s),a.instance=y;case"script":return y=el(l.src),(g=s.querySelector(Vc(y)))?(a.instance=g,Oe(g),g):(u=l,(g=ii.get(y))&&(u=_({},l),gp(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),Oe(g),rn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,vf(u,l.precedence,s));return a.instance}function vf(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===a)y=A;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function mp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function gp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var bf=null;function wT(s,a,l){if(bf===null){var u=new Map,g=bf=new Map;g.set(l,u)}else g=bf,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[Ui]||y[Me]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=s+E;var A=u.get(E);A?A.push(y):u.set(E,[y])}}return u}function xT(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function B2(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function AT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function F2(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=tl(u.href),y=a.querySelector(Lc(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Tf.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=y,Oe(y);return}y=a.ownerDocument||a,u=ET(u),(g=ii.get(g))&&mp(u,g),y=y.createElement("link"),Oe(y);var E=y;E._p=new Promise(function(A,V){E.onload=A,E.onerror=V}),rn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Tf.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var pp=0;function H2(s,a){return s.stylesheets&&s.count===0&&Sf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Sf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&pp===0&&(pp=62500*S2());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Sf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>pp?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function Tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ef=null;function Sf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ef=new Map,a.forEach(q2,s),Ef=null,Tf.call(s))}function q2(s,a){if(!(a.state.loading&4)){var l=Ef.get(s);if(l)var u=l.get(null);else{l=new Map,Ef.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}g=a.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||u,y===u&&l.set(null,g),l.set(E,g),this.count++,u=Tf.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var jc={$$typeof:q,Provider:null,Consumer:null,_currentValue:_t,_currentValue2:_t,_threadCount:0};function G2(s,a,l,u,g,y,E,A,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.hiddenUpdates=Vi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function RT(s,a,l,u,g,y,E,A,V,Y,nt,at){return s=new G2(s,a,l,E,V,Y,nt,at,A),a=1,y===!0&&(a|=24),y=Pn(3,null,null,a),s.current=y,y.stateNode=s,a=Wm(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Zm(y),s}function CT(s){return s?(s=ko,s):ko}function IT(s,a,l,u,g,y){g=CT(g),u.context===null?u.context=g:u.pendingContext=g,u=gr(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=pr(s,u,a),l!==null&&(Rn(l,s,a),pc(l,s,a))}function NT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function yp(s,a){NT(s,a),(s=s.alternate)&&NT(s,a)}function DT(s){if(s.tag===13||s.tag===31){var a=Sa(s,67108864);a!==null&&Rn(a,s,67108864),yp(s,67108864)}}function kT(s){if(s.tag===13||s.tag===31){var a=zn();a=ha(a);var l=Sa(s,a);l!==null&&Rn(l,s,a),yp(s,a)}}var wf=!0;function $2(s,a,l,u){var g=Q.T;Q.T=null;var y=lt.p;try{lt.p=2,_p(s,a,l,u)}finally{lt.p=y,Q.T=g}}function Y2(s,a,l,u){var g=Q.T;Q.T=null;var y=lt.p;try{lt.p=8,_p(s,a,l,u)}finally{lt.p=y,Q.T=g}}function _p(s,a,l,u){if(wf){var g=vp(u);if(g===null)sp(s,a,u,xf,l),OT(s,u);else if(W2(g,s,a,l,u))u.stopPropagation();else if(OT(s,u),a&4&&-1<K2.indexOf(s)){for(;g!==null;){var y=$n(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Pi(y.pendingLanes);if(E!==0){var A=y;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var V=1<<31-Se(E);A.entanglements[1]|=V,E&=~V}ts(y),(Wt&6)===0&&(of=yn()+500,kc(0))}}break;case 31:case 13:A=Sa(y,2),A!==null&&Rn(A,y,2),cf(),yp(y,2)}if(y=vp(u),y===null&&sp(s,a,u,xf,l),y===g)break;g=y}g!==null&&u.stopPropagation()}else sp(s,a,u,null,l)}}function vp(s){return s=Yn(s),bp(s)}var xf=null;function bp(s){if(xf=null,s=zi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return xf=s,null}function MT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Bl:return 2;case Fl:return 8;case tr:case Am:return 32;case nh:return 268435456;default:return 32}default:return 32}}var Tp=!1,Rr=null,Cr=null,Ir=null,Uc=new Map,zc=new Map,Nr=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function OT(s,a){switch(s){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Uc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(a.pointerId)}}function Bc(s,a,l,u,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},a!==null&&(a=$n(a),a!==null&&DT(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function W2(s,a,l,u,g){switch(a){case"focusin":return Rr=Bc(Rr,s,a,l,u,g),!0;case"dragenter":return Cr=Bc(Cr,s,a,l,u,g),!0;case"mouseover":return Ir=Bc(Ir,s,a,l,u,g),!0;case"pointerover":var y=g.pointerId;return Uc.set(y,Bc(Uc.get(y)||null,s,a,l,u,g)),!0;case"gotpointercapture":return y=g.pointerId,zc.set(y,Bc(zc.get(y)||null,s,a,l,u,g)),!0}return!1}function PT(s){var a=zi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,mi(s.priority,function(){kT(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,mi(s.priority,function(){kT(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Af(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=vp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);tc=u,l.target.dispatchEvent(u),tc=null}else return a=$n(l),a!==null&&DT(a),s.blockedOn=l,!1;a.shift()}return!0}function LT(s,a,l){Af(s)&&l.delete(a)}function Q2(){Tp=!1,Rr!==null&&Af(Rr)&&(Rr=null),Cr!==null&&Af(Cr)&&(Cr=null),Ir!==null&&Af(Ir)&&(Ir=null),Uc.forEach(LT),zc.forEach(LT)}function Rf(s,a){s.blockedOn===a&&(s.blockedOn=null,Tp||(Tp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Q2)))}var Cf=null;function VT(s){Cf!==s&&(Cf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Cf===s&&(Cf=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(bp(u||l)===null)continue;break}var y=$n(l);y!==null&&(s.splice(a,3),a-=3,vg(y,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function nl(s){function a(V){return Rf(V,s)}Rr!==null&&Rf(Rr,s),Cr!==null&&Rf(Cr,s),Ir!==null&&Rf(Ir,s),Uc.forEach(a),zc.forEach(a);for(var l=0;l<Nr.length;l++){var u=Nr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<Nr.length&&(l=Nr[0],l.blockedOn===null);)PT(l),l.blockedOn===null&&Nr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],y=l[u+1],E=g[Ke]||null;if(typeof y=="function")E||VT(l);else if(E){var A=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[Ke]||null)A=E.formAction;else if(bp(g)!==null)continue}else A=E.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),VT(l)}}}function jT(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Ep(s){this._internalRoot=s}If.prototype.render=Ep.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=zn();IT(l,u,s,a,null,null)},If.prototype.unmount=Ep.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;IT(s.current,2,null,s,null,null),cf(),a[ji]=null}};function If(s){this._internalRoot=s}If.prototype.unstable_scheduleHydration=function(s){if(s){var a=lh();s={blockedOn:null,target:s,priority:a};for(var l=0;l<Nr.length&&a!==0&&a<Nr[l].priority;l++);Nr.splice(l,0,s),l===0&&PT(s)}};var UT=t.version;if(UT!=="19.2.4")throw Error(i(527,UT,"19.2.4"));lt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var X2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{fi=Nf.inject(X2),Ze=Nf}catch{}}return Hc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",g=$0,y=Y0,E=K0;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=RT(s,1,!1,null,null,l,u,null,g,y,E,jT),s[ji]=a.current,ip(s),new Ep(a)},Hc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,g="",y=$0,E=Y0,A=K0,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),a=RT(s,1,!0,a,l??null,u,g,V,y,E,A,jT),a.context=CT(null),l=a.current,u=zn(),u=ha(u),g=gr(u),g.callback=null,pr(l,g,u),l=u,a.current.lanes=l,ca(a,l),ts(a),s[ji]=a.current,ip(s),new If(a)},Hc.version="19.2.4",Hc}var WT;function oI(){if(WT)return xp.exports;WT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),xp.exports=aI(),xp.exports}var lI=oI();var QT="popstate";function XT(n){return typeof n=="object"&&n!=null&&"pathname"in n&&"search"in n&&"hash"in n&&"state"in n&&"key"in n}function cI(n={}){function t(r,o){let{pathname:c="/",search:h="",hash:f=""}=so(r.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ry("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(r,o){let c=r.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=r.location.href,d=f.indexOf("#");h=d===-1?f:f.slice(0,d)}return h+"#"+(typeof o=="string"?o:Tu(o))}function i(r,o){ci(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return hI(t,e,i,n)}function pe(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ci(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uI(){return Math.random().toString(36).substring(2,10)}function JT(n,t){return{usr:n.state,key:n.key,idx:t,masked:n.unstable_mask?{pathname:n.pathname,search:n.search,hash:n.hash}:void 0}}function ry(n,t,e=null,i,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?so(t):t,state:e,key:t&&t.key||i||uI(),unstable_mask:r}}function Tu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function so(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function hI(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,h="POP",f=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function _(){h="POP";let x=p(),L=x==null?null:x-d;d=x,f&&f({action:h,location:I.location,delta:L})}function T(x,L){h="PUSH";let U=XT(x)?x:ry(I.location,x,L);e&&e(U,x),d=p()+1;let q=JT(U,d),et=I.createHref(U.unstable_mask||U);try{c.pushState(q,"",et)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;r.location.assign(et)}o&&f&&f({action:h,location:I.location,delta:1})}function w(x,L){h="REPLACE";let U=XT(x)?x:ry(I.location,x,L);e&&e(U,x),d=p();let q=JT(U,d),et=I.createHref(U.unstable_mask||U);c.replaceState(q,"",et),o&&f&&f({action:h,location:I.location,delta:0})}function R(x){return fI(x)}let I={get action(){return h},get location(){return n(r,c)},listen(x){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(QT,_),f=x,()=>{r.removeEventListener(QT,_),f=null}},createHref(x){return t(r,x)},createURL:R,encodeLocation(x){let L=R(x);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:T,replace:w,go(x){return c.go(x)}};return I}function fI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),pe(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Tu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function cw(n,t,e="/"){return dI(n,t,e,!1)}function dI(n,t,e,i){let r=typeof t=="string"?so(t):t,o=$s(r.pathname||"/",e);if(o==null)return null;let c=uw(n);mI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let d=xI(o);h=SI(c[f],d,i)}return h}function uw(n,t=[],e=[],i="",r=!1){let o=(c,h,f=r,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&f)return;pe(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let _=ls([i,p.relativePath]),T=e.concat(p);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),uw(c.children,t,T,_,f)),!(c.path==null&&!c.index)&&t.push({path:_,score:TI(_,c.index),routesMeta:T})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of hw(c.path))o(c,h,!0,f)}),t}function hw(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=hw(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function mI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:EI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var gI=/^:[\w-]+$/,pI=3,yI=2,_I=1,vI=10,bI=-2,ZT=n=>n==="*";function TI(n,t){let e=n.split("/"),i=e.length;return e.some(ZT)&&(i+=bI),t&&(i+=yI),e.filter(r=>!ZT(r)).reduce((r,o)=>r+(gI.test(o)?pI:o===""?_I:vI),i)}function EI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function SI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],d=h===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",_=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),T=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:ls([o,_.pathname]),pathnameBase:II(ls([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=ls([o,_.pathnameBase]))}return c}function md(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=wI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:_},T)=>{if(p==="*"){let R=h[T]||"";c=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const w=h[T];return _&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function wI(n,t=!1,e=!0){ci(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f,d,p)=>{if(i.push({paramName:h,isOptional:f!=null}),f){let _=p.charAt(d+c.length);return _&&_!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function xI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function $s(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var AI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?so(n):n,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=tE(e.substring(1),"/"):o=tE(e,t)):o=t,{pathname:o,search:NI(i),hash:DI(r)}}function tE(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Ip(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ky(n){let t=CI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Gd(n,t,e,i=!1){let r;typeof n=="string"?r=so(n):(r={...n},pe(!r.pathname||!r.pathname.includes("?"),Ip("?","pathname","search",r)),pe(!r.pathname||!r.pathname.includes("#"),Ip("#","pathname","hash",r)),pe(!r.search||!r.search.includes("#"),Ip("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),_-=1;r.pathname=T.join("/")}h=_>=0?t[_]:"/"}let f=RI(r,h),d=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var ls=n=>n.join("/").replace(/\/\/+/g,"/"),II=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,DI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,kI=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function MI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function OI(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dw(n,t){let e=n;if(typeof e!="string"||!AI.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(fw)try{let o=new URL(window.location.href),c=e.startsWith("//")?new URL(o.protocol+e):new URL(e),h=$s(c.pathname,t);c.origin===o.origin&&h!=null?e=h+c.search+c.hash:r=!0}catch{ci(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mw=["POST","PUT","PATCH","DELETE"];new Set(mw);var PI=["GET",...mw];new Set(PI);var Il=B.createContext(null);Il.displayName="DataRouter";var $d=B.createContext(null);$d.displayName="DataRouterState";var LI=B.createContext(!1),gw=B.createContext({isTransitioning:!1});gw.displayName="ViewTransition";var VI=B.createContext(new Map);VI.displayName="Fetchers";var jI=B.createContext(null);jI.displayName="Await";var qn=B.createContext(null);qn.displayName="Navigation";var Uu=B.createContext(null);Uu.displayName="Location";var hi=B.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Wy=B.createContext(null);Wy.displayName="RouteError";var pw="REACT_ROUTER_ERROR",UI="REDIRECT",zI="ROUTE_ERROR_RESPONSE";function BI(n){if(n.startsWith(`${pw}:${UI}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function FI(n){if(n.startsWith(`${pw}:${zI}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kI(t.status,t.statusText,t.data)}catch{}}function HI(n,{relative:t}={}){pe(Nl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext(qn),{hash:r,pathname:o,search:c}=zu(n,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:ls([e,o])),i.createHref({pathname:h,search:c,hash:r})}function Nl(){return B.useContext(Uu)!=null}function ys(){return pe(Nl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Uu).location}var yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _w(n){B.useContext(qn).static||B.useLayoutEffect(n)}function Qy(){let{isDataRoute:n}=B.useContext(hi);return n?sN():qI()}function qI(){pe(Nl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(Il),{basename:t,navigator:e}=B.useContext(qn),{matches:i}=B.useContext(hi),{pathname:r}=ys(),o=JSON.stringify(Ky(i)),c=B.useRef(!1);return _w(()=>{c.current=!0}),B.useCallback((f,d={})=>{if(ci(c.current,yw),!c.current)return;if(typeof f=="number"){e.go(f);return}let p=Gd(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ls([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,r,n])}var GI=B.createContext(null);function $I(n){let t=B.useContext(hi).outlet;return B.useMemo(()=>t&&B.createElement(GI.Provider,{value:n},t),[t,n])}function vw(){let{matches:n}=B.useContext(hi),t=n[n.length-1];return t?t.params:{}}function zu(n,{relative:t}={}){let{matches:e}=B.useContext(hi),{pathname:i}=ys(),r=JSON.stringify(Ky(e));return B.useMemo(()=>Gd(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function YI(n,t){return bw(n,t)}function bw(n,t,e){pe(Nl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=B.useContext(qn),{matches:r}=B.useContext(hi),o=r[r.length-1],c=o?o.params:{},h=o?o.pathname:"/",f=o?o.pathnameBase:"/",d=o&&o.route;{let x=d&&d.path||"";Ew(h,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=ys(),_;if(t){let x=typeof t=="string"?so(t):t;pe(f==="/"||x.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${x.pathname}" was given in the \`location\` prop.`),_=x}else _=p;let T=_.pathname||"/",w=T;if(f!=="/"){let x=f.replace(/^\//,"").split("/");w="/"+T.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=cw(n,{pathname:w});ci(d||R!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),ci(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=JI(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},c,x.params),pathname:ls([f,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?f:ls([f,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),r,e);return t&&I?B.createElement(Uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,..._},navigationType:"POP"}},I):I}function KI(){let n=iN(),t=MI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,c)}var WI=B.createElement(KI,null),Tw=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=FI(n.digest);e&&(n=e)}let t=n!==void 0?B.createElement(hi.Provider,{value:this.props.routeContext},B.createElement(Wy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(QI,{error:n},t):t}};Tw.contextType=LI;var Np=new WeakMap;function QI({children:n,error:t}){let{basename:e}=B.useContext(qn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=BI(t.digest);if(i){let r=Np.get(t);if(r)throw r;let o=dw(i.location,e);if(fw&&!Np.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Np.set(t,c),c}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function XI({routeContext:n,match:t,children:e}){let i=B.useContext(Il);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(hi.Provider,{value:n},e)}function JI(n,t=[],e){let i=e?.state;if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let r=n,o=i?.errors;if(o!=null){let p=r.findIndex(_=>_.route.id&&o?.[_.route.id]!==void 0);pe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,p+1))}let c=!1,h=-1;if(e&&i){c=i.renderFallback;for(let p=0;p<r.length;p++){let _=r[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=p),_.route.id){let{loaderData:T,errors:w}=i,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!w||w[_.route.id]===void 0);if(_.route.lazy||R){e.isStatic&&(c=!0),h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}}let f=e?.onError,d=i&&f?(p,_)=>{f(p,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:OI(i.matches),errorInfo:_})}:void 0;return r.reduceRight((p,_,T)=>{let w,R=!1,I=null,x=null;i&&(w=o&&_.route.id?o[_.route.id]:void 0,I=_.route.errorElement||WI,c&&(h<0&&T===0?(Ew("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,x=null):h===T&&(R=!0,x=_.route.hydrateFallbackElement||null)));let L=t.concat(r.slice(0,T+1)),U=()=>{let q;return w?q=I:R?q=x:_.route.Component?q=B.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=p,B.createElement(XI,{match:_,routeContext:{outlet:p,matches:L,isDataRoute:i!=null},children:q})};return i&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?B.createElement(Tw,{location:i.location,revalidation:i.revalidation,component:I,error:w,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:d}):U()},null)}function Xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZI(n){let t=B.useContext(Il);return pe(t,Xy(n)),t}function tN(n){let t=B.useContext($d);return pe(t,Xy(n)),t}function eN(n){let t=B.useContext(hi);return pe(t,Xy(n)),t}function Jy(n){let t=eN(n),e=t.matches[t.matches.length-1];return pe(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function nN(){return Jy("useRouteId")}function iN(){let n=B.useContext(Wy),t=tN("useRouteError"),e=Jy("useRouteError");return n!==void 0?n:t.errors?.[e]}function sN(){let{router:n}=ZI("useNavigate"),t=Jy("useNavigate"),e=B.useRef(!1);return _w(()=>{e.current=!0}),B.useCallback(async(r,o={})=>{ci(e.current,yw),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var eE={};function Ew(n,t,e){!t&&!eE[n]&&(eE[n]=!0,ci(!1,e))}B.memo(rN);function rN({routes:n,future:t,state:e,isStatic:i,onError:r}){return bw(n,void 0,{state:e,isStatic:i,onError:r})}function Zy({to:n,replace:t,state:e,relative:i}){pe(Nl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(qn);ci(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(hi),{pathname:c}=ys(),h=Qy(),f=Gd(n,Ky(o),c,i==="path"),d=JSON.stringify(f);return B.useEffect(()=>{h(JSON.parse(d),{replace:t,state:e,relative:i})},[h,d,i,t,e]),null}function aN(n){return $I(n.context)}function Us(n){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:c}){pe(!Nl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=B.useMemo(()=>({basename:h,navigator:r,static:o,unstable_useTransitions:c,future:{}}),[h,r,o,c]);typeof e=="string"&&(e=so(e));let{pathname:d="/",search:p="",hash:_="",state:T=null,key:w="default",unstable_mask:R}=e,I=B.useMemo(()=>{let x=$s(d,h);return x==null?null:{location:{pathname:x,search:p,hash:_,state:T,key:w,unstable_mask:R},navigationType:i}},[h,d,p,_,T,w,i,R]);return ci(I!=null,`<Router basename="${h}"> is not able to match the URL "${d}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:B.createElement(qn.Provider,{value:f},B.createElement(Uu.Provider,{children:t,value:I}))}function lN({children:n,location:t}){return YI(ay(n),t)}function ay(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...t,r];if(i.type===B.Fragment){e.push.apply(e,ay(i.props.children,o));return}pe(i.type===Us,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=ay(i.props.children,o)),e.push(c)}),e}var Zf="get",td="application/x-www-form-urlencoded";function Yd(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function cN(n){return Yd(n)&&n.tagName.toLowerCase()==="button"}function uN(n){return Yd(n)&&n.tagName.toLowerCase()==="form"}function hN(n){return Yd(n)&&n.tagName.toLowerCase()==="input"}function fN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dN(n,t){return n.button===0&&(!t||t==="_self")&&!fN(n)}var Df=null;function mN(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var gN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dp(n){return n!=null&&!gN.has(n)?(ci(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${td}"`),null):n}function pN(n,t){let e,i,r,o,c;if(uN(n)){let h=n.getAttribute("action");i=h?$s(h,t):null,e=n.getAttribute("method")||Zf,r=Dp(n.getAttribute("enctype"))||td,o=new FormData(n)}else if(cN(n)||hN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?$s(f,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||Zf,r=Dp(n.getAttribute("formenctype"))||Dp(h.getAttribute("enctype"))||td,o=new FormData(h,n),!mN()){let{name:d,type:p,value:_}=n;if(p==="image"){let T=d?`${d}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else d&&o.append(d,_)}}else{if(Yd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Zf,i=null,r=td,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function yN(n,t,e,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&$s(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function _N(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bN(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await _N(o,e);return c.links?c.links():[]}return[]}));return wN(i.flat(1).filter(vN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function nE(n,t,e,i,r,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,h=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||h(f,d)):o==="data"?t.filter((f,d)=>{let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(c(f,d)||h(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function TN(n,t,{includeHydrateFallback:e}={}){return EN(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function EN(n){return[...new Set(n)]}function SN(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function wN(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(SN(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function Sw(){let n=B.useContext(Il);return t_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xN(){let n=B.useContext($d);return t_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var e_=B.createContext(void 0);e_.displayName="FrameworkContext";function ww(){let n=B.useContext(e_);return t_(n,"You must render this element inside a <HydratedRouter> element"),n}function AN(n,t){let e=B.useContext(e_),[i,r]=B.useState(!1),[o,c]=B.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:_}=t,T=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=L=>{L.forEach(U=>{c(U.isIntersecting)})},x=new IntersectionObserver(I,{threshold:.5});return T.current&&x.observe(T.current),()=>{x.disconnect()}}},[n]),B.useEffect(()=>{if(i){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[i]);let w=()=>{r(!0)},R=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,T,{}]:[o,T,{onFocus:qc(h,w),onBlur:qc(f,R),onMouseEnter:qc(d,w),onMouseLeave:qc(p,R),onTouchStart:qc(_,w)}]:[!1,T,{}]}function qc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function RN({page:n,...t}){let{router:e}=Sw(),i=B.useMemo(()=>cw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(IN,{page:n,matches:i,...t}):null}function CN(n){let{manifest:t,routeModules:e}=ww(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return bN(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function IN({page:n,matches:t,...e}){let i=ys(),{future:r,manifest:o,routeModules:c}=ww(),{basename:h}=Sw(),{loaderData:f,matches:d}=xN(),p=B.useMemo(()=>nE(n,t,d,o,i,"data"),[n,t,d,o,i]),_=B.useMemo(()=>nE(n,t,d,o,i,"assets"),[n,t,d,o,i]),T=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,x=!1;if(t.forEach(U=>{let q=o.routes[U.route.id];!q||!q.hasLoader||(!p.some(et=>et.route.id===U.route.id)&&U.route.id in f&&c[U.route.id]?.shouldRevalidate||q.hasClientLoader?x=!0:I.add(U.route.id))}),I.size===0)return[];let L=yN(n,h,r.unstable_trailingSlashAwareDataRequests,"data");return x&&I.size>0&&L.searchParams.set("_routes",t.filter(U=>I.has(U.route.id)).map(U=>U.route.id).join(",")),[L.pathname+L.search]},[h,r.unstable_trailingSlashAwareDataRequests,f,i,o,p,t,n,c]),w=B.useMemo(()=>TN(_,o),[_,o]),R=CN(_);return B.createElement(B.Fragment,null,T.map(I=>B.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...e})),w.map(I=>B.createElement("link",{key:I,rel:"modulepreload",href:I,...e})),R.map(({key:I,link:x})=>B.createElement("link",{key:I,nonce:e.nonce,...x,crossOrigin:x.crossOrigin??e.crossOrigin})))}function NN(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var DN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DN&&(window.__reactRouterVersion="7.13.1")}catch{}function kN({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=B.useRef();r.current==null&&(r.current=cI({window:i,v5Compat:!0}));let o=r.current,[c,h]=B.useState({action:o.action,location:o.location}),f=B.useCallback(d=>{e===!1?h(d):B.startTransition(()=>h(d))},[e]);return B.useLayoutEffect(()=>o.listen(f),[o,f]),B.createElement(oN,{basename:n,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:e})}var xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yl=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,unstable_mask:h,state:f,target:d,to:p,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:w,...R},I){let{basename:x,navigator:L,unstable_useTransitions:U}=B.useContext(qn),q=typeof p=="string"&&xw.test(p),et=dw(p,x);p=et.to;let J=HI(p,{relative:r}),tt=ys(),k=null;if(h){let ft=Gd(h,[],tt.unstable_mask?tt.unstable_mask.pathname:"/",!0);x!=="/"&&(ft.pathname=ft.pathname==="/"?x:ls([x,ft.pathname])),k=L.createHref(ft)}let[N,C,P]=AN(i,R),M=PN(p,{replace:c,unstable_mask:h,state:f,target:d,preventScrollReset:_,relative:r,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:U});function j(ft){t&&t(ft),ft.defaultPrevented||M(ft)}let O=!(et.isExternal||o),wt=B.createElement("a",{...R,...P,href:(O?k:void 0)||et.absoluteURL||J,onClick:O?j:t,ref:NN(I,C),target:d,"data-discover":!q&&e==="render"?"true":void 0});return N&&!q?B.createElement(B.Fragment,null,wt,B.createElement(RN,{page:J})):wt});yl.displayName="Link";var Jc=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...d},p){let _=zu(c,{relative:d.relative}),T=ys(),w=B.useContext($d),{navigator:R,basename:I}=B.useContext(qn),x=w!=null&&zN(_)&&h===!0,L=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,U=T.pathname,q=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(U=U.toLowerCase(),q=q?q.toLowerCase():null,L=L.toLowerCase()),q&&I&&(q=$s(q,I)||q);const et=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let J=U===L||!r&&U.startsWith(L)&&U.charAt(et)==="/",tt=q!=null&&(q===L||!r&&q.startsWith(L)&&q.charAt(L.length)==="/"),k={isActive:J,isPending:tt,isTransitioning:x},N=J?t:void 0,C;typeof i=="function"?C=i(k):C=[i,J?"active":null,tt?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(k):o;return B.createElement(yl,{...d,"aria-current":N,className:C,ref:p,style:P,to:c,viewTransition:h},typeof f=="function"?f(k):f)});Jc.displayName="NavLink";var MN=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Zf,action:h,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:T,...w},R)=>{let{unstable_useTransitions:I}=B.useContext(qn),x=jN(),L=UN(h,{relative:d}),U=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&xw.test(h),et=J=>{if(f&&f(J),J.defaultPrevented)return;J.preventDefault();let tt=J.nativeEvent.submitter,k=tt?.getAttribute("formmethod")||c,N=()=>x(tt||J.currentTarget,{fetcherKey:t,method:k,navigate:e,replace:r,state:o,relative:d,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:T});I&&e!==!1?B.startTransition(()=>N()):N()};return B.createElement("form",{ref:R,method:U,action:L,onSubmit:i?f:et,...w,"data-discover":!q&&n==="render"?"true":void 0})});MN.displayName="Form";function ON(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Aw(n){let t=B.useContext(Il);return pe(t,ON(n)),t}function PN(n,{target:t,replace:e,unstable_mask:i,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:d}={}){let p=Qy(),_=ys(),T=zu(n,{relative:c});return B.useCallback(w=>{if(dN(w,t)){w.preventDefault();let R=e!==void 0?e:Tu(_)===Tu(T),I=()=>p(n,{replace:R,unstable_mask:i,state:r,preventScrollReset:o,relative:c,viewTransition:h,unstable_defaultShouldRevalidate:f});d?B.startTransition(()=>I()):I()}},[_,p,T,e,i,r,t,n,o,c,h,f,d])}var LN=0,VN=()=>`__${String(++LN)}__`;function jN(){let{router:n}=Aw("useSubmit"),{basename:t}=B.useContext(qn),e=nN(),i=n.fetch,r=n.navigate;return B.useCallback(async(o,c={})=>{let{action:h,method:f,encType:d,formData:p,body:_}=pN(o,t);if(c.navigate===!1){let T=c.fetcherKey||VN();await i(T,e,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:_,formMethod:c.method||f,formEncType:c.encType||d,flushSync:c.flushSync})}else await r(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:_,formMethod:c.method||f,formEncType:c.encType||d,replace:c.replace,state:c.state,fromRouteId:e,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,r,t,e])}function UN(n,{relative:t}={}){let{basename:e}=B.useContext(qn),i=B.useContext(hi);pe(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...zu(n||".",{relative:t})},c=ys();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(p=>p==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let p=h.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:ls([e,o.pathname])),Tu(o)}function zN(n,{relative:t}={}){let e=B.useContext(gw);pe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Aw("useViewTransitionState"),r=zu(n,{relative:t});if(!e.isTransitioning)return!1;let o=$s(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=$s(e.nextLocation.pathname,i)||e.nextLocation.pathname;return md(r.pathname,c)!=null||md(r.pathname,o)!=null}const BN=()=>{};var iE={};const Rw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},FN=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},Cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,p=o>>2,_=(o&3)<<4|h>>4;let T=(h&15)<<2|d>>6,w=d&63;f||(w=64,c||(T=64)),i.push(e[p],e[_],e[T],e[w])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Rw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):FN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||d==null||_==null)throw new HN;const T=o<<2|h>>4;if(i.push(T),d!==64){const w=h<<4&240|d>>2;if(i.push(w),_!==64){const R=d<<6&192|_;i.push(R)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qN=function(n){const t=Rw(n);return Cw.encodeByteArray(t,!0)},gd=function(n){return qN(n).replace(/\./g,"")},Iw=function(n){try{return Cw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function GN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $N=()=>GN().__FIREBASE_DEFAULTS__,YN=()=>{if(typeof process>"u"||typeof iE>"u")return;const n=iE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Iw(n[1]);return t&&JSON.parse(t)},Kd=()=>{try{return BN()||$N()||YN()||KN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nw=n=>Kd()?.emulatorHosts?.[n],Dw=n=>{const t=Nw(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},kw=()=>Kd()?.config,Mw=n=>Kd()?.[`_${n}`];class WN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function ea(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function n_(n){return(await fetch(n,{credentials:"include"})).ok}function Ow(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[gd(JSON.stringify(e)),gd(JSON.stringify(c)),""].join(".")}const cu={};function QN(){const n={prod:[],emulator:[]};for(const t of Object.keys(cu))cu[t]?n.emulator.push(t):n.prod.push(t);return n}function XN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let sE=!1;function i_(n,t){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||cu[n]===t||cu[n]||sE)return;cu[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=QN().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{sE=!0,c()},T}function p(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=XN(i),w=e("text"),R=document.getElementById(w)||document.createElement("span"),I=e("learnmore"),x=document.getElementById(I)||document.createElement("a"),L=e("preprendIcon"),U=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const q=T.element;h(q),p(x,I);const et=d();f(U,L),q.append(U,R,x,et),document.body.appendChild(q)}o?(R.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function ZN(){const n=Kd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sD(){return!ZN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rD(){try{return typeof indexedDB=="object"}catch{return!1}}function aD(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const oD="FirebaseError";class _s extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=oD,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?lD(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new _s(r,h,i)}}function lD(n,t){return n.replace(cD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const cD=/\{\$([^}]+)}/g;function uD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Wa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(rE(o)&&rE(c)){if(!Wa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function rE(n){return n!==null&&typeof n=="object"}function Fu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Zc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function tu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function hD(n,t){const e=new fD(n,t);return e.subscribe.bind(e)}class fD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");dD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=kp),r.error===void 0&&(r.error=kp),r.complete===void 0&&(r.complete=kp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function kp(){}function ye(n){return n&&n._delegate?n._delegate:n}class Yr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ua="[DEFAULT]";class mD{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new WN;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pD(t))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ua){return this.instances.has(t)}getOptions(t=Ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ua){return this.component?this.component.multipleInstances?t:Ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gD(n){return n===Ua?void 0:n}function pD(n){return n.instantiationMode==="EAGER"}class yD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new mD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const _D={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},vD=jt.INFO,bD={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},TD=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=bD[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class s_{constructor(t){this.name=t,this._logLevel=vD,this._logHandler=TD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_D[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const ED=(n,t)=>t.some(e=>n instanceof e);let aE,oE;function SD(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return oE||(oE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pw=new WeakMap,oy=new WeakMap,Lw=new WeakMap,Mp=new WeakMap,r_=new WeakMap;function xD(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Br(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Pw.set(e,n)}).catch(()=>{}),r_.set(t,n),t}function AD(n){if(oy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});oy.set(n,t)}let ly={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return oy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Lw.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Br(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function RD(n){ly=n(ly)}function CD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Op(this),t,...e);return Lw.set(i,t.sort?t.sort():[t]),Br(i)}:wD().includes(n)?function(...t){return n.apply(Op(this),t),Br(Pw.get(this))}:function(...t){return Br(n.apply(Op(this),t))}}function ID(n){return typeof n=="function"?CD(n):(n instanceof IDBTransaction&&AD(n),ED(n,SD())?new Proxy(n,ly):n)}function Br(n){if(n instanceof IDBRequest)return xD(n);if(Mp.has(n))return Mp.get(n);const t=ID(n);return t!==n&&(Mp.set(n,t),r_.set(t,n)),t}const Op=n=>r_.get(n);function ND(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=Br(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Br(c.result),f.oldVersion,f.newVersion,Br(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const DD=["get","getKey","getAll","getAllKeys","count"],kD=["put","add","delete","clear"],Pp=new Map;function lE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pp.get(t))return Pp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=kD.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||DD.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),r&&f.done]))[0]};return Pp.set(t,o),o}RD(n=>({...n,get:(t,e,i)=>lE(t,e)||n.get(t,e,i),has:(t,e)=>!!lE(t,e)||n.has(t,e)}));class MD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(OD(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function OD(n){return n.getComponent()?.type==="VERSION"}const cy="@firebase/app",cE="0.14.9";const Ys=new s_("@firebase/app"),PD="@firebase/app-compat",LD="@firebase/analytics-compat",VD="@firebase/analytics",jD="@firebase/app-check-compat",UD="@firebase/app-check",zD="@firebase/auth",BD="@firebase/auth-compat",FD="@firebase/database",HD="@firebase/data-connect",qD="@firebase/database-compat",GD="@firebase/functions",$D="@firebase/functions-compat",YD="@firebase/installations",KD="@firebase/installations-compat",WD="@firebase/messaging",QD="@firebase/messaging-compat",XD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",tk="@firebase/remote-config-compat",ek="@firebase/storage",nk="@firebase/storage-compat",ik="@firebase/firestore",sk="@firebase/ai",rk="@firebase/firestore-compat",ak="firebase",ok="12.10.0";const uy="[DEFAULT]",lk={[cy]:"fire-core",[PD]:"fire-core-compat",[VD]:"fire-analytics",[LD]:"fire-analytics-compat",[UD]:"fire-app-check",[jD]:"fire-app-check-compat",[zD]:"fire-auth",[BD]:"fire-auth-compat",[FD]:"fire-rtdb",[HD]:"fire-data-connect",[qD]:"fire-rtdb-compat",[GD]:"fire-fn",[$D]:"fire-fn-compat",[YD]:"fire-iid",[KD]:"fire-iid-compat",[WD]:"fire-fcm",[QD]:"fire-fcm-compat",[XD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[tk]:"fire-rc-compat",[ek]:"fire-gcs",[nk]:"fire-gcs-compat",[ik]:"fire-fst",[rk]:"fire-fst-compat",[sk]:"fire-vertex","fire-js":"fire-js",[ak]:"fire-js-all"};const pd=new Map,ck=new Map,hy=new Map;function uE(n,t){try{n.container.addComponent(t)}catch(e){Ys.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qa(n){const t=n.name;if(hy.has(t))return Ys.debug(`There were multiple attempts to register component ${t}.`),!1;hy.set(t,n);for(const e of pd.values())uE(e,n);for(const e of ck.values())uE(e,n);return!0}function Wd(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function wi(n){return n==null?!1:n.settings!==void 0}const uk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Bu("app","Firebase",uk);class hk{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const ro=ok;function Vw(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:uy,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Fr.create("bad-app-name",{appName:String(r)});if(e||(e=kw()),!e)throw Fr.create("no-options");const o=pd.get(r);if(o){if(Wa(e,o.options)&&Wa(i,o.config))return o;throw Fr.create("duplicate-app",{appName:r})}const c=new yD(r);for(const f of hy.values())c.addComponent(f);const h=new hk(e,i,c);return pd.set(r,h),h}function a_(n=uy){const t=pd.get(n);if(!t&&n===uy&&kw())return Vw();if(!t)throw Fr.create("no-app",{appName:n});return t}function cs(n,t,e){let i=lk[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ys.warn(c.join(" "));return}Qa(new Yr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const fk="firebase-heartbeat-database",dk=1,Eu="firebase-heartbeat-store";let Lp=null;function jw(){return Lp||(Lp=ND(fk,dk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Eu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Fr.create("idb-open",{originalErrorMessage:n.message})})),Lp}async function mk(n){try{const e=(await jw()).transaction(Eu),i=await e.objectStore(Eu).get(Uw(n));return await e.done,i}catch(t){if(t instanceof _s)Ys.warn(t.message);else{const e=Fr.create("idb-get",{originalErrorMessage:t?.message});Ys.warn(e.message)}}}async function hE(n,t){try{const i=(await jw()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(t,Uw(n)),await i.done}catch(e){if(e instanceof _s)Ys.warn(e.message);else{const i=Fr.create("idb-set",{originalErrorMessage:e?.message});Ys.warn(i.message)}}}function Uw(n){return`${n.name}!${n.options.appId}`}const gk=1024,pk=30;class yk{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>pk){const r=bk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ys.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=fE(),{heartbeatsToSend:e,unsentEntries:i}=_k(this._heartbeatsCache.heartbeats),r=gd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Ys.warn(t),""}}}function fE(){return new Date().toISOString().substring(0,10)}function _k(n,t=gk){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),dE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),dE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class vk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rD()?aD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return hE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function dE(n){return gd(JSON.stringify({version:2,heartbeats:n})).length}function bk(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function Tk(n){Qa(new Yr("platform-logger",t=>new MD(t),"PRIVATE")),Qa(new Yr("heartbeat",t=>new yk(t),"PRIVATE")),cs(cy,cE,n),cs(cy,cE,"esm2020"),cs("fire-js","")}Tk("");function zw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ek=zw,Bw=new Bu("auth","Firebase",zw());const yd=new s_("@firebase/auth");function Sk(n,...t){yd.logLevel<=jt.WARN&&yd.warn(`Auth (${ro}): ${n}`,...t)}function ed(n,...t){yd.logLevel<=jt.ERROR&&yd.error(`Auth (${ro}): ${n}`,...t)}function Ii(n,...t){throw o_(n,...t)}function us(n,...t){return o_(n,...t)}function Fw(n,t,e){const i={...Ek(),[t]:e};return new Bu("auth","Firebase",i).create(t,{appName:n.name})}function Ga(n){return Fw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Bw.create(n,...t)}function Et(n,t,...e){if(!n)throw o_(t,...e)}function Hs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ed(t),new Error(t)}function Ks(n,t){n||Hs(t)}function fy(){return typeof self<"u"&&self.location?.href||""}function wk(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function xk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wk()||eD()||"connection"in navigator)?navigator.onLine:!0}function Ak(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ks(e>t,"Short delay should be less than long delay!"),this.isMobile=JN()||nD()}get(){return xk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function l_(n,t){Ks(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Hw{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ck=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ik=new Hu(3e4,6e4);function ao(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Js(n,t,e,i,r={}){return qw(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=Fu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return tD()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&ea(n.emulatorConfig.host)&&(d.credentials="include"),Hw.fetch()(await Gw(n,n.config.apiHost,e,h),d)})}async function qw(n,t,e){n._canInitEmulator=!1;const i={...Rk,...t};try{const r=new Dk(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw kf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,d]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw kf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw kf(n,"user-disabled",c);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Fw(n,p,d);Ii(n,p)}}catch(r){if(r instanceof _s)throw r;Ii(n,"network-request-failed",{message:String(r)})}}async function Qd(n,t,e,i,r={}){const o=await Js(n,t,e,i,r);return"mfaPendingCredential"in o&&Ii(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Gw(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?l_(n.config,r):`${n.config.apiScheme}://${r}`;return Ck.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function Nk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(us(this.auth,"network-request-failed")),Ik.get())})}}function kf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=us(n,t,i);return r.customData._tokenResponse=e,r}function gE(n){return n!==void 0&&n.enterprise!==void 0}class kk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Nk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Mk(n,t){return Js(n,"GET","/v2/recaptchaConfig",ao(n,t))}async function Ok(n,t){return Js(n,"POST","/v1/accounts:delete",t)}async function _d(n,t){return Js(n,"POST","/v1/accounts:lookup",t)}function uu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Pk(n,t=!1){const e=ye(n),i=await e.getIdToken(t),r=c_(i);Et(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:uu(Vp(r.auth_time)),issuedAtTime:uu(Vp(r.iat)),expirationTime:uu(Vp(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vp(n){return Number(n)*1e3}function c_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const r=Iw(e);return r?JSON.parse(r):(ed("Failed to decode base64 JWT payload"),null)}catch(r){return ed("Caught error parsing JWT payload as JSON",r?.toString()),null}}function pE(n){const t=c_(n);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function _l(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof _s&&Lk(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Lk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Vk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vd(n){const t=n.auth,e=await n.getIdToken(),i=await _l(n,_d(t,{idToken:e}));Et(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?$w(r.providerUserInfo):[],c=Uk(n.providerData,o),h=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=h?f:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new dy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function jk(n){const t=ye(n);await vd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Uk(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function $w(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function zk(n,t){const e=await qw(n,{},async()=>{const i=Fu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await Gw(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ea(n.emulatorConfig.host)&&(f.credentials="include"),Hw.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Bk(n,t){return Js(n,"POST","/v2/accounts:revokeToken",ao(n,t))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const e=pE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await zk(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new ul;return i&&(Et(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Et(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Et(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Hs("not implemented")}}function kr(n,t){Et(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Vk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new dy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await _l(this,this.stsTokenManager.getToken(this.auth,t));return Et(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Pk(this,t)}reload(){return jk(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await vd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Ga(this.auth));const t=await this.getIdToken();return await _l(this,Ok(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:w,providerData:R,stsTokenManager:I}=e;Et(_&&I,t,"internal-error");const x=ul.fromJSON(this.name,I);Et(typeof _=="string",t,"internal-error"),kr(i,t.name),kr(r,t.name),Et(typeof T=="boolean",t,"internal-error"),Et(typeof w=="boolean",t,"internal-error"),kr(o,t.name),kr(c,t.name),kr(h,t.name),kr(f,t.name),kr(d,t.name),kr(p,t.name);const L=new xi({uid:_,auth:t,email:r,emailVerified:T,displayName:i,isAnonymous:w,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:x,createdAt:d,lastLoginAt:p});return R&&Array.isArray(R)&&(L.providerData=R.map(U=>({...U}))),f&&(L._redirectEventId=f),L}static async _fromIdTokenResponse(t,e,i=!1){const r=new ul;r.updateFromServerResponse(e);const o=new xi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await vd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Et(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?$w(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,h=new ul;h.updateFromIdToken(i);const f=new xi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new dy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}const yE=new Map;function qs(n){Ks(n instanceof Function,"Expected a class definition");let t=yE.get(n);return t?(Ks(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,yE.set(n,t),t)}class Yw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Yw.type="NONE";const _E=Yw;function nd(n,t,e){return`firebase:${n}:${t}:${e}`}class hl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=nd(this.userKey,r.apiKey,o),this.fullPersistenceKey=nd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await _d(this.auth,{idToken:t}).catch(()=>{});return e?xi._fromGetAccountInfoResponse(this.auth,e,t):null}return xi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new hl(qs(_E),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||qs(_E);const c=nd(i,t.config.apiKey,t.name);let h=null;for(const d of e)try{const p=await d._get(c);if(p){let _;if(typeof p=="string"){const T=await _d(t,{idToken:p}).catch(()=>{});if(!T)break;_=await xi._fromGetAccountInfoResponse(t,T,p)}else _=xi._fromJSON(t,p);d!==o&&(h=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new hl(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new hl(o,t,i))}}function vE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zw(t))return"Blackberry";if(tx(t))return"Webos";if(Ww(t))return"Safari";if((t.includes("chrome/")||Qw(t))&&!t.includes("edge/"))return"Chrome";if(Jw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Kw(n=gn()){return/firefox\//i.test(n)}function Ww(n=gn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qw(n=gn()){return/crios\//i.test(n)}function Xw(n=gn()){return/iemobile/i.test(n)}function Jw(n=gn()){return/android/i.test(n)}function Zw(n=gn()){return/blackberry/i.test(n)}function tx(n=gn()){return/webos/i.test(n)}function u_(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Fk(n=gn()){return u_(n)&&!!window.navigator?.standalone}function Hk(){return iD()&&document.documentMode===10}function ex(n=gn()){return u_(n)||Jw(n)||tx(n)||Zw(n)||/windows phone/i.test(n)||Xw(n)}function nx(n,t=[]){let e;switch(n){case"Browser":e=vE(gn());break;case"Worker":e=`${vE(gn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ro}/${i}`}class qk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Gk(n,t={}){return Js(n,"GET","/v2/passwordPolicy",ao(n,t))}const $k=6;class Yk{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??$k,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class Kk{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new qk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=qs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await _d(this,{idToken:t}),i=await xi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(wi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await vd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ak()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(wi(this.app))return Promise.reject(Ga(this));const e=t?ye(t):null;return e&&Et(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return wi(this.app)?Promise.reject(Ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Gk(this),e=new Yk(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await Bk(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&qs(t)||this._popupRedirectResolver;Et(e,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[qs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Sk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Xd(n){return ye(n)}class bE{constructor(t){this.auth=t,this.observer=null,this.addObserver=hD(e=>this.observer=e)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wk(n){Jd=n}function ix(n){return Jd.loadJS(n)}function Qk(){return Jd.recaptchaEnterpriseScript}function Xk(){return Jd.gapiScript}function Jk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Zk{constructor(){this.enterprise=new tM}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class tM{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const eM="recaptcha-enterprise",sx="NO_RECAPTCHA";class nM{constructor(t){this.type=eM,this.auth=Xd(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{Mk(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new kk(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;gE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(sx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zk().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&gE(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Qk();f.length!==0&&(f+=h),ix(f).then(()=>{r(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function TE(n,t,e,i=!1,r=!1){const o=new nM(n);let c;if(r)c=sx;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function EE(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await TE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await TE(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function iM(n,t){const e=Wd(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Wa(o,t??{}))return r;Ii(r,"already-initialized")}return e.initialize({options:t})}function sM(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(qs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function rM(n,t,e){const i=Xd(n);Et(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=rx(t),{host:c,port:h}=aM(t),f=h===null?"":`:${h}`,d={url:`${o}//${c}${f}/`},p=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Et(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Et(Wa(d,i.config.emulator)&&Wa(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,ea(c)?(n_(`${o}//${c}${f}`),i_("Auth",!0)):oM()}function rx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function aM(n){const t=rx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:SE(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:SE(c)}}}function SE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function oM(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class h_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Hs("not implemented")}_getIdTokenResponse(t){return Hs("not implemented")}_linkToIdToken(t,e){return Hs("not implemented")}_getReauthenticationResolver(t){return Hs("not implemented")}}async function lM(n,t){return Js(n,"POST","/v1/accounts:update",t)}async function cM(n,t){return Js(n,"POST","/v1/accounts:signUp",t)}async function uM(n,t){return Qd(n,"POST","/v1/accounts:signInWithPassword",ao(n,t))}async function hM(n,t){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",ao(n,t))}async function fM(n,t){return Qd(n,"POST","/v1/accounts:signInWithEmailLink",ao(n,t))}class Su extends h_{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Su(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Su(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(t,e,"signInWithPassword",uM);case"emailLink":return hM(t,{email:this._email,oobCode:this._password});default:Ii(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EE(t,i,"signUpPassword",cM);case"emailLink":return fM(t,{idToken:e,email:this._email,oobCode:this._password});default:Ii(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function fl(n,t){return Qd(n,"POST","/v1/accounts:signInWithIdp",ao(n,t))}const dM="http://localhost";class Xa extends h_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Xa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ii("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Xa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return fl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,fl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,fl(t,e)}buildRequest(){const t={requestUri:dM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Fu(e)}return t}}function mM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gM(n){const t=Zc(tu(n)).link,e=t?Zc(tu(t)).deep_link_id:null,i=Zc(tu(n)).deep_link_id;return(i?Zc(tu(i)).link:null)||i||e||t||n}class f_{constructor(t){const e=Zc(tu(t)),i=e.apiKey??null,r=e.oobCode??null,o=mM(e.mode??null);Et(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=gM(t);try{return new f_(e)}catch{return null}}}class Dl{constructor(){this.providerId=Dl.PROVIDER_ID}static credential(t,e){return Su._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=f_.parseLink(e);return Et(i,"argument-error"),Su._fromEmailAndCode(t,i.code,i.tenantId)}}Dl.PROVIDER_ID="password";Dl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ax{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class qu extends ax{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Mr extends qu{constructor(){super("facebook.com")}static credential(t){return Xa._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";class Or extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Xa._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Or.credentialFromTaggedObject(t)}static credentialFromError(t){return Or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Or.credential(e,i)}catch{return null}}}Or.GOOGLE_SIGN_IN_METHOD="google.com";Or.PROVIDER_ID="google.com";class Pr extends qu{constructor(){super("github.com")}static credential(t){return Xa._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";class Lr extends qu{constructor(){super("twitter.com")}static credential(t,e){return Xa._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Lr.credential(e,i)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";class vl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await xi._fromIdTokenResponse(t,i,r),c=wE(i);return new vl({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=wE(i);return new vl({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function wE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class bd extends _s{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new bd(t,e,i,r)}}function ox(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(n,o,t,i):o})}async function pM(n,t,e=!1){const i=await _l(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return vl._forOperation(n,"link",i)}async function lx(n,t,e=!1){const{auth:i}=n;if(wi(i.app))return Promise.reject(Ga(i));const r="reauthenticate";try{const o=await _l(n,ox(i,r,t,n),e);Et(o.idToken,i,"internal-error");const c=c_(o.idToken);Et(c,i,"internal-error");const{sub:h}=c;return Et(n.uid===h,i,"user-mismatch"),vl._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ii(i,"user-mismatch"),o}}async function yM(n,t,e=!1){if(wi(n.app))return Promise.reject(Ga(n));const i="signIn",r=await ox(n,i,t),o=await vl._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function _M(n,t){return lx(ye(n),t)}function vM(n,t){return bM(ye(n),null,t)}async function bM(n,t,e){const{auth:i}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.password=e);const c=await _l(n,lM(i,o));await n._updateTokensIfNecessary(c,!0)}function TM(n,t,e,i){return ye(n).onIdTokenChanged(t,e,i)}function EM(n,t,e){return ye(n).beforeAuthStateChanged(t,e)}function SM(n,t,e,i){return ye(n).onAuthStateChanged(t,e,i)}function wM(n){return ye(n).signOut()}const Td="__sak";class cx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const xM=1e3,AM=10;class ux extends cx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ex(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);Hk()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,AM):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},xM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ux.type="LOCAL";const RM=ux;class hx extends cx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}hx.type="SESSION";const fx=hx;function CM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Zd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Zd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async d=>d(e.origin,o)),f=await CM(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zd.receivers=[];function d_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class IM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const d=d_("",20);r.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const T=_;if(T.data.eventId===d)switch(T.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function hs(){return window}function NM(n){hs().location.href=n}function dx(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function DM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kM(){return navigator?.serviceWorker?.controller||null}function MM(){return dx()?self:null}const mx="firebaseLocalStorageDb",OM=1,Ed="firebaseLocalStorage",gx="fbase_key";class Gu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function tm(n,t){return n.transaction([Ed],t?"readwrite":"readonly").objectStore(Ed)}function PM(){const n=indexedDB.deleteDatabase(mx);return new Gu(n).toPromise()}function my(){const n=indexedDB.open(mx,OM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ed,{keyPath:gx})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ed)?t(i):(i.close(),await PM(),t(await my()))})})}async function xE(n,t,e){const i=tm(n,!0).put({[gx]:t,value:e});return new Gu(i).toPromise()}async function LM(n,t){const e=tm(n,!1).get(t),i=await new Gu(e).toPromise();return i===void 0?null:i.value}function AE(n,t){const e=tm(n,!0).delete(t);return new Gu(e).toPromise()}const VM=800,jM=3;class px{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>jM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zd._getInstance(MM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DM(),!this.activeServiceWorker)return;this.sender=new IM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await my();return await xE(t,Td,"1"),await AE(t,Td),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>xE(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>LM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>AE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=tm(r,!1).getAll();return new Gu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}px.type="LOCAL";const UM=px;new Hu(3e4,6e4);function zM(n,t){return t?qs(t):(Et(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class m_ extends h_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return fl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return fl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return fl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function BM(n){return yM(n.auth,new m_(n),n.bypassAuthState)}function FM(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),lx(e,new m_(n),n.bypassAuthState)}async function HM(n){const{auth:t,user:e}=n;return Et(e,t,"internal-error"),pM(e,new m_(n),n.bypassAuthState)}class yx{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return BM;case"linkViaPopup":case"linkViaRedirect":return HM;case"reauthViaPopup":case"reauthViaRedirect":return FM;default:Ii(this.auth,"internal-error")}}resolve(t){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qM=new Hu(2e3,1e4);class ll extends yx{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Ks(this.filter.length===1,"Popup operations only handle one event");const t=d_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,qM.get())};t()}}ll.currentPopupAction=null;const GM="pendingRedirect",id=new Map;class $M extends yx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=id.get(this.auth._key());if(!t){try{const i=await YM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}id.set(this.auth._key(),t)}return this.bypassAuthState||id.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YM(n,t){const e=QM(t),i=WM(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function KM(n,t){id.set(n._key(),t)}function WM(n){return qs(n._redirectPersistence)}function QM(n){return nd(GM,n.config.apiKey,n.name)}async function XM(n,t,e=!1){if(wi(n.app))return Promise.reject(Ga(n));const i=Xd(n),r=zM(i,t),c=await new $M(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const JM=600*1e3;class ZM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!tO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!_x(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(us(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=JM&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(t))}saveEventToCache(t){this.cachedEventUids.add(RE(t)),this.lastProcessedEventTime=Date.now()}}function RE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function _x({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function tO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _x(n);default:return!1}}async function eO(n,t={}){return Js(n,"GET","/v1/projects",t)}const nO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iO=/^https?/;async function sO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await eO(n);for(const e of t)try{if(rO(e))return}catch{}Ii(n,"unauthorized-domain")}function rO(n){const t=fy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!iO.test(e))return!1;if(nO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const aO=new Hu(3e4,6e4);function CE(){const n=hs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function oO(n){return new Promise((t,e)=>{function i(){CE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CE(),e(us(n,"network-request-failed"))},timeout:aO.get()})}if(hs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(hs().gapi?.load)i();else{const r=Jk("iframefcb");return hs()[r]=()=>{gapi.load?i():e(us(n,"network-request-failed"))},ix(`${Xk()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw sd=null,t})}let sd=null;function lO(n){return sd=sd||oO(n),sd}const cO=new Hu(5e3,15e3),uO="__/auth/iframe",hO="emulator/auth/iframe",fO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mO(n){const t=n.config;Et(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?l_(t,hO):`https://${n.config.authDomain}/${uO}`,i={apiKey:t.apiKey,appName:n.name,v:ro},r=dO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Fu(i).slice(1)}`}async function gO(n){const t=await lO(n),e=hs().gapi;return Et(e,n,"internal-error"),t.open({where:document.body,url:mO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fO,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=us(n,"network-request-failed"),h=hs().setTimeout(()=>{o(c)},cO.get());function f(){hs().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}const pO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yO=500,_O=600,vO="_blank",bO="http://localhost";class IE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TO(n,t,e,i=yO,r=_O){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...pO,width:i.toString(),height:r.toString(),top:o,left:c},d=gn().toLowerCase();e&&(h=Qw(d)?vO:e),Kw(d)&&(t=t||bO,f.scrollbars="yes");const p=Object.entries(f).reduce((T,[w,R])=>`${T}${w}=${R},`,"");if(Fk(d)&&h!=="_self")return EO(t||"",h),new IE(null);const _=window.open(t||"",h,p);Et(_,n,"popup-blocked");try{_.focus()}catch{}return new IE(_)}function EO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const SO="__/auth/handler",wO="emulator/auth/handler",xO=encodeURIComponent("fac");async function NE(n,t,e,i,r,o){Et(n.config.authDomain,n,"auth-domain-config-required"),Et(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ro,eventId:r};if(t instanceof ax){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",uD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,_]of Object.entries({}))c[p]=_}if(t instanceof qu){const p=t.getScopes().filter(_=>_!=="");p.length>0&&(c.scopes=p.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const p of Object.keys(h))h[p]===void 0&&delete h[p];const f=await n._getAppCheckToken(),d=f?`#${xO}=${encodeURIComponent(f)}`:"";return`${AO(n)}?${Fu(h).slice(1)}${d}`}function AO({config:n}){return n.emulator?l_(n,wO):`https://${n.authDomain}/${SO}`}const jp="webStorageSupport";class RO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fx,this._completeRedirectFn=XM,this._overrideRedirectResult=KM}async _openPopup(t,e,i,r){Ks(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await NE(t,e,i,fy(),r);return TO(t,o,d_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await NE(t,e,i,fy(),r);return NM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Ks(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await gO(t),i=new ZM(t);return e.register("authEvent",r=>(Et(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(jp,{type:jp},r=>{const o=r?.[0]?.[jp];o!==void 0&&e(!!o),Ii(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=sO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return ex()||Ww()||u_()}}const CO=RO;var DE="@firebase/auth",kE="1.12.1";class IO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function NO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DO(n){Qa(new Yr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nx(n)},d=new Kk(i,r,o,f);return sM(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Qa(new Yr("auth-internal",t=>{const e=Xd(t.getProvider("auth").getImmediate());return(i=>new IO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(DE,kE,NO(n)),cs(DE,kE,"esm2020")}const kO=300,MO=Mw("authIdTokenMaxAge")||kO;let ME=null;const OO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>MO)return;const r=e?.token;ME!==r&&(ME=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function PO(n=a_()){const t=Wd(n,"auth");if(t.isInitialized())return t.getImmediate();const e=iM(n,{popupRedirectResolver:CO,persistence:[UM,RM,fx]}),i=Mw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=OO(o.toString());EM(e,c,()=>c(e.currentUser)),TM(e,h=>c(h))}}const r=Nw("auth");return r&&rM(e,`http://${r}`),e}function LO(){return document.getElementsByTagName("head")?.[0]??document}Wk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=us("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",LO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DO("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hr,vx;(function(){var n;function t(k,N){function C(){}C.prototype=N.prototype,k.F=N.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(P,M,j){for(var O=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)O[wt-2]=arguments[wt];return N.prototype[M].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,N,C){C||(C=0);const P=Array(16);if(typeof N=="string")for(var M=0;M<16;++M)P[M]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(M=0;M<16;++M)P[M]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=k.g[0],C=k.g[1],M=k.g[2];let j=k.g[3],O;O=N+(j^C&(M^j))+P[0]+3614090360&4294967295,N=C+(O<<7&4294967295|O>>>25),O=j+(M^N&(C^M))+P[1]+3905402710&4294967295,j=N+(O<<12&4294967295|O>>>20),O=M+(C^j&(N^C))+P[2]+606105819&4294967295,M=j+(O<<17&4294967295|O>>>15),O=C+(N^M&(j^N))+P[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(j^C&(M^j))+P[4]+4118548399&4294967295,N=C+(O<<7&4294967295|O>>>25),O=j+(M^N&(C^M))+P[5]+1200080426&4294967295,j=N+(O<<12&4294967295|O>>>20),O=M+(C^j&(N^C))+P[6]+2821735955&4294967295,M=j+(O<<17&4294967295|O>>>15),O=C+(N^M&(j^N))+P[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(j^C&(M^j))+P[8]+1770035416&4294967295,N=C+(O<<7&4294967295|O>>>25),O=j+(M^N&(C^M))+P[9]+2336552879&4294967295,j=N+(O<<12&4294967295|O>>>20),O=M+(C^j&(N^C))+P[10]+4294925233&4294967295,M=j+(O<<17&4294967295|O>>>15),O=C+(N^M&(j^N))+P[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(j^C&(M^j))+P[12]+1804603682&4294967295,N=C+(O<<7&4294967295|O>>>25),O=j+(M^N&(C^M))+P[13]+4254626195&4294967295,j=N+(O<<12&4294967295|O>>>20),O=M+(C^j&(N^C))+P[14]+2792965006&4294967295,M=j+(O<<17&4294967295|O>>>15),O=C+(N^M&(j^N))+P[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=N+(M^j&(C^M))+P[1]+4129170786&4294967295,N=C+(O<<5&4294967295|O>>>27),O=j+(C^M&(N^C))+P[6]+3225465664&4294967295,j=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(j^N))+P[11]+643717713&4294967295,M=j+(O<<14&4294967295|O>>>18),O=C+(j^N&(M^j))+P[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^j&(C^M))+P[5]+3593408605&4294967295,N=C+(O<<5&4294967295|O>>>27),O=j+(C^M&(N^C))+P[10]+38016083&4294967295,j=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(j^N))+P[15]+3634488961&4294967295,M=j+(O<<14&4294967295|O>>>18),O=C+(j^N&(M^j))+P[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^j&(C^M))+P[9]+568446438&4294967295,N=C+(O<<5&4294967295|O>>>27),O=j+(C^M&(N^C))+P[14]+3275163606&4294967295,j=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(j^N))+P[3]+4107603335&4294967295,M=j+(O<<14&4294967295|O>>>18),O=C+(j^N&(M^j))+P[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(M^j&(C^M))+P[13]+2850285829&4294967295,N=C+(O<<5&4294967295|O>>>27),O=j+(C^M&(N^C))+P[2]+4243563512&4294967295,j=N+(O<<9&4294967295|O>>>23),O=M+(N^C&(j^N))+P[7]+1735328473&4294967295,M=j+(O<<14&4294967295|O>>>18),O=C+(j^N&(M^j))+P[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=N+(C^M^j)+P[5]+4294588738&4294967295,N=C+(O<<4&4294967295|O>>>28),O=j+(N^C^M)+P[8]+2272392833&4294967295,j=N+(O<<11&4294967295|O>>>21),O=M+(j^N^C)+P[11]+1839030562&4294967295,M=j+(O<<16&4294967295|O>>>16),O=C+(M^j^N)+P[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^j)+P[1]+2763975236&4294967295,N=C+(O<<4&4294967295|O>>>28),O=j+(N^C^M)+P[4]+1272893353&4294967295,j=N+(O<<11&4294967295|O>>>21),O=M+(j^N^C)+P[7]+4139469664&4294967295,M=j+(O<<16&4294967295|O>>>16),O=C+(M^j^N)+P[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^j)+P[13]+681279174&4294967295,N=C+(O<<4&4294967295|O>>>28),O=j+(N^C^M)+P[0]+3936430074&4294967295,j=N+(O<<11&4294967295|O>>>21),O=M+(j^N^C)+P[3]+3572445317&4294967295,M=j+(O<<16&4294967295|O>>>16),O=C+(M^j^N)+P[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(C^M^j)+P[9]+3654602809&4294967295,N=C+(O<<4&4294967295|O>>>28),O=j+(N^C^M)+P[12]+3873151461&4294967295,j=N+(O<<11&4294967295|O>>>21),O=M+(j^N^C)+P[15]+530742520&4294967295,M=j+(O<<16&4294967295|O>>>16),O=C+(M^j^N)+P[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=N+(M^(C|~j))+P[0]+4096336452&4294967295,N=C+(O<<6&4294967295|O>>>26),O=j+(C^(N|~M))+P[7]+1126891415&4294967295,j=N+(O<<10&4294967295|O>>>22),O=M+(N^(j|~C))+P[14]+2878612391&4294967295,M=j+(O<<15&4294967295|O>>>17),O=C+(j^(M|~N))+P[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~j))+P[12]+1700485571&4294967295,N=C+(O<<6&4294967295|O>>>26),O=j+(C^(N|~M))+P[3]+2399980690&4294967295,j=N+(O<<10&4294967295|O>>>22),O=M+(N^(j|~C))+P[10]+4293915773&4294967295,M=j+(O<<15&4294967295|O>>>17),O=C+(j^(M|~N))+P[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~j))+P[8]+1873313359&4294967295,N=C+(O<<6&4294967295|O>>>26),O=j+(C^(N|~M))+P[15]+4264355552&4294967295,j=N+(O<<10&4294967295|O>>>22),O=M+(N^(j|~C))+P[6]+2734768916&4294967295,M=j+(O<<15&4294967295|O>>>17),O=C+(j^(M|~N))+P[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=N+(M^(C|~j))+P[4]+4149444226&4294967295,N=C+(O<<6&4294967295|O>>>26),O=j+(C^(N|~M))+P[11]+3174756917&4294967295,j=N+(O<<10&4294967295|O>>>22),O=M+(N^(j|~C))+P[2]+718787259&4294967295,M=j+(O<<15&4294967295|O>>>17),O=C+(j^(M|~N))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+N&4294967295,k.g[1]=k.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.v=function(k,N){N===void 0&&(N=k.length);const C=N-this.blockSize,P=this.C;let M=this.h,j=0;for(;j<N;){if(M==0)for(;j<=C;)r(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<N;)if(P[M++]=k.charCodeAt(j++),M==this.blockSize){r(this,P),M=0;break}}else for(;j<N;)if(P[M++]=k[j++],M==this.blockSize){r(this,P),M=0;break}}this.h=M,this.o+=N},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var N=1;N<k.length-8;++N)k[N]=0;N=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=N&255,N/=256;for(this.v(k),k=Array(16),N=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)k[N++]=this.g[C]>>>P&255;return k};function o(k,N){var C=h;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=N(k)}function c(k,N){this.h=N;const C=[];let P=!0;for(let M=k.length-1;M>=0;M--){const j=k[M]|0;P&&j==N||(C[M]=j,P=!1)}this.g=C}var h={};function f(k){return-128<=k&&k<128?o(k,function(N){return new c([N|0],N<0?-1:0)}):new c([k|0],k<0?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return _;if(k<0)return x(d(-k));const N=[];let C=1;for(let P=0;k>=C;P++)N[P]=k/C|0,C*=4294967296;return new c(N,0)}function p(k,N){if(k.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(k.charAt(0)=="-")return x(p(k.substring(1),N));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(N,8));let P=_;for(let j=0;j<k.length;j+=8){var M=Math.min(8,k.length-j);const O=parseInt(k.substring(j,j+M),N);M<8?(M=d(Math.pow(N,M)),P=P.j(M).add(d(O))):(P=P.j(C),P=P.add(d(O)))}return P}var _=f(0),T=f(1),w=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-x(this).m();let k=0,N=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);k+=(P>=0?P:4294967296+P)*N,N*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(R(this))return"0";if(I(this))return"-"+x(this).toString(k);const N=d(Math.pow(k,6));var C=this;let P="";for(;;){const M=et(C,N).g;C=L(C,M.j(N));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=M,R(C))return j+P;for(;j.length<6;)j="0"+j;P=j+P}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function R(k){if(k.h!=0)return!1;for(let N=0;N<k.g.length;N++)if(k.g[N]!=0)return!1;return!0}function I(k){return k.h==-1}n.l=function(k){return k=L(this,k),I(k)?-1:R(k)?0:1};function x(k){const N=k.g.length,C=[];for(let P=0;P<N;P++)C[P]=~k.g[P];return new c(C,~k.h).add(T)}n.abs=function(){return I(this)?x(this):this},n.add=function(k){const N=Math.max(this.g.length,k.g.length),C=[];let P=0;for(let M=0;M<=N;M++){let j=P+(this.i(M)&65535)+(k.i(M)&65535),O=(j>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);P=O>>>16,j&=65535,O&=65535,C[M]=O<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function L(k,N){return k.add(x(N))}n.j=function(k){if(R(this)||R(k))return _;if(I(this))return I(k)?x(this).j(x(k)):x(x(this).j(k));if(I(k))return x(this.j(x(k)));if(this.l(w)<0&&k.l(w)<0)return d(this.m()*k.m());const N=this.g.length+k.g.length,C=[];for(var P=0;P<2*N;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<k.g.length;M++){const j=this.i(P)>>>16,O=this.i(P)&65535,wt=k.i(M)>>>16,ft=k.i(M)&65535;C[2*P+2*M]+=O*ft,U(C,2*P+2*M),C[2*P+2*M+1]+=j*ft,U(C,2*P+2*M+1),C[2*P+2*M+1]+=O*wt,U(C,2*P+2*M+1),C[2*P+2*M+2]+=j*wt,U(C,2*P+2*M+2)}for(k=0;k<N;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=N;k<2*N;k++)C[k]=0;return new c(C,0)};function U(k,N){for(;(k[N]&65535)!=k[N];)k[N+1]+=k[N]>>>16,k[N]&=65535,N++}function q(k,N){this.g=k,this.h=N}function et(k,N){if(R(N))throw Error("division by zero");if(R(k))return new q(_,_);if(I(k))return N=et(x(k),N),new q(x(N.g),x(N.h));if(I(N))return N=et(k,x(N)),new q(x(N.g),N.h);if(k.g.length>30){if(I(k)||I(N))throw Error("slowDivide_ only works with positive integers.");for(var C=T,P=N;P.l(k)<=0;)C=J(C),P=J(P);var M=tt(C,1),j=tt(P,1);for(P=tt(P,2),C=tt(C,2);!R(P);){var O=j.add(P);O.l(k)<=0&&(M=M.add(C),j=O),P=tt(P,1),C=tt(C,1)}return N=L(k,M.j(N)),new q(M,N)}for(M=_;k.l(N)>=0;){for(C=Math.max(1,Math.floor(k.m()/N.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),j=d(C),O=j.j(N);I(O)||O.l(k)>0;)C-=P,j=d(C),O=j.j(N);R(j)&&(j=T),M=M.add(j),k=L(k,O)}return new q(M,k)}n.B=function(k){return et(this,k).h},n.and=function(k){const N=Math.max(this.g.length,k.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)&k.i(P);return new c(C,this.h&k.h)},n.or=function(k){const N=Math.max(this.g.length,k.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)|k.i(P);return new c(C,this.h|k.h)},n.xor=function(k){const N=Math.max(this.g.length,k.g.length),C=[];for(let P=0;P<N;P++)C[P]=this.i(P)^k.i(P);return new c(C,this.h^k.h)};function J(k){const N=k.g.length+1,C=[];for(let P=0;P<N;P++)C[P]=k.i(P)<<1|k.i(P-1)>>>31;return new c(C,k.h)}function tt(k,N){const C=N>>5;N%=32;const P=k.g.length-C,M=[];for(let j=0;j<P;j++)M[j]=N>0?k.i(j+C)>>>N|k.i(j+C+1)<<32-N:k.i(j+C);return new c(M,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,vx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=p,Hr=c}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bx,eu,Tx,rd,gy,Ex,Sx,wx;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var b=0;b<m.length;++b){var S=m[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=e(this);function r(m,b){if(b)t:{var S=i;m=m.split(".");for(var D=0;D<m.length-1;D++){var G=m[D];if(!(G in S))break t;S=S[G]}m=m[m.length-1],D=S[m],b=b(D),b!=D&&b!=null&&t(S,m,{configurable:!0,writable:!0,value:b})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(b){var S=[],D;for(D in b)Object.prototype.hasOwnProperty.call(b,D)&&S.push([D,b[D]]);return S}});var o=o||{},c=this||self;function h(m){var b=typeof m;return b=="object"&&m!=null||b=="function"}function f(m,b,S){return m.call.apply(m.bind,arguments)}function d(m,b,S){return d=f,d.apply(null,arguments)}function p(m,b){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),m.apply(this,D)}}function _(m,b){function S(){}S.prototype=b.prototype,m.Z=b.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(D,G,X){for(var ht=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ht[Ct-2]=arguments[Ct];return b.prototype[G].apply(D,ht)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const b=m.length;if(b>0){const S=Array(b);for(let D=0;D<b;D++)S[D]=m[D];return S}return[]}function R(m,b){for(let D=1;D<arguments.length;D++){const G=arguments[D];var S=typeof G;if(S=S!="object"?S:G?Array.isArray(G)?"array":S:"null",S=="array"||S=="object"&&typeof G.length=="number"){S=m.length||0;const X=G.length||0;m.length=S+X;for(let ht=0;ht<X;ht++)m[S+ht]=G[ht]}else m.push(G)}}class I{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function x(m){c.setTimeout(()=>{throw m},0)}function L(){var m=k;let b=null;return m.g&&(b=m.g,m.g=m.g.next,m.g||(m.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,S){const D=q.get();D.set(b,S),this.h?this.h.next=D:this.g=D,this.h=D}}var q=new I(()=>new et,m=>m.reset());class et{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let J,tt=!1,k=new U,N=()=>{const m=Promise.resolve(void 0);J=()=>{m.then(C)}};function C(){for(var m;m=L();){try{m.h.call(m.g)}catch(S){x(S)}var b=q;b.j(m),b.h<100&&(b.h++,m.next=b.g,b.g=m)}tt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(m,b){this.type=m,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,b=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,b),c.removeEventListener("test",S,b)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function wt(m,b){M.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,b)}_(wt,M),wt.prototype.init=function(m,b){const S=this.type=m.type,D=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=b,b=m.relatedTarget,b||(S=="mouseover"?b=m.fromElement:S=="mouseout"&&(b=m.toElement)),this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ft="closure_listenable_"+(Math.random()*1e6|0),Q=0;function lt(m,b,S,D,G){this.listener=m,this.proxy=null,this.src=b,this.type=S,this.capture=!!D,this.ha=G,this.key=++Q,this.da=this.fa=!1}function _t(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Dt(m,b,S){for(const D in m)b.call(S,m[D],D,m)}function Mt(m,b){for(const S in m)b.call(void 0,m[S],S,m)}function z(m){const b={};for(const S in m)b[S]=m[S];return b}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(m,b){let S,D;for(let G=1;G<arguments.length;G++){D=arguments[G];for(S in D)m[S]=D[S];for(let X=0;X<it.length;X++)S=it[X],Object.prototype.hasOwnProperty.call(D,S)&&(m[S]=D[S])}}function W(m){this.src=m,this.g={},this.h=0}W.prototype.add=function(m,b,S,D,G){const X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);const ht=pt(m,b,D,G);return ht>-1?(b=m[ht],S||(b.fa=!1)):(b=new lt(b,this.src,X,!!D,G),b.fa=S,m.push(b)),b};function ut(m,b){const S=b.type;if(S in m.g){var D=m.g[S],G=Array.prototype.indexOf.call(D,b,void 0),X;(X=G>=0)&&Array.prototype.splice.call(D,G,1),X&&(_t(b),m.g[S].length==0&&(delete m.g[S],m.h--))}}function pt(m,b,S,D){for(let G=0;G<m.length;++G){const X=m[G];if(!X.da&&X.listener==b&&X.capture==!!S&&X.ha==D)return G}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),He={};function de(m,b,S,D,G){if(Array.isArray(b)){for(let X=0;X<b.length;X++)de(m,b[X],S,D,G);return null}return S=zl(S),m&&m[ft]?m.J(b,S,h(D)?!!D.capture:!1,G):ra(m,b,S,!1,D,G)}function ra(m,b,S,D,G,X){if(!b)throw Error("Invalid event type");const ht=h(G)?!!G.capture:!!G;let Ct=aa(m);if(Ct||(m[kt]=Ct=new W(m)),S=Ct.add(b,S,D,ht,X),S.proxy)return S;if(D=fo(),S.proxy=D,D.src=m,D.listener=S,m.addEventListener)j||(G=ht),G===void 0&&(G=!1),m.addEventListener(b.toString(),D,G);else if(m.attachEvent)m.attachEvent(Mi(b.toString()),D);else if(m.addListener&&m.removeListener)m.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function fo(){function m(S){return b.call(m.src,m.listener,S)}const b=jl;return m}function mo(m,b,S,D,G){if(Array.isArray(b))for(var X=0;X<b.length;X++)mo(m,b[X],S,D,G);else D=h(D)?!!D.capture:!!D,S=zl(S),m&&m[ft]?(m=m.i,X=String(b).toString(),X in m.g&&(b=m.g[X],S=pt(b,S,D,G),S>-1&&(_t(b[S]),Array.prototype.splice.call(b,S,1),b.length==0&&(delete m.g[X],m.h--)))):m&&(m=aa(m))&&(b=m.g[b.toString()],m=-1,b&&(m=pt(b,S,D,G)),(S=m>-1?b[m]:null)&&go(S))}function go(m){if(typeof m!="number"&&m&&!m.da){var b=m.src;if(b&&b[ft])ut(b.i,m);else{var S=m.type,D=m.proxy;b.removeEventListener?b.removeEventListener(S,D,m.capture):b.detachEvent?b.detachEvent(Mi(S),D):b.addListener&&b.removeListener&&b.removeListener(D),(S=aa(b))?(ut(S,m),S.h==0&&(S.src=null,b[kt]=null)):_t(m)}}}function Mi(m){return m in He?He[m]:He[m]="on"+m}function jl(m,b){if(m.da)m=!0;else{b=new wt(b,this);const S=m.listener,D=m.ha||m.src;m.fa&&go(m),m=S.call(D,b)}return m}function aa(m){return m=m[kt],m instanceof W?m:null}var Ul="__closure_events_fn_"+(Math.random()*1e9>>>0);function zl(m){return typeof m=="function"?m:(m[Ul]||(m[Ul]=function(b){return m.handleEvent(b)}),m[Ul])}function De(){P.call(this),this.i=new W(this),this.M=this,this.G=null}_(De,P),De.prototype[ft]=!0,De.prototype.removeEventListener=function(m,b,S,D){mo(this,m,b,S,D)};function qe(m,b){var S,D=m.G;if(D)for(S=[];D;D=D.G)S.push(D);if(m=m.M,D=b.type||b,typeof b=="string")b=new M(b,m);else if(b instanceof M)b.target=b.target||m;else{var G=b;b=new M(D,m),ct(b,G)}G=!0;let X,ht;if(S)for(ht=S.length-1;ht>=0;ht--)X=b.g=S[ht],G=Zs(X,D,!0,b)&&G;if(X=b.g=m,G=Zs(X,D,!0,b)&&G,G=Zs(X,D,!1,b)&&G,S)for(ht=0;ht<S.length;ht++)X=b.g=S[ht],G=Zs(X,D,!1,b)&&G}De.prototype.N=function(){if(De.Z.N.call(this),this.i){var m=this.i;for(const b in m.g){const S=m.g[b];for(let D=0;D<S.length;D++)_t(S[D]);delete m.g[b],m.h--}}this.G=null},De.prototype.J=function(m,b,S,D){return this.i.add(String(m),b,!1,S,D)},De.prototype.K=function(m,b,S,D){return this.i.add(String(m),b,!0,S,D)};function Zs(m,b,S,D){if(b=m.i.g[String(b)],!b)return!0;b=b.concat();let G=!0;for(let X=0;X<b.length;++X){const ht=b[X];if(ht&&!ht.da&&ht.capture==S){const Ct=ht.listener,we=ht.ha||ht.src;ht.fa&&ut(m.i,ht),G=Ct.call(we,D)!==!1&&G}}return G&&!D.defaultPrevented}function xm(m,b){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(m,b||0)}function eh(m){m.g=xm(()=>{m.g=null,m.i&&(m.i=!1,eh(m))},m.l);const b=m.h;m.h=null,m.m.apply(null,b)}class yn extends P{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:eh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(m){P.call(this),this.h=m,this.g={}}_(oa,P);var Bl=[];function Fl(m){Dt(m.g,function(b,S){this.g.hasOwnProperty(S)&&go(b)},m),m.g={}}oa.prototype.N=function(){oa.Z.N.call(this),Fl(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=c.JSON.stringify,Am=c.JSON.parse,nh=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function ih(){}function sh(){}var fi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){M.call(this,"d")}_(Ze,M);function Gn(){M.call(this,"c")}_(Gn,M);var Se={},rh=null;function po(){return rh=rh||new De}Se.Ia="serverreachability";function ah(m){M.call(this,Se.Ia,m)}_(ah,M);function Oi(m){const b=po();qe(b,new ah(b))}Se.STAT_EVENT="statevent";function la(m,b){M.call(this,Se.STAT_EVENT,m),this.stat=b}_(la,M);function ke(m){const b=po();qe(b,new la(b,m))}Se.Ja="timingevent";function Pi(m,b){M.call(this,Se.Ja,m),this.size=b}_(Pi,M);function Li(m,b){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},b)}function di(){this.g=!0}di.prototype.ua=function(){this.g=!1};function Rm(m,b,S,D,G,X){m.info(function(){if(m.g)if(X){var ht="",Ct=X.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var we=Ct[Kt].split("=");if(we.length>1){const me=we[0];we=we[1];const Wn=me.split("_");ht=Wn.length>=2&&Wn[1]=="type"?ht+(me+"="+we+"&"):ht+(me+"=redacted&")}}}else ht=null;else ht=X;return"XMLHTTP REQ ("+D+") [attempt "+G+"]: "+b+`
`+S+`
`+ht})}function oh(m,b,S,D,G,X,ht){m.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+G+"]: "+b+`
`+S+`
`+X+" "+ht})}function Vi(m,b,S,D){m.info(function(){return"XMLHTTP TEXT ("+b+"): "+Cm(m,S)+(D?" "+D:"")})}function ca(m,b){m.info(function(){return"TIMEOUT: "+b})}di.prototype.info=function(){};function Cm(m,b){if(!m.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(m=0;m<X.length;m++)if(Array.isArray(X[m])){var S=X[m];if(!(S.length<2)){var D=S[1];if(Array.isArray(D)&&!(D.length<1)){var G=D[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ht=1;ht<D.length;ht++)D[ht]=""}}}}return tr(X)}catch{return b}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ql;function ha(){}_(ha,ih),ha.prototype.g=function(){return new XMLHttpRequest},ql=new ha;function vs(m){return encodeURIComponent(String(m))}function lh(m){var b=1;m=m.split(":");const S=[];for(;b>0&&m.length;)S.push(m.shift()),b--;return m.length&&S.push(m.join(":")),S}function mi(m,b,S,D){this.j=m,this.i=b,this.l=S,this.S=D||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Me={},Ke={};function ji(m,b,S){m.M=1,m.A=fa(Pe(b)),m.u=S,m.R=!0,yo(m,null)}function yo(m,b){m.F=Date.now(),Ui(m),m.B=Pe(m.A);var S=m.B,D=m.S;Array.isArray(D)||(D=[String(D)]),To(S.i,"t",D),m.C=0,S=m.j.L,m.h=new gi,m.g=Sh(m.j,S?b:null,!m.u),m.P>0&&(m.O=new yn(d(m.Y,m,m.g),m.P)),b=m.V,S=m.g,D=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(Bl[0]=G.toString()),G=Bl);for(let X=0;X<G.length;X++){const ht=de(S,G[X],D||b.handleEvent,!1,b.h||b);if(!ht)break;b.g[ht.key]=ht}b=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,b)):(m.v="GET",m.g.ea(m.B,m.v,null,b)),Oi(),Rm(m.i,m.v,m.B,m.l,m.S,m.u)}mi.prototype.ba=function(m){m=m.target;const b=this.O;b&&_i(m)==3?b.j():this.Y(m)},mi.prototype.Y=function(m){try{if(m==this.g)t:{const Ct=_i(this.g),we=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ct!=4||we==7||(we==8||Kt<=0?Oi(3):Oi(2)),zi(this);var b=this.g.ca();this.X=b;var S=Im(this);if(this.o=b==200,oh(this.i,this.v,this.B,this.l,this.S,Ct,b),this.o){if(this.U&&!this.L){e:{if(this.g){var D,G=this.g;if((D=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(D)){var X=D;break e}}X=null}if(m=X)Vi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bi(this,m);else{this.o=!1,this.m=3,ke(12),kn(this),$n(this);break t}}if(this.R){m=!0;let me;for(;!this.K&&this.C<S.length;)if(me=uh(this,S),me==Ke){Ct==4&&(this.m=4,ke(14),m=!1),Vi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Me){this.m=4,ke(15),Vi(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else Vi(this.i,this.l,me,null),Bi(this,me);if(ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||S.length!=0||this.h.h||(this.m=1,ke(16),m=!1),this.o=this.o&&m,!m)Vi(this.i,this.l,S,"[Invalid Chunked Response]"),kn(this),$n(this);else if(S.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),rc(ht),ht.P=!0,ke(11))}}else Vi(this.i,this.l,S,null),Bi(this,S);Ct==4&&kn(this),this.o&&!this.K&&(Ct==4?vh(this.j,this):(this.o=!1,Ui(this)))}else Ts(this.g),b==400&&S.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),kn(this),$n(this)}}}catch{}};function Im(m){if(!ch(m))return m.g.la();const b=tn(m.g);if(b==="")return"";let S="";const D=b.length,G=_i(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return kn(m),$n(m),"";m.h.i=new c.TextDecoder}for(let X=0;X<D;X++)m.h.h=!0,S+=m.h.i.decode(b[X],{stream:!(G&&X==D-1)});return b.length=0,m.h.g+=S,m.C=0,m.h.g}function ch(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function uh(m,b){var S=m.C,D=b.indexOf(`
`,S);return D==-1?Ke:(S=Number(b.substring(S,D)),isNaN(S)?Me:(D+=1,D+S>b.length?Ke:(b=b.slice(D,D+S),m.C=D+S,b)))}mi.prototype.cancel=function(){this.K=!0,kn(this)};function Ui(m){m.T=Date.now()+m.H,_o(m,m.H)}function _o(m,b){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Li(d(m.aa,m),b)}function zi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}mi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ca(this.i,this.B),this.M!=2&&(Oi(),ke(17)),kn(this),this.m=2,$n(this)):_o(this,this.T-m)};function $n(m){m.j.I==0||m.K||vh(m.j,m)}function kn(m){zi(m);var b=m.O;b&&typeof b.dispose=="function"&&b.dispose(),m.O=null,Fl(m.V),m.g&&(b=m.g,m.g=null,b.abort(),b.dispose())}function Bi(m,b){try{var S=m.j;if(S.I!=0&&(S.g==m||Hi(S.h,m))){if(!m.L&&Hi(S.h,m)&&S.I==3){try{var D=S.Ba.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var G=D;if(G[0]==0){t:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Ao(S),lr(S);else break t;va(S),ke(18)}}else S.xa=G[1],0<S.xa-S.K&&G[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Li(d(S.Va,S),6e3));Fi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Wi(S,11)}else if((m.L||S.g==m)&&Ao(S),!O(b))for(G=S.Ba.g.parse(b),b=0;b<G.length;b++){let Kt=G[b];const me=Kt[0];if(!(me<=S.K))if(S.K=me,Kt=Kt[1],S.I==2)if(Kt[0]=="c"){S.M=Kt[1],S.ba=Kt[2];const Wn=Kt[3];Wn!=null&&(S.ka=Wn,S.j.info("VER="+S.ka));const Qi=Kt[4];Qi!=null&&(S.za=Qi,S.j.info("SVER="+S.za));const vi=Kt[5];vi!=null&&typeof vi=="number"&&vi>0&&(D=1.5*vi,S.O=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const bi=m.g;if(bi){const ba=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var X=D.h;X.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Yl(X,X.h),X.h=null))}if(D.G){const Ro=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(D.wa=Ro,Jt(D.J,D.G,Ro))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),D=S;var ht=m;if(D.na=Eh(D,D.L?D.ba:null,D.W),ht.L){Kl(D.h,ht);var Ct=ht,we=D.O;we&&(Ct.H=we),Ct.D&&(zi(Ct),Ui(Ct)),D.g=ht}else yh(D);S.i.length>0&&Ki(S)}else Kt[0]!="stop"&&Kt[0]!="close"||Wi(S,7);else S.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Wi(S,7):ic(S):Kt[0]!="noop"&&S.l&&S.l.qa(Kt),S.A=0)}}Oi(4)}catch{}}var Oe=class{constructor(m,b){this.g=m,this.map=b}};function Gl(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $l(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Fi(m){return m.h?1:m.g?m.g.size:0}function Hi(m,b){return m.h?m.h==b:m.g?m.g.has(b):!1}function Yl(m,b){m.g?m.g.add(b):m.h=b}function Kl(m,b){m.h&&m.h==b?m.h=null:m.g&&m.g.has(b)&&m.g.delete(b)}Gl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Wl(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let b=m.i;for(const S of m.g.values())b=b.concat(S.G);return b}return w(m.i)}var hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(m,b){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const D=m[S].indexOf("=");let G,X=null;D>=0?(G=m[S].substring(0,D),X=m[S].substring(D+1)):G=m[S],b(G,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Mn(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;m instanceof Mn?(this.l=m.l,We(this,m.j),this.o=m.o,this.g=m.g,er(this,m.u),this.h=m.h,Ql(this,gh(m.i)),this.m=m.m):m&&(b=String(m).match(hh))?(this.l=!1,We(this,b[1]||"",!0),this.o=qi(b[2]||""),this.g=qi(b[3]||"",!0),er(this,b[4]),this.h=qi(b[5]||"",!0),Ql(this,b[6]||"",!0),this.m=qi(b[7]||"")):(this.l=!1,this.i=new ir(null,this.l))}Mn.prototype.toString=function(){const m=[];var b=this.j;b&&m.push(da(b,bo,!0),":");var S=this.g;return(S||b=="file")&&(m.push("//"),(b=this.o)&&m.push(da(b,bo,!0),"@"),m.push(vs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(da(S,S.charAt(0)=="/"?Xl:fh,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",da(S,dh)),m.join("")},Mn.prototype.resolve=function(m){const b=Pe(this);let S=!!m.j;S?We(b,m.j):S=!!m.o,S?b.o=m.o:S=!!m.g,S?b.g=m.g:S=m.u!=null;var D=m.h;if(S)er(b,m.u);else if(S=!!m.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var G=b.h.lastIndexOf("/");G!=-1&&(D=b.h.slice(0,G+1)+D)}if(G=D,G==".."||G==".")D="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){D=G.lastIndexOf("/",0)==0,G=G.split("/");const X=[];for(let ht=0;ht<G.length;){const Ct=G[ht++];Ct=="."?D&&ht==G.length&&X.push(""):Ct==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),D&&ht==G.length&&X.push("")):(X.push(Ct),D=!0)}D=X.join("/")}else D=G}return S?b.h=D:S=m.i.toString()!=="",S?Ql(b,gh(m.i)):S=!!m.m,S&&(b.m=m.m),b};function Pe(m){return new Mn(m)}function We(m,b,S){m.j=S?qi(b,!0):b,m.j&&(m.j=m.j.replace(/:$/,""))}function er(m,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);m.u=b}else m.u=null}function Ql(m,b,S){b instanceof ir?(m.i=b,Eo(m.i,m.l)):(S||(b=da(b,nr)),m.i=new ir(b,m.l))}function Jt(m,b,S){m.i.set(b,S)}function fa(m){return Jt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function qi(m,b){return m?b?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function da(m,b,S){return typeof m=="string"?(m=encodeURI(m).replace(b,Tn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Tn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var bo=/[#\/\?@]/g,fh=/[#\?:]/g,Xl=/[#\?]/g,nr=/[#\?@]/g,dh=/#/g;function ir(m,b){this.h=this.g=null,this.i=m||null,this.j=!!b}function En(m){m.g||(m.g=new Map,m.h=0,m.i&&vo(m.i,function(b,S){m.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}n=ir.prototype,n.add=function(m,b){En(this),this.i=null,m=sr(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(b),this.h+=1,this};function mh(m,b){En(m),b=sr(m,b),m.g.has(b)&&(m.i=null,m.h-=m.g.get(b).length,m.g.delete(b))}function Jl(m,b){return En(m),b=sr(m,b),m.g.has(b)}n.forEach=function(m,b){En(this),this.g.forEach(function(S,D){S.forEach(function(G){m.call(b,G,D,this)},this)},this)};function Zl(m,b){En(m);let S=[];if(typeof b=="string")Jl(m,b)&&(S=S.concat(m.g.get(sr(m,b))));else for(m=Array.from(m.g.values()),b=0;b<m.length;b++)S=S.concat(m[b]);return S}n.set=function(m,b){return En(this),this.i=null,m=sr(this,m),Jl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[b]),this.h+=1,this},n.get=function(m,b){return m?(m=Zl(this,m),m.length>0?String(m[0]):b):b};function To(m,b,S){mh(m,b),S.length>0&&(m.i=null,m.g.set(sr(m,b),w(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],b=Array.from(this.g.keys());for(let D=0;D<b.length;D++){var S=b[D];const G=vs(S);S=Zl(this,S);for(let X=0;X<S.length;X++){let ht=G;S[X]!==""&&(ht+="="+vs(S[X])),m.push(ht)}}return this.i=m.join("&")};function gh(m){const b=new ir;return b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),b}function sr(m,b){return b=String(b),m.j&&(b=b.toLowerCase()),b}function Eo(m,b){b&&!m.j&&(En(m),m.i=null,m.g.forEach(function(S,D){const G=D.toLowerCase();D!=G&&(mh(this,D),To(this,G,S))},m)),m.j=b}function pi(m,b){const S=new di;if(c.Image){const D=new Image;D.onload=p(Yn,S,"TestLoadImage: loaded",!0,b,D),D.onerror=p(Yn,S,"TestLoadImage: error",!1,b,D),D.onabort=p(Yn,S,"TestLoadImage: abort",!1,b,D),D.ontimeout=p(Yn,S,"TestLoadImage: timeout",!1,b,D),c.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=m}else b(!1)}function tc(m,b){const S=new di,D=new AbortController,G=setTimeout(()=>{D.abort(),Yn(S,"TestPingServer: timeout",!1,b)},1e4);fetch(m,{signal:D.signal}).then(X=>{clearTimeout(G),X.ok?Yn(S,"TestPingServer: ok",!0,b):Yn(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(G),Yn(S,"TestPingServer: error",!1,b)})}function Yn(m,b,S,D,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),D(S)}catch{}}function rr(){this.g=new nh}function Gi(m){this.i=m.Sb||null,this.h=m.ab||!1}_(Gi,ih),Gi.prototype.g=function(){return new ma(this.i,this.h)};function ma(m,b){De.call(this),this.H=m,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(ma,De),n=ma.prototype,n.open=function(m,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=b,this.readyState=1,yi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(b.body=m),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var b=m.value?m.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!m.done}))&&(this.response=this.responseText+=b)}m.done?ar(this):yi(this),this.readyState==3&&So(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,ar(this))},n.Na=function(m){this.g&&(this.response=m,ar(this))},n.ga=function(){this.g&&ar(this)};function ar(m){m.readyState=4,m.l=null,m.j=null,m.B=null,yi(m)}n.setRequestHeader=function(m,b){this.A.append(m,b)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=b.next();return m.join(`\r
`)};function yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Kn(m){let b="";return Dt(m,function(S,D){b+=D,b+=":",b+=S,b+=`\r
`}),b}function ga(m,b,S){t:{for(D in S){var D=!1;break t}D=!0}D||(S=Kn(S),typeof m=="string"?S!=null&&vs(S):Jt(m,b,S))}function ne(m){De.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,De);var $i=/^https?$/i,ec=["POST","PUT"];n=ne.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,b,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);b=b?b.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ql.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(m),!0),this.B=!1}catch(X){pa(this,X);return}if(m=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var G in D)S.set(G,D[G]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const X of D.keys())S.set(X,D.get(X));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find(X=>X.toLowerCase()=="content-type"),G=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(ec,b,void 0)>=0)||D||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ht]of S)this.g.setRequestHeader(X,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(X){pa(this,X)}};function pa(m,b){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=b,m.o=5,nc(m),bs(m)}function nc(m){m.A||(m.A=!0,qe(m,"complete"),qe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,qe(this,"complete"),qe(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ya(this):this.Xa())},n.Xa=function(){ya(this)};function ya(m){if(m.h&&typeof o<"u"){if(m.v&&_i(m)==4)setTimeout(m.Ca.bind(m),0);else if(qe(m,"readystatechange"),_i(m)==4){m.h=!1;try{const X=m.ca();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var S;if(!(S=b)){var D;if(D=X===0){let ht=String(m.D).match(hh)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),D=!$i.test(ht?ht.toLowerCase():"")}S=D}if(S)qe(m,"complete"),qe(m,"success");else{m.o=6;try{var G=_i(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",nc(m)}}finally{bs(m)}}}}function bs(m,b){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,b||qe(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _i(m){return m.g?m.g.readyState:0}n.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var b=this.g.responseText;return m&&b.indexOf(m)==0&&(b=b.substring(m.length)),Am(b)}};function tn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(m){const b={};m=(m.g&&_i(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<m.length;D++){if(O(m[D]))continue;var S=lh(m[D]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const X=b[G]||[];b[G]=X,X.push(S)}Mt(b,function(D){return D.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yi(m,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||b}function or(m){this.za=0,this.i=[],this.j=new di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Yi("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Yi("baseRetryDelayMs",5e3,m),this.Za=Yi("retryDelaySeedMs",1e4,m),this.Ta=Yi("forwardChannelMaxRetries",2,m),this.va=Yi("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(m&&m.concurrentRequestLimit),this.Ba=new rr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=or.prototype,n.ka=8,n.I=1,n.connect=function(m,b,S,D){ke(0),this.W=m,this.H=b||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.J=Eh(this,null,this.W),Ki(this)};function ic(m){if(wo(m),m.I==3){var b=m.V++,S=Pe(m.J);if(Jt(S,"SID",m.M),Jt(S,"RID",b),Jt(S,"TYPE","terminate"),_a(m,S),b=new mi(m,m.j,b),b.M=2,b.A=fa(Pe(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=b.A,S=!0),S||(b.g=Sh(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Ui(b)}Th(m)}function lr(m){m.g&&(rc(m),m.g.cancel(),m.g=null)}function wo(m){lr(m),m.v&&(c.clearTimeout(m.v),m.v=null),Ao(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ki(m){if(!$l(m.h)&&!m.m){m.m=!0;var b=m.Ea;J||N(),tt||(J(),tt=!0),k.add(b,m),m.D=0}}function xo(m,b){return Fi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=b.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Li(d(m.Ea,m,b),bh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new mi(this,this.j,m);let X=this.o;if(this.U&&(X?(X=z(X),ct(X,this.U)):X=this.U),this.u!==null||this.R||(G.J=X,X=null),this.S)t:{for(var b=0,S=0;S<this.i.length;S++){e:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,b>4096){b=S;break t}if(b===4096||S===this.i.length-1){b=S+1;break t}}b=1e3}else b=1e3;b=ph(this,G,b),S=Pe(this.J),Jt(S,"RID",m),Jt(S,"CVER",22),this.G&&Jt(S,"X-HTTP-Session-Id",this.G),_a(this,S),X&&(this.R?b="headers="+vs(Kn(X))+"&"+b:this.u&&ga(S,this.u,X)),Yl(this.h,G),this.Ra&&Jt(S,"TYPE","init"),this.S?(Jt(S,"$req",b),Jt(S,"SID","null"),G.U=!0,ji(G,S,null)):ji(G,S,b),this.I=2}}else this.I==3&&(m?sc(this,m):this.i.length==0||$l(this.h)||sc(this))};function sc(m,b){var S;b?S=b.l:S=m.V++;const D=Pe(m.J);Jt(D,"SID",m.M),Jt(D,"RID",S),Jt(D,"AID",m.K),_a(m,D),m.u&&m.o&&ga(D,m.u,m.o),S=new mi(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),b&&(m.i=b.G.concat(m.i)),b=ph(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Yl(m.h,S),ji(S,D,b)}function _a(m,b){m.H&&Dt(m.H,function(S,D){Jt(b,D,S)}),m.l&&Dt({},function(S,D){Jt(b,D,S)})}function ph(m,b,S){S=Math.min(m.i.length,S);const D=m.l?d(m.l.Ka,m.l,m):null;t:{var G=m.i;let Ct=-1;for(;;){const we=["count="+S];Ct==-1?S>0?(Ct=G[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Kt=!0;for(let me=0;me<S;me++){var X=G[me].g;const Wn=G[me].map;if(X-=Ct,X<0)Ct=Math.max(0,G[me].g-100),Kt=!1;else try{X="req"+X+"_"||"";try{var ht=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Qi,vi]of ht){let bi=vi;h(vi)&&(bi=tr(vi)),we.push(X+Qi+"="+encodeURIComponent(bi))}}catch(Qi){throw we.push(X+"type="+encodeURIComponent("_badmap")),Qi}}catch{D&&D(Wn)}}if(Kt){ht=we.join("&");break t}}ht=void 0}return m=m.i.splice(0,S),b.G=m,ht}function yh(m){if(!m.g&&!m.v){m.Y=1;var b=m.Da;J||N(),tt||(J(),tt=!0),k.add(b,m),m.A=0}}function va(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Li(d(m.Da,m),bh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,_h(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Li(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),lr(this),_h(this))};function rc(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function _h(m){m.g=new mi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var b=Pe(m.na);Jt(b,"RID","rpc"),Jt(b,"SID",m.M),Jt(b,"AID",m.K),Jt(b,"CI",m.F?"0":"1"),!m.F&&m.ia&&Jt(b,"TO",m.ia),Jt(b,"TYPE","xmlhttp"),_a(m,b),m.u&&m.o&&ga(b,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=fa(Pe(b)),S.u=null,S.R=!0,yo(S,m)}n.Va=function(){this.C!=null&&(this.C=null,lr(this),va(this),ke(19))};function Ao(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function vh(m,b){var S=null;if(m.g==b){Ao(m),rc(m),m.g=null;var D=2}else if(Hi(m.h,b))S=b.G,Kl(m.h,b),D=1;else return;if(m.I!=0){if(b.o)if(D==1){S=b.u?b.u.length:0,b=Date.now()-b.F;var G=m.D;D=po(),qe(D,new Pi(D,S)),Ki(m)}else yh(m);else if(G=b.m,G==3||G==0&&b.X>0||!(D==1&&xo(m,b)||D==2&&va(m)))switch(S&&S.length>0&&(b=m.h,b.i=b.i.concat(S)),G){case 1:Wi(m,5);break;case 4:Wi(m,10);break;case 3:Wi(m,6);break;default:Wi(m,2)}}}function bh(m,b){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*b}function Wi(m,b){if(m.j.info("Error code "+b),b==2){var S=d(m.bb,m),D=m.Ua;const G=!D;D=new Mn(D||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||We(D,"https"),fa(D),G?pi(D.toString(),S):tc(D.toString(),S)}else ke(2);m.I=0,m.l&&m.l.pa(b),Th(m),wo(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function Th(m){if(m.I=0,m.ja=[],m.l){const b=Wl(m.h);(b.length!=0||m.i.length!=0)&&(R(m.ja,b),R(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function Eh(m,b,S){var D=S instanceof Mn?Pe(S):new Mn(S);if(D.g!="")b&&(D.g=b+"."+D.g),er(D,D.u);else{var G=c.location;D=G.protocol,b=b?b+"."+G.hostname:G.hostname,G=+G.port;const X=new Mn(null);D&&We(X,D),b&&(X.g=b),G&&er(X,G),S&&(X.h=S),D=X}return S=m.G,b=m.wa,S&&b&&Jt(D,S,b),Jt(D,"VER",m.ka),_a(m,D),D}function Sh(m,b,S){if(b&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=m.Aa&&!m.ma?new ne(new Gi({ab:S})):new ne(m.ma),b.Fa(m.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wh(){}n=wh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function cr(){}cr.prototype.g=function(m,b){return new _n(m,b)};function _n(m,b){De.call(this),this.g=new or(b),this.l=m,this.h=b&&b.messageUrlParams||null,m=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(m?m["X-WebChannel-Content-Type"]=b.messageContentType:m={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(m?m["X-WebChannel-Client-Profile"]=b.sa:m={"X-WebChannel-Client-Profile":b.sa}),this.g.U=m,(m=b&&b.Qb)&&!O(m)&&(this.g.u=m),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!O(b)&&(this.g.G=b,m=this.h,m!==null&&b in m&&(m=this.h,b in m&&delete m[b])),this.j=new Es(this)}_(_n,De),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){ic(this.g)},_n.prototype.o=function(m){var b=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=tr(m),m=S);b.i.push(new Oe(b.Ya++,m)),b.I==3&&Ki(b)},_n.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,_n.Z.N.call(this)};function xh(m){Ze.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var b=m.__sm__;if(b){t:{for(const S in b){m=S;break t}m=void 0}(this.i=m)&&(m=this.i,b=b!==null&&m in b?b[m]:void 0),this.data=b}else this.data=m}_(xh,Ze);function Ah(){Gn.call(this),this.status=1}_(Ah,Gn);function Es(m){this.g=m}_(Es,wh),Es.prototype.ra=function(){qe(this.g,"a")},Es.prototype.qa=function(m){qe(this.g,new xh(m))},Es.prototype.pa=function(m){qe(this.g,new Ah)},Es.prototype.oa=function(){qe(this.g,"b")},cr.prototype.createWebChannel=cr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,wx=function(){return new cr},Sx=function(){return po()},Ex=Se,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,rd=ua,Hl.COMPLETE="complete",Tx=Hl,sh.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",De.prototype.listen=De.prototype.J,eu=sh,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,bx=ne}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});let fn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let kl="12.10.0";function VO(n){kl=n}const Ja=new s_("@firebase/firestore");function sl(){return Ja.logLevel}function mt(n,...t){if(Ja.logLevel<=jt.DEBUG){const e=t.map(g_);Ja.debug(`Firestore (${kl}): ${n}`,...e)}}function Ws(n,...t){if(Ja.logLevel<=jt.ERROR){const e=t.map(g_);Ja.error(`Firestore (${kl}): ${n}`,...e)}}function Za(n,...t){if(Ja.logLevel<=jt.WARN){const e=t.map(g_);Ja.warn(`Firestore (${kl}): ${n}`,...e)}}function g_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,xx(n,i,e)}function xx(n,t,e){let i=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ws(i),new Error(i)}function Xt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||xx(t,r,i)}function Rt(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends _s{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Ax{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(fn.UNAUTHENTICATED)))}shutdown(){}}class UO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class zO{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Xt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gs,t.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await r(this.currentUser)}))},h=f=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gs)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Xt(typeof i.accessToken=="string",31837,{l:i}),new Ax(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class BO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new BO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HO{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Xt(this.o===void 0,3512);const i=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Xt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new PE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class p_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=qO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function py(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Up(r)===Up(o)?Ut(r,o):Up(r)?1:-1}return Ut(n.length,t.length)}const GO=55296,$O=57343;function Up(n){const t=n.charCodeAt(0);return t>=GO&&t<=$O}function bl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const LE="__name__";class ss{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=ss.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ut(t.length,e.length)}static compareSegments(t,e){const i=ss.isNumericId(t),r=ss.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ss.extractNumericId(t).compare(ss.extractNumericId(e)):py(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class oe extends ss{construct(t,e,i){return new oe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new dt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new oe(e)}static emptyPath(){return new oe([])}}const YO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends ss{construct(t,e,i){return new on(t,e,i)}static isValidIdentifier(t){return YO.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new on([LE])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new dt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new dt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new dt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new on(e)}static emptyPath(){return new on([])}}class bt{constructor(t){this.path=t}static fromPath(t){return new bt(oe.fromString(t))}static fromName(t){return new bt(oe.fromString(t).popFirst(5))}static empty(){return new bt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new bt(new oe(t.slice()))}}function Rx(n,t,e){if(!e)throw new dt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function KO(n,t,e,i){if(t===!0&&i===!0)throw new dt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function VE(n){if(!bt.isDocumentKey(n))throw new dt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jE(n){if(bt.isDocumentKey(n))throw new dt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function Ni(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new dt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=em(n);throw new dt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Fe(n,t){const e={typeString:n};return t&&(e.value=t),e}function $u(n,t){if(!Cx(n))throw new dt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new dt(rt.INVALID_ARGUMENT,e);return!0}const UE=-62135596800,zE=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*zE);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new dt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<UE)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($u(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Fe("string",fe._jsonSchemaVersion),seconds:Fe("number"),nanoseconds:Fe("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new fe(0,0))}static max(){return new xt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function WO(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new Kr(r,bt.empty(),t)}function QO(n){return new Kr(n.readTime,n.key,wu)}class Kr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Kr(xt.min(),bt.empty(),wu)}static max(){return new Kr(xt.max(),bt.empty(),wu)}}function XO(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=bt.comparator(n.documentKey,t.documentKey),e!==0?e:Ut(n.largestBatchId,t.largestBatchId))}const JO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ml(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==JO)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let r=0,o=0,c=!1;t.forEach((h=>{++r,h.next((()=>{++o,c&&o===r&&e()}),(f=>i(f)))})),c=!0,o===r&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((r=>r?ot.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((p=>{c[d]=p,++h,h===o&&i(c)}),(p=>r(p)))}}))}static doWhile(t,e){return new ot(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function tP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ol(n){return n.name==="IndexedDbTransactionError"}class nm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nm.ce=-1;const y_=-1;function im(n){return n==null}function Sd(n){return n===0&&1/n==-1/0}function eP(n){return typeof n=="number"&&Number.isInteger(n)&&!Sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ix="";function nP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BE(t)),t=iP(n.get(e),t);return BE(t)}function iP(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Ix:e+="";break;default:e+=o}}return e}function BE(n){return n+Ix+""}function FE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function na(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Nx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class _e{constructor(t,e){this.comparator=t,this.root=e||an.EMPTY}insert(t,e){return new _e(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Of(this.root,t,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Of(this.root,t,this.comparator,!0)}}class Of{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??an.RED,this.left=r??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new an(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return an.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new an(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(t){return new HE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class HE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(t){this.fields=t,t.sort(on.comparator)}static empty(){return new Fn([])}unionWith(t){let e=new Ye(on.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Fn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return bl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Dx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Dx("Invalid base64 string: "+o):o}})(t);return new ln(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o})(t);return new ln(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const sP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(n){if(Xt(!!n,39018),typeof n=="string"){let t=0;const e=sP.exec(n);if(Xt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qr(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}const kx="server_timestamp",Mx="__type__",Ox="__previous_value__",Px="__local_write_time__";function __(n){return(n?.mapValue?.fields||{})[Mx]?.stringValue===kx}function sm(n){const t=n.mapValue.fields[Ox];return __(t)?sm(t):t}function xu(n){const t=Wr(n.mapValue.fields[Px].timestampValue);return new fe(t.seconds,t.nanos)}class rP{constructor(t,e,i,r,o,c,h,f,d,p,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=p,this.apiKey=_}}const wd="(default)";class Au{constructor(t,e){this.projectId=t,this.database=e||wd}static empty(){return new Au("","")}get isDefaultDatabase(){return this.database===wd}isEqual(t){return t instanceof Au&&t.projectId===this.projectId&&t.database===this.database}}function aP(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new dt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Au(n.options.projectId,t)}const Lx="__type__",oP="__max__",Pf={mapValue:{}},Vx="__vector__",xd="value";function Xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?__(n)?4:cP(n)?9007199254740991:lP(n)?10:11:St(28295,{value:n})}function ps(n,t){if(n===t)return!0;const e=Xr(n);if(e!==Xr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return xu(n).isEqual(xu(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Wr(r.timestampValue),h=Wr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Qr(r.bytesValue).isEqual(Qr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Re(r.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(r.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Re(r.integerValue)===Re(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Re(r.doubleValue),h=Re(o.doubleValue);return c===h?Sd(c)===Sd(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return bl(n.arrayValue.values||[],t.arrayValue.values||[],ps);case 10:case 11:return(function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(FE(c)!==FE(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ps(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function Ru(n,t){return(n.values||[]).find((e=>ps(e,t)))!==void 0}function Tl(n,t){if(n===t)return 0;const e=Xr(n),i=Xr(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Re(o.integerValue||o.doubleValue),f=Re(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return qE(n.timestampValue,t.timestampValue);case 4:return qE(xu(n),xu(t));case 5:return py(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Qr(o),f=Qr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const p=Ut(h[d],f[d]);if(p!==0)return p}return Ut(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Ut(Re(o.latitude),Re(c.latitude));return h!==0?h:Ut(Re(o.longitude),Re(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return GE(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},d=h[xd]?.arrayValue,p=f[xd]?.arrayValue,_=Ut(d?.values?.length||0,p?.values?.length||0);return _!==0?_:GE(d,p)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===Pf.mapValue&&c===Pf.mapValue)return 0;if(o===Pf.mapValue)return 1;if(c===Pf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let _=0;_<f.length&&_<p.length;++_){const T=py(f[_],p[_]);if(T!==0)return T;const w=Tl(h[f[_]],d[p[_]]);if(w!==0)return w}return Ut(f.length,p.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function qE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ut(n,t);const e=Wr(n),i=Wr(t),r=Ut(e.seconds,i.seconds);return r!==0?r:Ut(e.nanos,i.nanos)}function GE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Tl(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function El(n){return yy(n)}function yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Wr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Qr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return bt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=yy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${yy(e.fields[c])}`;return r+"}"})(n.mapValue):St(61005,{value:n})}function ad(n){switch(Xr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sm(n);return t?16+ad(t):16;case 5:return 2*n.stringValue.length;case 6:return Qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+ad(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return na(i.fields,((o,c)=>{r+=o.length+ad(c)})),r})(n.mapValue);default:throw St(13486,{value:n})}}function $E(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function v_(n){return!!n&&"arrayValue"in n}function YE(n){return!!n&&"nullValue"in n}function KE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function od(n){return!!n&&"mapValue"in n}function lP(n){return(n?.mapValue?.fields||{})[Lx]?.stringValue===Vx}function hu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return na(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=hu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=hu(n.arrayValue.values[e]);return t}return{...n}}function cP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oP}class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!od(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=hu(e)}setAll(t){let e=on.emptyPath(),i={},r=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=hu(c):r.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());od(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ps(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];od(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){na(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Nn(hu(this.value))}}function jx(n){const t=[];return na(n.fields,((e,i)=>{const r=new on([e]);if(od(i)){const o=jx(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)})),new Fn(t)}class dn{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new dn(t,0,xt.min(),xt.min(),xt.min(),Nn.empty(),0)}static newFoundDocument(t,e,i,r){return new dn(t,1,e,xt.min(),i,r,0)}static newNoDocument(t,e){return new dn(t,2,e,xt.min(),xt.min(),Nn.empty(),0)}static newUnknownDocument(t,e){return new dn(t,3,e,xt.min(),xt.min(),Nn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ad{constructor(t,e){this.position=t,this.inclusive=e}}function WE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=bt.comparator(bt.fromName(c.referenceValue),e.key):i=Tl(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function QE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ps(n.position[e],t.position[e]))return!1;return!0}class Cu{constructor(t,e="asc"){this.field=t,this.dir=e}}function uP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Ux{}class Be extends Ux{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new fP(t,e,i):e==="array-contains"?new gP(t,i):e==="in"?new pP(t,i):e==="not-in"?new yP(t,i):e==="array-contains-any"?new _P(t,i):new Be(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new dP(t,i):new mP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Tl(e,this.value)):e!==null&&Xr(this.value)===Xr(e)&&this.matchesComparison(Tl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends Ux{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Di(t,e)}matches(t){return zx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zx(n){return n.op==="and"}function Bx(n){return hP(n)&&zx(n)}function hP(n){for(const t of n.filters)if(t instanceof Di)return!1;return!0}function vy(n){if(n instanceof Be)return n.field.canonicalString()+n.op.toString()+El(n.value);if(Bx(n))return n.filters.map((t=>vy(t))).join(",");{const t=n.filters.map((e=>vy(e))).join(",");return`${n.op}(${t})`}}function Fx(n,t){return n instanceof Be?(function(i,r){return r instanceof Be&&i.op===r.op&&i.field.isEqual(r.field)&&ps(i.value,r.value)})(n,t):n instanceof Di?(function(i,r){return r instanceof Di&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,c,h)=>o&&Fx(c,r.filters[h])),!0):!1})(n,t):void St(19439)}function Hx(n){return n instanceof Be?(function(e){return`${e.field.canonicalString()} ${e.op} ${El(e.value)}`})(n):n instanceof Di?(function(e){return e.op.toString()+" {"+e.getFilters().map(Hx).join(" ,")+"}"})(n):"Filter"}class fP extends Be{constructor(t,e,i){super(t,e,i),this.key=bt.fromName(i.referenceValue)}matches(t){const e=bt.comparator(t.key,this.key);return this.matchesComparison(e)}}class dP extends Be{constructor(t,e){super(t,"in",e),this.keys=qx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class mP extends Be{constructor(t,e){super(t,"not-in",e),this.keys=qx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function qx(n,t){return(t.arrayValue?.values||[]).map((e=>bt.fromName(e.referenceValue)))}class gP extends Be{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return v_(e)&&Ru(e.arrayValue,this.value)}}class pP extends Be{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ru(this.value.arrayValue,e)}}class yP extends Be{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ru(this.value.arrayValue,e)}}class _P extends Be{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!v_(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Ru(this.value.arrayValue,i)))}}class vP{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function XE(n,t=null,e=[],i=[],r=null,o=null,c=null){return new vP(n,t,e,i,r,o,c)}function b_(n){const t=Rt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>vy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),im(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>El(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>El(i))).join(",")),t.Te=e}return t.Te}function T_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!uP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Fx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!QE(n.startAt,t.startAt)&&QE(n.endAt,t.endAt)}function by(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Pl{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bP(n,t,e,i,r,o,c,h){return new Pl(n,t,e,i,r,o,c,h)}function E_(n){return new Pl(n)}function JE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TP(n){return bt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Gx(n){return n.collectionGroup!==null}function fu(n){const t=Rt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ye(on.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Cu(o,i))})),e.has(on.keyField().canonicalString())||t.Ie.push(new Cu(on.keyField(),i))}return t.Ie}function fs(n){const t=Rt(n);return t.Ee||(t.Ee=EP(t,fu(n))),t.Ee}function EP(n,t){if(n.limitType==="F")return XE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Cu(r.field,o)}));const e=n.endAt?new Ad(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ad(n.startAt.position,n.startAt.inclusive):null;return XE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ty(n,t){const e=n.filters.concat([t]);return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function SP(n,t){const e=n.explicitOrderBy.concat([t]);return new Pl(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Rd(n,t,e){return new Pl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function rm(n,t){return T_(fs(n),fs(t))&&n.limitType===t.limitType}function $x(n){return`${b_(fs(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>Hx(r))).join(", ")}]`),im(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>El(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>El(r))).join(",")),`Target(${i})`})(fs(n))}; limitType=${n.limitType})`}function am(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):bt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of fu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(c,h,f){const d=WE(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,fu(i),r)||i.endAt&&!(function(c,h,f){const d=WE(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,fu(i),r))})(n,t)}function wP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Yx(n){return(t,e)=>{let i=!1;for(const r of fu(n)){const o=xP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function xP(n,t,e){const i=n.field.isKeyField()?bt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Tl(f,d):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class oo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}const AP=new _e(bt.comparator);function Qs(){return AP}const Kx=new _e(bt.comparator);function nu(...n){let t=Kx;for(const e of n)t=t.insert(e.key,e);return t}function Wx(n){let t=Kx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Fa(){return du()}function Qx(){return du()}function du(){return new oo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const RP=new _e(bt.comparator),CP=new Ye(bt.comparator);function zt(...n){let t=CP;for(const e of n)t=t.add(e);return t}const IP=new Ye(Ut);function NP(){return IP}function S_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(t)?"-0":t}}function Xx(n){return{integerValue:""+n}}function DP(n,t){return eP(t)?Xx(t):S_(n,t)}class om{constructor(){this._=void 0}}function kP(n,t,e){return n instanceof Cd?(function(r,o){const c={fields:{[Mx]:{stringValue:kx},[Px]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&__(o)&&(o=sm(o)),o&&(c.fields[Ox]=o),{mapValue:c}})(e,t):n instanceof Iu?Zx(n,t):n instanceof Nu?tA(n,t):(function(r,o){const c=Jx(r,o),h=ZE(c)+ZE(r.Ae);return _y(c)&&_y(r.Ae)?Xx(h):S_(r.serializer,h)})(n,t)}function MP(n,t,e){return n instanceof Iu?Zx(n,t):n instanceof Nu?tA(n,t):e}function Jx(n,t){return n instanceof Id?(function(i){return _y(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Cd extends om{}class Iu extends om{constructor(t){super(),this.elements=t}}function Zx(n,t){const e=eA(t);for(const i of n.elements)e.some((r=>ps(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Nu extends om{constructor(t){super(),this.elements=t}}function tA(n,t){let e=eA(t);for(const i of n.elements)e=e.filter((r=>!ps(r,i)));return{arrayValue:{values:e}}}class Id extends om{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ZE(n){return Re(n.integerValue||n.doubleValue)}function eA(n){return v_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function OP(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Iu&&r instanceof Iu||i instanceof Nu&&r instanceof Nu?bl(i.elements,r.elements,ps):i instanceof Id&&r instanceof Id?ps(i.Ae,r.Ae):i instanceof Cd&&r instanceof Cd})(n.transform,t.transform)}class PP{constructor(t,e){this.version=t,this.transformResults=e}}class li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new li}static exists(t){return new li(void 0,t)}static updateTime(t){return new li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ld(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class lm{}function nA(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new w_(n.key,li.none()):new Yu(n.key,n.data,li.none());{const e=n.data,i=Nn.empty();let r=new Ye(on.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new ia(n.key,i,new Fn(r.toArray()),li.none())}}function LP(n,t,e){n instanceof Yu?(function(r,o,c){const h=r.value.clone(),f=e1(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof ia?(function(r,o,c){if(!ld(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=e1(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(iA(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function mu(n,t,e,i){return n instanceof Yu?(function(o,c,h,f){if(!ld(o.precondition,c))return h;const d=o.value.clone(),p=n1(o.fieldTransforms,f,c);return d.setAll(p),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof ia?(function(o,c,h,f){if(!ld(o.precondition,c))return h;const d=n1(o.fieldTransforms,f,c),p=c.data;return p.setAll(iA(o)),p.setAll(d),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return ld(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function VP(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Jx(i.transform,r||null);o!=null&&(e===null&&(e=Nn.empty()),e.set(i.field,o))}return e||null}function t1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&bl(i,r,((o,c)=>OP(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Yu extends lm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ia extends lm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function iA(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function e1(n,t,e){const i=new Map;Xt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,MP(c,h,e[r]))}return i}function n1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,kP(o,c,t))}return i}class w_ extends lm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends lm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&LP(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=mu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=mu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Qx();return this.mutations.forEach((r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=nA(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(xt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),zt())}isEqual(t){return this.batchId===t.batchId&&bl(this.mutations,t.mutations,((e,i)=>t1(e,i)))&&bl(this.baseMutations,t.baseMutations,((e,i)=>t1(e,i)))}}class x_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Xt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return RP})();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new x_(t,e,i,r)}}class zP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BP{constructor(t,e){this.count=t,this.unchangedNames=e}}var ze,Ht;function FP(n){switch(n){case rt.OK:return St(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function sA(n){if(n===void 0)return Ws("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ze.OK:return rt.OK;case ze.CANCELLED:return rt.CANCELLED;case ze.UNKNOWN:return rt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return rt.INTERNAL;case ze.UNAVAILABLE:return rt.UNAVAILABLE;case ze.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ze.NOT_FOUND:return rt.NOT_FOUND;case ze.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ze.ABORTED:return rt.ABORTED;case ze.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ze.DATA_LOSS:return rt.DATA_LOSS;default:return St(39323,{code:n})}}(Ht=ze||(ze={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";function HP(){return new TextEncoder}const qP=new Hr([4294967295,4294967295],0);function i1(n){const t=HP().encode(n),e=new vx;return e.update(t),new Uint8Array(e.digest())}function s1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Hr([e,i],0),new Hr([r,o],0)]}class A_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new iu(`Invalid padding: ${e}`);if(i<0)throw new iu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new iu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Hr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Hr.fromNumber(i)));return r.compare(qP)===1&&(r=new Hr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=i1(t),[i,r]=s1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new A_(o,r,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=i1(t),[i,r]=s1(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.be(c)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Ku.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new cm(xt.min(),r,new _e(Ut),Qs(),zt())}}class Ku{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ku(i,e,zt(),zt(),zt())}}class cd{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=r}}class rA{constructor(t,e){this.targetId=t,this.Ce=e}}class aA{constructor(t,e,i=ln.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class r1{constructor(){this.ve=0,this.Fe=a1(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),e=zt(),i=zt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:St(38017,{changeType:o})}})),new Ku(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=a1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class GP{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qs(),this.He=Lf(),this.Je=Lf(),this.Ze=new _e(Ut)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(by(o))if(i===0){const c=new bt(o.path);this.et(e,c,dn.newNoDocument(c,xt.min()))}else Xt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,h;try{c=Qr(i).toUint8Array()}catch(f){if(f instanceof Dx)return Za("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new A_(c,r,o)}catch(f){return Za(f instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&by(h.target)){const f=new bt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,dn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.Ke())}}));let i=zt();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const r=new cm(t,e,this.Ze,this.je,i);return this.je=Qs(),this.He=Lf(),this.Je=Lf(),this.Ze=new _e(Ut),r}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new r1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new Ye(Ut),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new Ye(Ut),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new r1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Lf(){return new _e(bt.comparator)}function a1(){return new _e(bt.comparator)}const $P={asc:"ASCENDING",desc:"DESCENDING"},YP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KP={and:"AND",or:"OR"};class WP{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ey(n,t){return n.useProto3Json||im(t)?t:{value:t}}function Nd(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function QP(n,t){return Nd(n,t.toTimestamp())}function ds(n){return Xt(!!n,49232),xt.fromTimestamp((function(e){const i=Wr(e);return new fe(i.seconds,i.nanos)})(n))}function R_(n,t){return Sy(n,t).canonicalString()}function Sy(n,t){const e=(function(r){return new oe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function lA(n){const t=oe.fromString(n);return Xt(dA(t),10190,{key:t.toString()}),t}function wy(n,t){return R_(n.databaseId,t.path)}function zp(n,t){const e=lA(t);if(e.get(1)!==n.databaseId.projectId)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new dt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new bt(uA(e))}function cA(n,t){return R_(n.databaseId,t)}function XP(n){const t=lA(n);return t.length===4?oe.emptyPath():uA(t)}function xy(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uA(n){return Xt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function o1(n,t,e){return{name:wy(n,t),fields:e.value.mapValue.fields}}function JP(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:St(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(d,p){return d.useProto3Json?(Xt(p===void 0||typeof p=="string",58123),ln.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ln.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const p=d.code===void 0?rt.UNKNOWN:sA(d.code);return new dt(p,d.message||"")})(c);e=new aA(i,r,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=zp(n,i.document.name),o=ds(i.document.updateTime),c=i.document.createTime?ds(i.document.createTime):xt.min(),h=new Nn({mapValue:{fields:i.document.fields}}),f=dn.newFoundDocument(r,o,c,h),d=i.targetIds||[],p=i.removedTargetIds||[];e=new cd(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=zp(n,i.document),o=i.readTime?ds(i.readTime):xt.min(),c=dn.newNoDocument(r,o),h=i.removedTargetIds||[];e=new cd([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=zp(n,i.document),o=i.removedTargetIds||[];e=new cd([],o,r,null)}else{if(!("filter"in t))return St(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new BP(r,o),h=i.targetId;e=new rA(h,c)}}return e}function ZP(n,t){let e;if(t instanceof Yu)e={update:o1(n,t.key,t.value)};else if(t instanceof w_)e={delete:wy(n,t.key)};else if(t instanceof ia)e={update:o1(n,t.key,t.data),updateMask:l4(t.fieldMask)};else{if(!(t instanceof jP))return St(16599,{dt:t.type});e={verify:wy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof Cd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Id)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:QP(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function t4(n,t){return n&&n.length>0?(Xt(t!==void 0,14353),n.map((e=>(function(r,o){let c=r.updateTime?ds(r.updateTime):ds(o);return c.isEqual(xt.min())&&(c=ds(o)),new PP(c,r.transformResults||[])})(e,t)))):[]}function e4(n,t){return{documents:[cA(n,t.path)]}}function n4(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=cA(n,r);const o=(function(d){if(d.length!==0)return fA(Di.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((p=>(function(T){return{field:al(T.field),direction:r4(T.dir)}})(p)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Ey(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:r}}function i4(n){let t=XP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Xt(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(_){const T=hA(_);return T instanceof Di&&Bx(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((T=>(function(R){return new Cu(ol(R.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,im(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(_){const T=!!_.before,w=_.values||[];return new Ad(w,T)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const T=!_.before,w=_.values||[];return new Ad(w,T)})(e.endAt)),bP(t,r,c,o,h,"F",f,d)}function s4(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function hA(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ol(e.unaryFilter.field);return Be.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ol(e.unaryFilter.field);return Be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ol(e.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ol(e.unaryFilter.field);return Be.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Be.create(ol(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Di.create(e.compositeFilter.filters.map((i=>hA(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function r4(n){return $P[n]}function a4(n){return YP[n]}function o4(n){return KP[n]}function al(n){return{fieldPath:n.canonicalString()}}function ol(n){return on.fromServerFormat(n.fieldPath)}function fA(n){return n instanceof Be?(function(e){if(e.op==="=="){if(KE(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NAN"}};if(YE(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(KE(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NAN"}};if(YE(e.value))return{unaryFilter:{field:al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(e.field),op:a4(e.op),value:e.value}}})(n):n instanceof Di?(function(e){const i=e.getFilters().map((r=>fA(r)));return i.length===1?i[0]:{compositeFilter:{op:o4(e.op),filters:i}}})(n):St(54877,{filter:n})}function l4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function dA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function mA(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class jr{constructor(t,e,i,r,o=xt.min(),c=xt.min(),h=ln.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new jr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class c4{constructor(t){this.yt=t}}function u4(n){const t=i4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rd(t,t.limit,"L"):t}class h4{constructor(){this.Sn=new f4}addToCollectionParentIndex(t,e){return this.Sn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(Kr.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class f4{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Ye(oe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Ye(oe.comparator)).toArray()}}const l1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gA=41943040;class In{static withCacheSize(t){return new In(t,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(gA,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Sl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Sl(0)}static ar(){return new Sl(-1)}}const c1="LruGarbageCollector",d4=1048576;function u1([n,t],[e,i]){const r=Ut(n,e);return r===0?Ut(t,i):r}class m4{constructor(t){this.Pr=t,this.buffer=new Ye(u1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();u1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class g4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){mt(c1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ol(e)?mt(c1,"Ignoring IndexedDB error during garbage collection: ",e):await Ml(e)}await this.Ar(3e5)}))}}class p4{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(nm.ce);const i=new m4(e);return this.Vr.forEachTarget(t,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(t,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(l1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,r,o,c,h,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),sl()<=jt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function y4(n,t){return new p4(n,t)}class _4{constructor(){this.changes=new oo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class v4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class b4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&mu(i.mutation,r,Fn.empty(),fe.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,zt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=zt()){const r=Fa();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let c=nu();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Fa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,zt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,r){let o=Qs();const c=du(),h=(function(){return du()})();return e.forEach(((f,d)=>{const p=i.get(d.key);r.has(d.key)&&(p===void 0||p.mutation instanceof ia)?o=o.insert(d.key,d):p!==void 0?(c.set(d.key,p.mutation.getFieldMask()),mu(p.mutation,d,p.mutation.getFieldMask(),fe.now())):c.set(d.key,Fn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,p)=>c.set(d,p))),e.forEach(((d,p)=>h.set(d,new v4(p,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=du();let r=new _e(((c,h)=>c-h)),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let p=i.get(f)||Fn.empty();p=h.applyToLocalView(d,p),i.set(f,p);const _=(r.get(h.batchId)||zt()).add(f);r=r.insert(h.batchId,_)}))})).next((()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,p=f.value,_=Qx();p.forEach((T=>{if(!o.has(T)){const w=nA(e.get(T),i.get(T));w!==null&&_.set(T,w),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return ot.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return TP(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Gx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ot.resolve(Fa());let h=wu,f=o;return c.next((d=>ot.forEach(d,((p,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(p)?ot.resolve():this.remoteDocumentCache.getEntry(t,p).next((T=>{f=f.insert(p,T)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,zt()))).next((p=>({batchId:h,changes:Wx(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new bt(e)).next((i=>{let r=nu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=nu();return this.indexManager.getCollectionParents(t,o).next((h=>ot.forEach(h,(f=>{const d=(function(_,T){return new Pl(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next((p=>{p.forEach(((_,T)=>{c=c.insert(_,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((c=>{o.forEach(((f,d)=>{const p=d.getKey();c.get(p)===null&&(c=c.insert(p,dn.newInvalidDocument(p)))}));let h=nu();return c.forEach(((f,d)=>{const p=o.get(f);p!==void 0&&mu(p.mutation,d,Fn.empty(),fe.now()),am(e,d)&&(h=h.insert(f,d))})),h}))}}class T4{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return ot.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ds(r.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(r){return{name:r.name,query:u4(r.bundledQuery),readTime:ds(r.readTime)}})(e)),ot.resolve()}}class E4{constructor(){this.overlays=new _e(bt.comparator),this.Lr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Fa();return ot.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.bt(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const r=Fa(),o=e.length+1,c=new bt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ot.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new _e(((d,p)=>d-p));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=Fa(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const h=Fa(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,p)=>h.set(d,p))),!(h.size()>=r)););return ot.resolve(h)}bt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new zP(e,i));let o=this.Lr.get(e);o===void 0&&(o=zt(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class S4{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class C_{constructor(){this.kr=new Ye(Xe.Kr),this.qr=new Ye(Xe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new Xe(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new Xe(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new bt(new oe([])),i=new Xe(e,t),r=new Xe(e,t+1),o=[];return this.qr.forEachInRange([i,r],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new bt(new oe([])),i=new Xe(e,t),r=new Xe(e,t+1);let o=zt();return this.qr.forEachInRange([i,r],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Xe(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Xe{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return bt.comparator(t.key,e.key)||Ut(t.Hr,e.Hr)}static Ur(t,e){return Ut(t.Hr,e.Hr)||bt.comparator(t.key,e.key)}}class w4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new Ye(Xe.Kr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new UP(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Jr=this.Jr.add(new Xe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ot.resolve(c)}lookupMutationBatch(t,e){return ot.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?y_:this.Yn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Xe(e,0),r=new Xe(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,r],(c=>{const h=this.Zr(c.Hr);o.push(h)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ye(Ut);return e.forEach((r=>{const o=new Xe(r,0),c=new Xe(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{i=i.add(h.Hr)}))})),ot.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;bt.isDocumentKey(o)||(o=o.child(""));const c=new Xe(new bt(o),0);let h=new Ye(Ut);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(h=h.add(f.Hr)),!0)}),c),ot.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const r=this.Zr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){Xt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ot.forEach(e.mutations,(r=>{const o=new Xe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new Xe(e,0),r=this.Jr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class x4{constructor(t){this.ti=t,this.docs=(function(){return new _e(bt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(e))}getEntries(t,e){let i=Qs();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Qs();const c=e.path,h=new bt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||XO(QO(p),i)<=0||(r.has(p.key)||am(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,r){St(9500)}ni(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new A4(this)}getSize(t){return ot.resolve(this.size)}}class A4 extends _4{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class R4{constructor(t){this.persistence=t,this.ri=new oo((e=>b_(e)),T_),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ii=0,this.si=new C_,this.targetCount=0,this.oi=Sl._r()}forEachTarget(t,e){return this.ri.forEach(((i,r)=>e(r))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),ot.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Sl(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.lr(e),ot.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)})),ot.waitFor(o).next((()=>r))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((c=>{o.push(r.markPotentiallyOrphaned(t,c))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.si.containsKey(e))}}class pA{constructor(t,e){this._i={},this.overlays={},this.ai=new nm(0),this.ui=!1,this.ui=!0,this.ci=new S4,this.referenceDelegate=t(this),this.li=new R4(this),this.indexManager=new h4,this.remoteDocumentCache=(function(r){return new x4(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new c4(e),this.Pi=new T4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new E4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new w4(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){mt("MemoryPersistence","Starting transaction:",t);const r=new C4(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(t,e){return ot.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class C4 extends ZO{constructor(t){super(),this.currentSequenceNumber=t}}class I_{constructor(t){this.persistence=t,this.Ri=new C_,this.Ai=null}static Vi(t){return new I_(t)}get di(){if(this.Ai)return this.Ai;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,(i=>{const r=bt.fromPath(i);return this.mi(t,r).next((o=>{o||e.removeEntry(r,xt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Dd{constructor(t,e){this.persistence=t,this.fi=new oo((i=>nP(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=y4(this,e)}static Vi(t,e){return new Dd(t,e)}Ti(){}Ii(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return ot.forEach(this.fi,((i,r)=>this.wr(t,i,r).next((o=>o?ot.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(t,(c=>this.wr(t,c,e).next((h=>{h||(i++,o.removeEntry(c,xt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ad(t.data.value)),e}wr(t,e,i){return ot.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.fi.get(e);return ot.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class N_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=r}static Es(t,e){let i=zt(),r=zt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new N_(t,e.fromCache,i,r)}}class I4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class N4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sD()?8:tP(gn())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.gs(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(t,e,r,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new I4;return this.ys(t,e,c).next((h=>{if(o.result=h,this.As)return this.ws(t,e,c,h.size)}))})).next((()=>o.result))}ws(t,e,i,r){return i.documentReadCount<this.Vs?(sl()<=jt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",rl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ot.resolve()):(sl()<=jt.DEBUG&&mt("QueryEngine","Query:",rl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(sl()<=jt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",rl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fs(e))):ot.resolve())}gs(t,e){if(JE(e))return ot.resolve(null);let i=fs(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Rd(e,null,"F"),i=fs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=zt(...o);return this.fs.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.bs(e,h);return this.Ss(e,d,c,f.readTime)?this.gs(t,Rd(e,null,"F")):this.Ds(t,d,e,f)}))))})))))}ps(t,e,i,r){return JE(e)||r.isEqual(xt.min())?ot.resolve(null):this.fs.getDocuments(t,i).next((o=>{const c=this.bs(e,o);return this.Ss(e,c,i,r)?ot.resolve(null):(sl()<=jt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rl(e)),this.Ds(t,c,e,WO(r,wu)).next((h=>h)))}))}bs(t,e){let i=new Ye(Yx(t));return e.forEach(((r,o)=>{am(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(t,e,i){return sl()<=jt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",rl(e)),this.fs.getDocumentsMatchingQuery(t,e,Kr.min(),i)}Ds(t,e,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const D_="LocalStore",D4=3e8;class k4{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new _e(Ut),this.Fs=new oo((o=>b_(o)),T_),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function M4(n,t,e,i){return new k4(n,t,e,i)}async function yA(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=zt();for(const d of r){c.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){h.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ns:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function O4(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,p){const _=d.batch,T=_.keys();let w=ot.resolve();return T.forEach((R=>{w=w.next((()=>p.getEntry(f,R))).next((I=>{const x=d.docVersions.get(R);Xt(x!==null,48541),I.version.compareTo(x)<0&&(_.applyToRemoteDocument(I,d),I.isValidDocument()&&(I.setReadTime(d.commitVersion),p.addEntry(I)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=zt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function _A(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function P4(n,t){const e=Rt(n),i=t.snapshotVersion;let r=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.xs.newChangeBuffer({trackRemovals:!0});r=e.vs;const h=[];t.targetChanges.forEach(((p,_)=>{const T=r.get(_);if(!T)return;h.push(e.li.removeMatchingKeys(o,p.removedDocuments,_).next((()=>e.li.addMatchingKeys(o,p.addedDocuments,_))));let w=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?w=w.withResumeToken(ln.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,i)),r=r.insert(_,w),(function(I,x,L){return I.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=D4?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(T,w,p)&&h.push(e.li.updateTargetData(o,w))}));let f=Qs(),d=zt();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),h.push(L4(o,c,t.documentUpdates).next((p=>{f=p.Bs,d=p.Ls}))),!i.isEqual(xt.min())){const p=e.li.getLastRemoteSnapshotVersion(o).next((_=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(p)}return ot.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.vs=r,o)))}function L4(n,t,e){let i=zt(),r=zt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Qs();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(h)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):mt(D_,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{Bs:c,Ls:r}}))}function V4(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=y_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function j4(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.li.getTargetData(i,t).next((o=>o?(r=o,ot.resolve(r)):e.li.allocateTargetId(i).next((c=>(r=new jr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function Ay(n,t,e){const i=Rt(n),r=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Ol(c))throw c;mt(D_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function h1(n,t,e){const i=Rt(n);let r=xt.min(),o=zt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,p){const _=Rt(f),T=_.Fs.get(p);return T!==void 0?ot.resolve(_.vs.get(T)):_.li.getTargetData(d,p)})(i,c,fs(t)).next((h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,t,e?r:xt.min(),e?o:zt()))).next((h=>(U4(i,wP(t),h),{documents:h,ks:o})))))}function U4(n,t,e){let i=n.Ms.get(t)||xt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class f1{constructor(){this.activeTargetIds=NP()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z4{constructor(){this.vo=new f1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new f1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B4{Mo(t){}shutdown(){}}const d1="ConnectivityMonitor";class m1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){mt(d1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){mt(d1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vf=null;function Ry(){return Vf===null?Vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vf++,"0x"+Vf.toString(16)}const Bp="RestConnection",F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class H4{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===wd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const c=Ry(),h=this.Qo(t,e.toUriEncodedString());mt(Bp,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,r,o);const{host:d}=new URL(h),p=ea(d);return this.zo(t,h,f,i,p).then((_=>(mt(Bp,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Za(Bp,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}jo(t,e,i,r,o,c){return this.Wo(t,e,i,r,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}Qo(t,e){const i=F4[t];let r=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class q4{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const un="WebChannelConnection",Gc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class dl extends H4{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!dl.c_){const t=Sx();Gc(t,Ex.STAT_EVENT,(e=>{e.stat===gy.PROXY?mt(un,"STAT_EVENT: detected buffering proxy"):e.stat===gy.NOPROXY&&mt(un,"STAT_EVENT: detected no buffering proxy")})),dl.c_=!0}}zo(t,e,i,r,o){const c=Ry();return new Promise(((h,f)=>{const d=new bx;d.setWithCredentials(!0),d.listenOnce(Tx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case rd.NO_ERROR:const _=d.getResponseJson();mt(un,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case rd.TIMEOUT:mt(un,`RPC '${t}' ${c} timed out`),f(new dt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const T=d.getStatus();if(mt(un,`RPC '${t}' ${c} failed with status:`,T,"response text:",d.getResponseText()),T>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const R=w?.error;if(R&&R.status&&R.message){const I=(function(L){const U=L.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(U)>=0?U:rt.UNKNOWN})(R.status);f(new dt(I,R.message))}else f(new dt(rt.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new dt(rt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{mt(un,`RPC '${t}' ${c} completed.`)}}));const p=JSON.stringify(r);mt(un,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=Ry(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const d=o.join("");mt(un,`Creating RPC '${t}' stream ${r}: ${d}`,h);const p=c.createWebChannel(d,h);this.I_(p);let _=!1,T=!1;const w=new q4({Ho:R=>{T?mt(un,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(_||(mt(un,`Opening RPC '${t}' stream ${r} transport.`),p.open(),_=!0),mt(un,`RPC '${t}' stream ${r} sending:`,R),p.send(R))},Jo:()=>p.close()});return Gc(p,eu.EventType.OPEN,(()=>{T||(mt(un,`RPC '${t}' stream ${r} transport opened.`),w.i_())})),Gc(p,eu.EventType.CLOSE,(()=>{T||(T=!0,mt(un,`RPC '${t}' stream ${r} transport closed`),w.o_(),this.E_(p))})),Gc(p,eu.EventType.ERROR,(R=>{T||(T=!0,Za(un,`RPC '${t}' stream ${r} transport errored. Name:`,R.name,"Message:",R.message),w.o_(new dt(rt.UNAVAILABLE,"The operation could not be completed")))})),Gc(p,eu.EventType.MESSAGE,(R=>{if(!T){const I=R.data[0];Xt(!!I,16349);const x=I,L=x?.error||x[0]?.error;if(L){mt(un,`RPC '${t}' stream ${r} received error:`,L);const U=L.status;let q=(function(tt){const k=ze[tt];if(k!==void 0)return sA(k)})(U),et=L.message;U==="NOT_FOUND"&&et.includes("database")&&et.includes("does not exist")&&et.includes(this.databaseId.database)&&Za(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),q===void 0&&(q=rt.INTERNAL,et="Unknown error status: "+U+" with message "+L.message),T=!0,w.o_(new dt(q,et)),p.close()}else mt(un,`RPC '${t}' stream ${r} received:`,I),w.__(I)}})),dl.u_(),setTimeout((()=>{w.s_()}),0),w}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return wx()}}function G4(n){return new dl(n)}function Fp(){return typeof document<"u"?document:null}function um(n){return new WP(n,!0)}dl.c_=!1;class vA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const g1="PersistentStream";class bA{constructor(t,e,i,r,o,c,h,f){this.Ci=t,this.b_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new vA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ws(e.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new dt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(g1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(mt(g1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $4 extends bA{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=JP(this.serializer,t),i=(function(o){if(!("targetChange"in o))return xt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?xt.min():c.readTime?ds(c.readTime):xt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=xy(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=by(f)?{documents:e4(o,f)}:{query:n4(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=oA(o,c.resumeToken);const d=Ey(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(xt.min())>0){h.readTime=Nd(o,c.snapshotVersion.toTimestamp());const d=Ey(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=s4(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=xy(this.serializer),e.removeTarget=t,this.K_(e)}}class Y4 extends bA{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=t4(t.writeResults,t.commitTime),i=ds(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=xy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>ZP(this.serializer,i)))};this.K_(e)}}class K4{}class W4 extends K4{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(t,Sy(e,i),r,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(rt.UNKNOWN,o.toString())}))}jo(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(t,Sy(e,i),r,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Q4(n,t,e,i){return new W4(n,t,e,i)}class X4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class J4{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{lo(this)&&(mt(to,"Restarting streams for network reachability change."),await(async function(f){const d=Rt(f);d.Ea.add(4),await Wu(d),d.Va.set("Unknown"),d.Ea.delete(4),await hm(d)})(this))}))})),this.Va=new X4(i,r)}}async function hm(n){if(lo(n))for(const t of n.Ra)await t(!0)}async function Wu(n){for(const t of n.Ra)await t(!1)}function TA(n,t){const e=Rt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),P_(e)?O_(e):Ll(e).O_()&&M_(e,t))}function k_(n,t){const e=Rt(n),i=Ll(e);e.Ia.delete(t),i.O_()&&EA(e,t),e.Ia.size===0&&(i.O_()?i.L_():lo(e)&&e.Va.set("Unknown"))}function M_(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ll(n).Z_(t)}function EA(n,t){n.da.$e(t),Ll(n).X_(t)}function O_(n){n.da=new GP({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.Va.ua()}function P_(n){return lo(n)&&!Ll(n).x_()&&n.Ia.size>0}function lo(n){return Rt(n).Ea.size===0}function SA(n){n.da=void 0}async function Z4(n){n.Va.set("Online")}async function tL(n){n.Ia.forEach(((t,e)=>{M_(n,t)}))}async function eL(n,t){SA(n),P_(n)?(n.Va.ha(t),O_(n)):n.Va.set("Unknown")}async function nL(n,t,e){if(n.Va.set("Online"),t instanceof aA&&t.state===2&&t.cause)try{await(async function(r,o){const c=o.cause;for(const h of o.targetIds)r.Ia.has(h)&&(await r.remoteSyncer.rejectListen(h,c),r.Ia.delete(h),r.da.removeTarget(h))})(n,t)}catch(i){mt(to,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kd(n,i)}else if(t instanceof cd?n.da.Xe(t):t instanceof rA?n.da.st(t):n.da.tt(t),!e.isEqual(xt.min()))try{const i=await _A(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(d);p&&o.Ia.set(d,p.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(ln.EMPTY_BYTE_STRING,p.snapshotVersion)),EA(o,f);const _=new jr(p.target,f,d,p.sequenceNumber);M_(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){mt(to,"Failed to raise snapshot:",i),await kd(n,i)}}async function kd(n,t,e){if(!Ol(t))throw t;n.Ea.add(1),await Wu(n),n.Va.set("Offline"),e||(e=()=>_A(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(to,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await hm(n)}))}function wA(n,t){return t().catch((e=>kd(n,e,t)))}async function fm(n){const t=Rt(n),e=Jr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:y_;for(;iL(t);)try{const r=await V4(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,sL(t,r)}catch(r){await kd(t,r)}xA(t)&&AA(t)}function iL(n){return lo(n)&&n.Ta.length<10}function sL(n,t){n.Ta.push(t);const e=Jr(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function xA(n){return lo(n)&&!Jr(n).x_()&&n.Ta.length>0}function AA(n){Jr(n).start()}async function rL(n){Jr(n).ra()}async function aL(n){const t=Jr(n);for(const e of n.Ta)t.ea(e.mutations)}async function oL(n,t,e){const i=n.Ta.shift(),r=x_.from(i,t,e);await wA(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await fm(n)}async function lL(n,t){t&&Jr(n).Y_&&await(async function(i,r){if((function(c){return FP(c)&&c!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Jr(i).B_(),await wA(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await fm(i)}})(n,t),xA(n)&&AA(n)}async function p1(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),mt(to,"RemoteStore received new credentials");const i=lo(e);e.Ea.add(3),await Wu(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await hm(e)}async function cL(n,t){const e=Rt(n);t?(e.Ea.delete(2),await hm(e)):t||(e.Ea.add(2),await Wu(e),e.Va.set("Unknown"))}function Ll(n){return n.ma||(n.ma=(function(e,i,r){const o=Rt(e);return o.sa(),new $4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:Z4.bind(null,n),Yo:tL.bind(null,n),t_:eL.bind(null,n),J_:nL.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),P_(n)?O_(n):n.Va.set("Unknown")):(await n.ma.stop(),SA(n))}))),n.ma}function Jr(n){return n.fa||(n.fa=(function(e,i,r){const o=Rt(e);return o.sa(),new Y4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rL.bind(null,n),t_:lL.bind(null,n),ta:aL.bind(null,n),na:oL.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await fm(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(to,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class L_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new L_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(n,t){if(Ws("AsyncQueue",`${t}: ${n}`),Ol(n))return new dt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class ml{static emptySet(t){return new ml(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||bt.comparator(e.key,i.key):(e,i)=>bt.comparator(e.key,i.key),this.keyedMap=nu(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ml)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ml;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class y1{constructor(){this.ga=new _e(bt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class wl{constructor(t,e,i,r,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new wl(t,e,ml.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class uL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class hL{constructor(){this.queries=_1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Rt(e),o=r.queries;r.queries=_1(),o.forEach(((c,h)=>{for(const f of h.ba)f.onError(i)}))})(this,new dt(rt.ABORTED,"Firestore shutting down"))}}function _1(){return new oo((n=>$x(n)),rm)}async function RA(n,t){const e=Rt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.Da()&&(i=2):(o=new uL,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const h=V_(c,`Initialization of query '${rl(t.query)}' failed`);return void t.onError(h)}e.queries.set(r,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&j_(e)}async function CA(n,t){const e=Rt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.ba.indexOf(t);c>=0&&(o.ba.splice(c,1),o.ba.length===0?r=t.Da()?0:1:!o.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function fL(n,t){const e=Rt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const h of c.ba)h.Fa(r)&&(i=!0);c.wa=r}}i&&j_(e)}function dL(n,t,e){const i=Rt(n),r=i.queries.get(t);if(r)for(const o of r.ba)o.onError(e);i.queries.delete(t)}function j_(n){n.Ca.forEach((t=>{t.next()}))}var Cy,v1;(v1=Cy||(Cy={})).Ma="default",v1.Cache="cache";class IA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new wl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Cy.Cache}}class NA{constructor(t){this.key=t}}class DA{constructor(t){this.key=t}}class mL{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=zt(),this.mutatedKeys=zt(),this.eu=Yx(t),this.tu=new ml(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new y1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,_)=>{const T=r.get(p),w=am(this.query,_)?_:null,R=!!T&&this.mutatedKeys.has(T.key),I=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let x=!1;T&&w?T.data.isEqual(w.data)?R!==I&&(i.track({type:3,doc:w}),x=!0):this.su(T,w)||(i.track({type:2,doc:w}),x=!0,(f&&this.eu(w,f)>0||d&&this.eu(w,d)<0)&&(h=!0)):!T&&w?(i.track({type:0,doc:w}),x=!0):T&&!w&&(i.track({type:1,doc:T}),x=!0,(f||d)&&(h=!0)),x&&(w?(c=c.add(w),o=I?o.add(p):o.delete(p)):(c=c.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:c,iu:i,Ss:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((p,_)=>(function(w,R){const I=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Vt:x})}};return I(w)-I(R)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(i),r=r??!1;const h=e&&!r?this._u():[],f=this.Ya.size===0&&this.current&&!r?1:0,d=f!==this.Xa;return this.Xa=f,c.length!==0||d?{snapshot:new wl(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=zt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new DA(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new NA(i))})),e}cu(t){this.Za=t.ks,this.Ya=zt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const U_="SyncEngine";class gL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class pL{constructor(t){this.key=t,this.hu=!1}}class yL{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new oo((h=>$x(h)),rm),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(bt.comparator),this.Au=new Map,this.Vu=new C_,this.du={},this.mu=new Map,this.fu=Sl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _L(n,t,e=!0){const i=VA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await kA(i,t,e,!0),r}async function vL(n,t){const e=VA(n);await kA(e,t,!0,!1)}async function kA(n,t,e,i){const r=await j4(n.localStore,fs(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await bL(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&TA(n.remoteStore,r),h}async function bL(n,t,e,i,r){n.pu=(_,T,w)=>(async function(I,x,L,U){let q=x.view.ru(L);q.Ss&&(q=await h1(I.localStore,x.query,!1).then((({documents:k})=>x.view.ru(k,q))));const et=U&&U.targetChanges.get(x.targetId),J=U&&U.targetMismatches.get(x.targetId)!=null,tt=x.view.applyChanges(q,I.isPrimaryClient,et,J);return T1(I,x.targetId,tt.au),tt.snapshot})(n,_,T,w);const o=await h1(n.localStore,t,!0),c=new mL(t,o.ks),h=c.ru(o.documents),f=Ku.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(h,n.isPrimaryClient,f);T1(n,e,d.au);const p=new gL(t,e,c);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function TL(n,t,e){const i=Rt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((c=>!rm(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ay(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&k_(i.remoteStore,r.targetId),Iy(i,r.targetId)})).catch(Ml)):(Iy(i,r.targetId),await Ay(i.localStore,r.targetId,!0))}async function EL(n,t){const e=Rt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),k_(e.remoteStore,i.targetId))}async function SL(n,t,e){const i=NL(n);try{const r=await(function(c,h){const f=Rt(c),d=fe.now(),p=h.reduce(((w,R)=>w.add(R.key)),zt());let _,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let R=Qs(),I=zt();return f.xs.getEntries(w,p).next((x=>{R=x,R.forEach(((L,U)=>{U.isValidDocument()||(I=I.add(L))}))})).next((()=>f.localDocuments.getOverlayedDocuments(w,R))).next((x=>{_=x;const L=[];for(const U of h){const q=VP(U,_.get(U.key).overlayedDocument);q!=null&&L.push(new ia(U.key,q,jx(q.value.mapValue),li.exists(!0)))}return f.mutationQueue.addMutationBatch(w,d,L,h)})).next((x=>{T=x;const L=x.applyToLocalDocumentSet(_,I);return f.documentOverlayCache.saveOverlays(w,x.batchId,L)}))})).then((()=>({batchId:T.batchId,changes:Wx(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(c,h,f){let d=c.du[c.currentUser.toKey()];d||(d=new _e(Ut)),d=d.insert(h,f),c.du[c.currentUser.toKey()]=d})(i,r.batchId,e),await Qu(i,r.changes),await fm(i.remoteStore)}catch(r){const o=V_(r,"Failed to persist write");e.reject(o)}}async function MA(n,t){const e=Rt(n);try{const i=await P4(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const c=e.Au.get(o);c&&(Xt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Xt(c.hu,14607):r.removedDocuments.size>0&&(Xt(c.hu,42227),c.hu=!1))})),await Qu(e,i,t)}catch(i){await Ml(i)}}function b1(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&r.push(h.snapshot)})),(function(c,h){const f=Rt(c);f.onlineState=h;let d=!1;f.queries.forEach(((p,_)=>{for(const T of _.ba)T.va(h)&&(d=!0)})),d&&j_(f)})(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function wL(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new _e(bt.comparator);c=c.insert(o,dn.newNoDocument(o,xt.min()));const h=zt().add(o),f=new cm(xt.min(),new Map,new _e(Ut),c,h);await MA(i,f),i.Ru=i.Ru.remove(o),i.Au.delete(t),z_(i)}else await Ay(i.localStore,t,!1).then((()=>Iy(i,t,e))).catch(Ml)}async function xL(n,t){const e=Rt(n),i=t.batch.batchId;try{const r=await O4(e.localStore,t);PA(e,i,null),OA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Qu(e,r)}catch(r){await Ml(r)}}async function AL(n,t,e){const i=Rt(n);try{const r=await(function(c,h){const f=Rt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>(Xt(_!==null,37113),p=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>f.localDocuments.getDocuments(d,p)))}))})(i.localStore,t);PA(i,t,e),OA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Qu(i,r)}catch(r){await Ml(r)}}function OA(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function PA(n,t,e){const i=Rt(n);let r=i.du[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function Iy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||LA(n,i)}))}function LA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(k_(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),z_(n))}function T1(n,t,e){for(const i of e)i instanceof NA?(n.Vu.addReference(i.key,t),RL(n,i)):i instanceof DA?(mt(U_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||LA(n,i.key)):St(19791,{wu:i})}function RL(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(mt(U_,"New document in limbo: "+e),n.Eu.add(i),z_(n))}function z_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new bt(oe.fromString(t)),i=n.fu.next();n.Au.set(i,new pL(e)),n.Ru=n.Ru.insert(e,i),TA(n.remoteStore,new jr(fs(E_(e.path)),i,"TargetPurposeLimboResolution",nm.ce))}}async function Qu(n,t,e){const i=Rt(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{if((d||e)&&i.isPrimaryClient){const p=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,p?"current":"not-current")}if(d){r.push(d);const p=N_.Es(f.targetId,d);o.push(p)}})))})),await Promise.all(c),i.Pu.J_(r),await(async function(f,d){const p=Rt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ot.forEach(d,(T=>ot.forEach(T.Ts,(w=>p.persistence.referenceDelegate.addReference(_,T.targetId,w))).next((()=>ot.forEach(T.Is,(w=>p.persistence.referenceDelegate.removeReference(_,T.targetId,w)))))))))}catch(_){if(!Ol(_))throw _;mt(D_,"Failed to update sequence numbers: "+_)}for(const _ of d){const T=_.targetId;if(!_.fromCache){const w=p.vs.get(T),R=w.snapshotVersion,I=w.withLastLimboFreeSnapshotVersion(R);p.vs=p.vs.insert(T,I)}}})(i.localStore,o))}async function CL(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){mt(U_,"User change. New user:",t.toKey());const i=await yA(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new dt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Qu(e,i.Ns)}}function IL(n,t){const e=Rt(n),i=e.Au.get(t);if(i&&i.hu)return zt().add(i.key);{let r=zt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const h=e.Tu.get(c);r=r.unionWith(h.view.nu)}return r}}function VA(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=MA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wL.bind(null,t),t.Pu.J_=fL.bind(null,t.eventManager),t.Pu.yu=dL.bind(null,t.eventManager),t}function NL(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AL.bind(null,t),t}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=um(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return M4(this.persistence,new N4,t.initialUser,this.serializer)}Cu(t){return new pA(I_.Vi,this.serializer)}Du(t){return new z4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class DL extends Md{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Xt(this.persistence.referenceDelegate instanceof Dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new g4(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new pA((i=>Dd.Vi(i,e)),this.serializer)}}class Ny{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>b1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await cL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hL})()}createDatastore(t){const e=um(t.databaseInfo.databaseId),i=G4(t.databaseInfo);return Q4(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,c,h){return new J4(i,r,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>b1(this.syncEngine,e,0)),(function(){return m1.v()?new m1:new B4})())}createSyncEngine(t,e){return(function(r,o,c,h,f,d,p){const _=new yL(r,o,c,h,f,d);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Rt(e);mt(to,"RemoteStore shutting down."),i.Ea.add(5),await Wu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ny.provider={build:()=>new Ny};class jA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ws("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Zr="FirestoreClient";class kL{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=r,this.user=fn.UNAUTHENTICATED,this.clientId=p_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{mt(Zr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(mt(Zr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=V_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Hp(n,t){n.asyncQueue.verifyOperationInProgress(),mt(Zr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await yA(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function E1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await ML(n);mt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>p1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>p1(t.remoteStore,r))),n._onlineComponents=t}async function ML(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(Zr,"Using user provided OfflineComponentProvider");try{await Hp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Za("Error using user provided cache. Falling back to memory cache: "+e),await Hp(n,new Md)}}else mt(Zr,"Using default OfflineComponentProvider"),await Hp(n,new DL(void 0));return n._offlineComponents}async function UA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(Zr,"Using user provided OnlineComponentProvider"),await E1(n,n._uninitializedComponentsProvider._online)):(mt(Zr,"Using default OnlineComponentProvider"),await E1(n,new Ny))),n._onlineComponents}function OL(n){return UA(n).then((t=>t.syncEngine))}async function zA(n){const t=await UA(n),e=t.eventManager;return e.onListen=_L.bind(null,t.syncEngine),e.onUnlisten=TL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=EL.bind(null,t.syncEngine),e}function PL(n,t,e={}){const i=new Gs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const p=new jA({next:T=>{p.Nu(),c.enqueueAndForget((()=>CA(o,_)));const w=T.docs.has(h);!w&&T.fromCache?d.reject(new dt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&T.fromCache&&f&&f.source==="server"?d.reject(new dt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new IA(E_(h.path),p,{includeMetadataChanges:!0,Ka:!0});return RA(o,_)})(await zA(n),n.asyncQueue,t,e,i))),i.promise}function LL(n,t,e={}){const i=new Gs;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,d){const p=new jA({next:T=>{p.Nu(),c.enqueueAndForget((()=>CA(o,_))),T.fromCache&&f.source==="server"?d.reject(new dt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),_=new IA(h,p,{includeMetadataChanges:!0,Ka:!0});return RA(o,_)})(await zA(n),n.asyncQueue,t,e,i))),i.promise}function VL(n,t){const e=new Gs;return n.asyncQueue.enqueueAndForget((async()=>SL(await OL(n),t,e))),e.promise}function BA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const jL="ComponentProvider",S1=new Map;function UL(n,t,e,i,r){return new rP(n,t,e,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,BA(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const FA="firestore.googleapis.com",w1=!0;class x1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=w1}else this.host=t.host,this.ssl=t.ssl??w1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=gA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<d4)throw new dt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new dt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new jO;switch(i.type){case"firstParty":return new FO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new dt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=S1.get(e);i&&(mt(jL,"Removing Datastore"),S1.delete(e),i.terminate())})(this),Promise.resolve()}}function zL(n,t,e,i={}){n=Ni(n,dm);const r=ea(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;r&&(n_(`https://${h}`),i_("Firestore",!0)),o.host!==FA&&o.host!==h&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:r,emulatorOptions:i};if(!Wa(f,c)&&(n._setSettings(f),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=fn.MOCK_USER;else{d=Ow(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new dt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new fn(_)}n._authCredentials=new UO(new Ax(d,p))}}class sa{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new sa(this.firestore,t,this._query)}}class Ie{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if($u(e,Ie._jsonSchema))return new Ie(t,i||null,new bt(oe.fromString(e.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Fe("string",Ie._jsonSchemaVersion),referencePath:Fe("string")};class qr extends sa{constructor(t,e,i){super(t,e,E_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new bt(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function Bn(n,t,...e){if(n=ye(n),Rx("collection","path",t),n instanceof dm){const i=oe.fromString(t,...e);return jE(i),new qr(n,null,i)}{if(!(n instanceof Ie||n instanceof qr))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return jE(i),new qr(n.firestore,null,i)}}function ms(n,t,...e){if(n=ye(n),arguments.length===1&&(t=p_.newId()),Rx("doc","path",t),n instanceof dm){const i=oe.fromString(t,...e);return VE(i),new Ie(n,null,new bt(i))}{if(!(n instanceof Ie||n instanceof qr))throw new dt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return VE(i),new Ie(n.firestore,n instanceof qr?n.converter:null,new bt(i))}}const A1="AsyncQueue";class R1{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new vA(this,"async_queue_retry"),this._c=()=>{const i=Fp();i&&mt(A1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Fp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Fp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ol(t))throw t;mt(A1,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",C1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=L_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&St(47125,{Pc:C1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function C1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class co extends dm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new R1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new R1(t),this._firestoreClient=void 0,await t}}}function BL(n,t){const e=typeof n=="object"?n:a_(),i=typeof n=="string"?n:wd,r=Wd(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Dw("firestore");o&&zL(r,...o)}return r}function B_(n){if(n._terminated)throw new dt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FL(n),n._firestoreClient}function FL(n){const t=n._freezeSettings(),e=UL(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new kL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class ri{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ri(ln.fromBase64String(t))}catch(e){throw new dt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ri(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($u(t,ri._jsonSchema))return ri.fromBase64String(t.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Fe("string",ri._jsonSchemaVersion),bytes:Fe("string")};class F_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new dt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class H_{constructor(t){this._methodName=t}}class gs{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new dt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new dt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(t){if($u(t,gs._jsonSchema))return new gs(t.latitude,t.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:Fe("string",gs._jsonSchemaVersion),latitude:Fe("number"),longitude:Fe("number")};class Ri{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($u(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Ri(t.vectorValues);throw new dt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Fe("string",Ri._jsonSchemaVersion),vectorValues:Fe("object")};const HL=/^__.*__$/;class qL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ia(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yu(t,this.data,e,this.fieldTransforms)}}class HA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ia(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function qA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{dataSource:n})}}class q_{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new q_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return Od(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(qA(this.dataSource)&&HL.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class GL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||um(t)}createContext(t,e,i,r=!1){return new q_({dataSource:t,methodName:e,targetDoc:i,path:on.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mm(n){const t=n._freezeSettings(),e=um(n._databaseId);return new GL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function GA(n,t,e,i,r,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,t,e,r);G_("Data must be an object, but it was:",c,i);const h=$A(i,c);let f,d;if(o.merge)f=new Fn(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const T=eo(t,_,e);if(!c.contains(T))throw new dt(rt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);WA(p,T)||p.push(T)}f=new Fn(p),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new qL(new Nn(h),f,d)}class gm extends H_{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gm}}function $L(n,t,e,i){const r=n.createContext(1,t,e);G_("Data must be an object, but it was:",r,i);const o=[],c=Nn.empty();na(i,((f,d)=>{const p=KA(t,f,e);d=ye(d);const _=r.childContextForFieldPath(p);if(d instanceof gm)o.push(p);else{const T=Xu(d,_);T!=null&&(o.push(p),c.set(p,T))}}));const h=new Fn(o);return new HA(c,h,r.fieldTransforms)}function YL(n,t,e,i,r,o){const c=n.createContext(1,t,e),h=[eo(t,i,e)],f=[r];if(o.length%2!=0)throw new dt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(eo(t,o[T])),f.push(o[T+1]);const d=[],p=Nn.empty();for(let T=h.length-1;T>=0;--T)if(!WA(d,h[T])){const w=h[T];let R=f[T];R=ye(R);const I=c.childContextForFieldPath(w);if(R instanceof gm)d.push(w);else{const x=Xu(R,I);x!=null&&(d.push(w),p.set(w,x))}}const _=new Fn(d);return new HA(p,_,c.fieldTransforms)}function KL(n,t,e,i=!1){return Xu(e,n.createContext(i?4:3,t))}function Xu(n,t){if(YA(n=ye(n)))return G_("Unsupported field value:",t,n),$A(n,t);if(n instanceof H_)return(function(i,r){if(!qA(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,r){const o=[];let c=0;for(const h of i){let f=Xu(h,r.childContextForArray(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=ye(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:Nd(r.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nd(r.serializer,o)}}if(i instanceof gs)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ri)return{bytesValue:oA(r.serializer,i._byteString)};if(i instanceof Ie){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:R_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ri)return(function(c,h){const f=c instanceof Ri?c.toArray():c;return{mapValue:{fields:{[Lx]:{stringValue:Vx},[xd]:{arrayValue:{values:f.map((p=>{if(typeof p!="number")throw h.createError("VectorValues must only contain numeric values.");return S_(h.serializer,p)}))}}}}}})(i,r);if(mA(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${em(i)}`)})(n,t)}function $A(n,t){const e={};return Nx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(n,((i,r)=>{const o=Xu(r,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function YA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof gs||n instanceof ri||n instanceof Ie||n instanceof H_||n instanceof Ri||mA(n))}function G_(n,t,e){if(!YA(e)||!Cx(e)){const i=em(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function eo(n,t,e){if((t=ye(t))instanceof F_)return t._internalPath;if(typeof t=="string")return KA(n,t);throw Od("Field path arguments must be of type string or ",n,!1,void 0,e)}const WL=new RegExp("[~\\*/\\[\\]]");function KA(n,t,e){if(t.search(WL)>=0)throw Od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new F_(...t.split("."))._internalPath}catch{throw Od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Od(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new dt(rt.INVALID_ARGUMENT,h+n+f)}function WA(n,t){return n.some((e=>e.isEqual(t)))}class QL{convertValue(t,e="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return na(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[xd].arrayValue?.values?.map((i=>Re(i.doubleValue)));return new Ri(e)}convertGeoPoint(t){return new gs(Re(t.latitude),Re(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=sm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(xu(t));default:return null}}convertTimestamp(t){const e=Wr(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=oe.fromString(t);Xt(dA(i),9688,{name:t});const r=new Au(i.get(1),i.get(3)),o=new bt(i.popFirst(5));return r.isEqual(e)||Ws(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class QA extends QL{constructor(t){super(),this.firestore=t}convertBytes(t){return new ri(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,e)}}const I1="@firebase/firestore",N1="4.12.0";class XA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(eo("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class XL extends XA{data(){return super.data()}}function JL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new dt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $_{}class Y_ extends $_{}function Du(n,t,...e){let i=[];t instanceof $_&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof Zu)).length,h=o.filter((f=>f instanceof Ju)).length;if(c>1||c>0&&h>0)throw new dt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Ju extends Y_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Ju(t,e,i)}_apply(t){const e=this._parse(t);return JA(t._query,e),new sa(t.firestore,t.converter,Ty(t._query,e))}_parse(t){const e=mm(t.firestore);return(function(o,c,h,f,d,p,_){let T;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new dt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){k1(_,p);const R=[];for(const I of _)R.push(D1(f,o,I));T={arrayValue:{values:R}}}else T=D1(f,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||k1(_,p),T=KL(h,c,_,p==="in"||p==="not-in");return Be.create(d,p,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Gr(n,t,e){const i=t,r=eo("where",n);return Ju._create(r,i,e)}class Zu extends $_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Zu(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Di.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let c=r;const h=o.getFlattenedFilters();for(const f of h)JA(c,f),c=Ty(c,f)})(t._query,e),new sa(t.firestore,t.converter,Ty(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ZL(...n){return n.forEach((t=>nV("or",t))),Zu._create("or",n)}class K_ extends Y_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new K_(t,e)}_apply(t){const e=(function(r,o,c){if(r.startAt!==null)throw new dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new dt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cu(o,c)})(t._query,this._field,this._direction);return new sa(t.firestore,t.converter,SP(t._query,e))}}function tV(n,t="asc"){const e=t,i=eo("orderBy",n);return K_._create(i,e)}class W_ extends Y_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new W_(t,e,i)}_apply(t){return new sa(t.firestore,t.converter,Rd(t._query,this._limit,this._limitType))}}function eV(n){return W_._create("limit",n,"F")}function D1(n,t,e){if(typeof(e=ye(e))=="string"){if(e==="")throw new dt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Gx(t)&&e.indexOf("/")!==-1)throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(oe.fromString(e));if(!bt.isDocumentKey(i))throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return $E(n,new bt(i))}if(e instanceof Ie)return $E(n,e._key);throw new dt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${em(e)}.`)}function k1(n,t){if(!Array.isArray(n)||n.length===0)throw new dt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JA(n,t){const e=(function(r,o){for(const c of r)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new dt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new dt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function nV(n,t){if(!(t instanceof Ju||t instanceof Zu))throw new dt(rt.INVALID_ARGUMENT,`Function ${n}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function ZA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class su{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class $a extends XA{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(eo("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=$a._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:Fe("string",$a._jsonSchemaVersion),bundleSource:Fe("string","DocumentSnapshot"),bundleName:Fe("string"),bundle:Fe("string")};class ud extends $a{data(t={}){return super.data(t)}}class gl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new su(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new ud(this._firestore,this._userDataWriter,i.key,i,new su(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new dt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((h=>{const f=new ud(r._firestore,r._userDataWriter,h.doc.key,h.doc,new su(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new ud(r._firestore,r._userDataWriter,h.doc.key,h.doc,new su(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,p=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),p=c.indexOf(h.doc.key)),{type:iV(h.type),doc:f,oldIndex:d,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=gl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=p_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}gl._jsonSchemaVersion="firestore/querySnapshot/1.0",gl._jsonSchema={type:Fe("string",gl._jsonSchemaVersion),bundleSource:Fe("string","QuerySnapshot"),bundleName:Fe("string"),bundle:Fe("string")};function tR(n){n=Ni(n,Ie);const t=Ni(n.firestore,co),e=B_(t);return PL(e,n._key).then((i=>sV(t,n,i)))}function Xs(n){n=Ni(n,sa);const t=Ni(n.firestore,co),e=B_(t),i=new QA(t);return JL(n._query),LL(e,n._query).then((r=>new gl(t,i,n,r)))}function M1(n,t,e){n=Ni(n,Ie);const i=Ni(n.firestore,co),r=ZA(n.converter,t,e),o=mm(i);return pm(i,[GA(o,"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,li.none())])}function qp(n,t,e,...i){n=Ni(n,Ie);const r=Ni(n.firestore,co),o=mm(r);let c;return c=typeof(t=ye(t))=="string"||t instanceof F_?YL(o,"updateDoc",n._key,t,e,i):$L(o,"updateDoc",n._key,t),pm(r,[c.toMutation(n._key,li.exists(!0))])}function eR(n){return pm(Ni(n.firestore,co),[new w_(n._key,li.none())])}function Gp(n,t){const e=Ni(n.firestore,co),i=ms(n),r=ZA(n.converter,t),o=mm(n.firestore);return pm(e,[GA(o,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,li.exists(!1))]).then((()=>i))}function pm(n,t){const e=B_(n);return VL(e,t)}function sV(n,t,e){const i=e.docs.get(t._key),r=new QA(n);return new $a(n,r,t._key,i,new su(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){VO(ro),Qa(new Yr("firestore",((i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new co(new zO(i.getProvider("auth-internal")),new HO(c,i.getProvider("app-check-internal")),aP(c,r),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),cs(I1,N1,t),cs(I1,N1,"esm2020")})();var rV="firebase",aV="12.10.0";cs(rV,aV,"app");const nR="firebasestorage.googleapis.com",iR="storageBucket",oV=120*1e3,lV=600*1e3;class Ee extends _s{constructor(t,e,i=0){super($p(t),`Firebase Storage: ${e} (${$p(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ee.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return $p(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function $p(n){return"storage/"+n}function Q_(){const n="An unknown error occurred, please check the error payload for server response.";return new Ee(Te.UNKNOWN,n)}function cV(n){return new Ee(Te.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function uV(n){return new Ee(Te.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function hV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ee(Te.UNAUTHENTICATED,n)}function fV(){return new Ee(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function dV(n){return new Ee(Te.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function mV(){return new Ee(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gV(){return new Ee(Te.CANCELED,"User canceled the upload/download.")}function pV(n){return new Ee(Te.INVALID_URL,"Invalid URL '"+n+"'.")}function yV(n){return new Ee(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function _V(){return new Ee(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iR+"' property when initializing the app?")}function vV(){return new Ee(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bV(){return new Ee(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TV(n){return new Ee(Te.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dy(n){return new Ee(Te.INVALID_ARGUMENT,n)}function sR(){return new Ee(Te.APP_DELETED,"The Firebase app was deleted.")}function EV(n){return new Ee(Te.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gu(n,t){return new Ee(Te.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function $c(n){throw new Ee(Te.INTERNAL_ERROR,"Internal error: "+n)}class Hn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Hn.makeFromUrl(t,e)}catch{return new Hn(t,"")}if(i.path==="")return i;throw yV(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function d(et){et.path_=decodeURIComponent(et.path)}const p="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",w=new RegExp(`^https?://${_}/${p}/b/${r}/o${T}`,"i"),R={bucket:1,path:3},I=e===nR?"(?:storage.googleapis.com|storage.cloud.google.com)":e,x="([^?#]*)",L=new RegExp(`^https?://${I}/${r}/${x}`,"i"),q=[{regex:h,indices:f,postModify:o},{regex:w,indices:R,postModify:d},{regex:L,indices:{bucket:1,path:2},postModify:d}];for(let et=0;et<q.length;et++){const J=q[et],tt=J.regex.exec(t);if(tt){const k=tt[J.indices.bucket];let N=tt[J.indices.path];N||(N=""),i=new Hn(k,N),J.postModify(i);break}}if(i==null)throw pV(t);return i}}class SV{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function wV(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let d=!1;function p(...x){d||(d=!0,t.apply(null,x))}function _(x){r=setTimeout(()=>{r=null,n(w,f())},x)}function T(){o&&clearTimeout(o)}function w(x,...L){if(d){T();return}if(x){T(),p.call(null,x,...L);return}if(f()||c){T(),p.call(null,x,...L);return}i<64&&(i*=2);let q;h===1?(h=2,q=0):q=(i+Math.random())*1e3,_(q)}let R=!1;function I(x){R||(R=!0,T(),!d&&(r!==null?(x||(h=2),clearTimeout(r),_(0)):x||(h=1)))}return _(0),o=setTimeout(()=>{c=!0,I(!0)},e),I}function xV(n){n(!1)}function AV(n){return n!==void 0}function RV(n){return typeof n=="object"&&!Array.isArray(n)}function X_(n){return typeof n=="string"||n instanceof String}function O1(n){return J_()&&n instanceof Blob}function J_(){return typeof Blob<"u"}function P1(n,t,e,i){if(i<t)throw Dy(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Dy(`Invalid value for '${n}'. Expected ${e} or less.`)}function Z_(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function rR(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Ya;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ya||(Ya={}));function CV(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}class IV{constructor(t,e,i,r,o,c,h,f,d,p,_,T=!0,w=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=_,this.retry=T,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,I)=>{this.resolve_=R,this.reject_=I,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new jf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,d=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,d)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Ya.NO_ERROR,f=o.getStatus();if(!h||CV(f,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===Ya.ABORT;i(!1,new jf(!1,null,p));return}const d=this.successCodes_.indexOf(f)!==-1;i(!0,new jf(d,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());AV(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=Q_();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?sR():gV();c(f)}else{const f=mV();c(f)}};this.canceled_?e(!1,new jf(!1,null,!0)):this.backoffId_=wV(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&xV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function NV(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function DV(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function kV(n,t){t&&(n["X-Firebase-GMPID"]=t)}function MV(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function OV(n,t,e,i,r,o,c=!0,h=!1){const f=rR(n.urlParams),d=n.url+f,p=Object.assign({},n.headers);return kV(p,t),NV(p,e),DV(p,o),MV(p,i),new IV(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}function PV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LV(...n){const t=PV();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(J_())return new Blob(n);throw new Ee(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VV(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function jV(n){if(typeof atob>"u")throw TV("base-64");return atob(n)}const os={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Yp{constructor(t,e){this.data=t,this.contentType=e||null}}function UV(n,t){switch(n){case os.RAW:return new Yp(aR(t));case os.BASE64:case os.BASE64URL:return new Yp(oR(n,t));case os.DATA_URL:return new Yp(BV(t),FV(t))}throw Q_()}function aR(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=i,c=n.charCodeAt(++e);i=65536|(o&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function zV(n){let t;try{t=decodeURIComponent(n)}catch{throw gu(os.DATA_URL,"Malformed data URL.")}return aR(t)}function oR(n,t){switch(n){case os.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw gu(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case os.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw gu(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=jV(t)}catch(r){throw r.message.includes("polyfill")?r:gu(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class lR{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw gu(os.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=HV(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function BV(n){const t=new lR(n);return t.base64?oR(os.BASE64,t.rest):zV(t.rest)}function FV(n){return new lR(n).contentType}function HV(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class Vr{constructor(t,e){let i=0,r="";O1(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(O1(this.data_)){const i=this.data_,r=VV(i,t,e);return r===null?null:new Vr(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Vr(i,!0)}}static getBlob(...t){if(J_()){const e=t.map(i=>i instanceof Vr?i.data_:i);return new Vr(LV.apply(null,e))}else{const e=t.map(c=>X_(c)?UV(os.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new Vr(r,!0)}}uploadData(){return this.data_}}function cR(n){let t;try{t=JSON.parse(n)}catch{return null}return RV(t)?t:null}function qV(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function GV(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function uR(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function $V(n,t){return t}class bn{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||$V}}let Uf=null;function YV(n){return!X_(n)||n.length<2?n:uR(n)}function hR(){if(Uf)return Uf;const n=[];n.push(new bn("bucket")),n.push(new bn("generation")),n.push(new bn("metageneration")),n.push(new bn("name","fullPath",!0));function t(o,c){return YV(c)}const e=new bn("name");e.xform=t,n.push(e);function i(o,c){return c!==void 0?Number(c):c}const r=new bn("size");return r.xform=i,n.push(r),n.push(new bn("timeCreated")),n.push(new bn("updated")),n.push(new bn("md5Hash",null,!0)),n.push(new bn("cacheControl",null,!0)),n.push(new bn("contentDisposition",null,!0)),n.push(new bn("contentEncoding",null,!0)),n.push(new bn("contentLanguage",null,!0)),n.push(new bn("contentType",null,!0)),n.push(new bn("metadata","customMetadata",!0)),Uf=n,Uf}function KV(n,t){function e(){const i=n.bucket,r=n.fullPath,o=new Hn(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function WV(n,t,e){const i={};i.type="file";const r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return KV(i,n),i}function fR(n,t,e){const i=cR(t);return i===null?null:WV(n,i,e)}function QV(n,t,e,i){const r=cR(t);if(r===null||!X_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const c=encodeURIComponent;return o.split(",").map(d=>{const p=n.bucket,_=n.fullPath,T="/b/"+c(p)+"/o/"+c(_),w=Z_(T,e,i),R=rR({alt:"media",token:d});return w+R})[0]}function XV(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class dR{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mR(n){if(!n)throw Q_()}function JV(n,t){function e(i,r){const o=fR(n,r,t);return mR(o!==null),o}return e}function ZV(n,t){function e(i,r){const o=fR(n,r,t);return mR(o!==null),QV(o,r,n.host,n._protocol)}return e}function gR(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=fV():r=hV():e.getStatus()===402?r=uV(n.bucket):e.getStatus()===403?r=dV(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function t6(n){const t=gR(n);function e(i,r){let o=t(i,r);return i.getStatus()===404&&(o=cV(n.path)),o.serverResponse=r.serverResponse,o}return e}function e6(n,t,e){const i=t.fullServerUrl(),r=Z_(i,n.host,n._protocol),o="GET",c=n.maxOperationRetryTime,h=new dR(r,o,ZV(n,e),c);return h.errorHandler=t6(t),h}function n6(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function i6(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=n6(null,t)),i}function s6(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let et=0;et<2;et++)q=q+Math.random().toString().slice(2);return q}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const d=i6(t,i,r),p=XV(d,e),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,T=`\r
--`+f+"--",w=Vr.getBlob(_,i,T);if(w===null)throw vV();const R={name:d.fullPath},I=Z_(o,n.host,n._protocol),x="POST",L=n.maxUploadRetryTime,U=new dR(I,x,JV(n,e),L);return U.urlParams=R,U.headers=c,U.body=w.uploadData(),U.errorHandler=gR(t),U}class r6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ya.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ya.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ya.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,o){if(this.sent_)throw $c("cannot .send() more than once");if(ea(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $c("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $c("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $c("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $c("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class a6 extends r6{initXhr(){this.xhr_.responseType="text"}}function pR(){return new a6}class no{constructor(t,e){this._service=t,e instanceof Hn?this._location=e:this._location=Hn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new no(t,e)}get root(){const t=new Hn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uR(this._location.path)}get storage(){return this._service}get parent(){const t=qV(this._location.path);if(t===null)return null;const e=new Hn(this._location.bucket,t);return new no(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw EV(t)}}function o6(n,t,e){n._throwIfRoot("uploadBytes");const i=s6(n.storage,n._location,hR(),new Vr(t,!0),e);return n.storage.makeRequestWithTokens(i,pR).then(r=>({metadata:r,ref:n}))}function l6(n){n._throwIfRoot("getDownloadURL");const t=e6(n.storage,n._location,hR());return n.storage.makeRequestWithTokens(t,pR).then(e=>{if(e===null)throw bV();return e})}function c6(n,t){const e=GV(n._location.path,t),i=new Hn(n._location.bucket,e);return new no(n.storage,i)}function u6(n){return/^[A-Za-z]+:\/\//.test(n)}function h6(n,t){return new no(n,t)}function yR(n,t){if(n instanceof tv){const e=n;if(e._bucket==null)throw _V();const i=new no(e,e._bucket);return t!=null?yR(i,t):i}else return t!==void 0?c6(n,t):n}function f6(n,t){if(t&&u6(t)){if(n instanceof tv)return h6(n,t);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}else return yR(n,t)}function L1(n,t){const e=t?.[iR];return e==null?null:Hn.makeFromBucketSpec(e,n)}function d6(n,t,e,i={}){n.host=`${t}:${e}`;const r=ea(t);r&&(n_(`https://${n.host}/b`),i_("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:Ow(o,n.app.options.projectId))}class tv{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=nR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oV,this._maxUploadRetryTime=lV,this._requests=new Set,r!=null?this._bucket=Hn.makeFromBucketSpec(r,this._host):this._bucket=L1(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,t):this._bucket=L1(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){P1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){P1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new no(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new SV(sR());{const c=OV(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const V1="@firebase/storage",j1="0.14.1";const _R="storage";function ky(n,t,e){return n=ye(n),o6(n,t,e)}function My(n){return n=ye(n),l6(n)}function Oy(n,t){return n=ye(n),f6(n,t)}function vR(n=a_(),t){n=ye(n);const i=Wd(n,_R).getImmediate({identifier:t}),r=Dw("storage");return r&&m6(i,...r),i}function m6(n,t,e,i={}){d6(n,t,e,i)}function g6(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new tv(e,i,r,t,ro)}function p6(){Qa(new Yr(_R,g6,"PUBLIC").setMultipleInstances(!0)),cs(V1,j1,""),cs(V1,j1,"esm2020")}p6();const y6={apiKey:"AIzaSyBw36xP5tVYO2D0T-XFQQAGFA4wrJ8If8k",authDomain:"yes-english-center.firebaseapp.com",projectId:"yes-english-center",storageBucket:"yes-english-center.firebasestorage.app",messagingSenderId:"203211203853",appId:"1:203211203853:web:7d499925c3aa830eaefc44",measurementId:"G-4LHEBLG2KK"},ev=Vw(y6),ku=PO(ev),Ce=BL(ev),_6=vR(ev),bR=B.createContext(null);function v6({children:n}){const[t,e]=B.useState(null),[i,r]=B.useState(null),[o,c]=B.useState(!0);B.useEffect(()=>{const d=SM(ku,async p=>{if(p){e(p);try{const _=await tR(ms(Ce,"users",p.uid));_.exists()?r(_.data()):r({name:"Unknown",email:p.email,role:"student"})}catch{r({name:"Unknown",email:p.email,role:"student"})}}else e(null),r(null);c(!1)});return()=>d()},[]);const h=async()=>{await wM(ku),window.location.href="/"},f=i?.role==="admin";return v.jsx(bR.Provider,{value:{user:t,userData:i,loading:o,logout:h,isAdmin:f},children:n})}function ki(){const n=B.useContext(bR);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function b6({children:n}){const{user:t,loading:e}=ki();return e?v.jsxs("div",{style:{position:"fixed",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#f1f5f9",zIndex:9999},children:[v.jsx("img",{src:"/image/logo.png",alt:"YES English Center",style:{width:"180px",marginBottom:"28px",opacity:.85}}),v.jsx("div",{style:{width:"44px",height:"44px",border:"4px solid #e2e8f0",borderTop:"4px solid #1763e1",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),v.jsx("span",{style:{marginTop:"18px",color:"#475569",fontSize:"16px",fontWeight:500,fontFamily:"'Montserrat', sans-serif"},children:"Loading dashboard..."})]}):t?n:v.jsx("div",{className:"loading-container",style:{height:"100vh",textAlign:"center"},children:v.jsxs("div",{style:{background:"#fff",padding:"40px",borderRadius:"16px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",maxWidth:"400px"},children:[v.jsx("h2",{style:{marginBottom:"12px",fontSize:"22px"},children:" Login Required"}),v.jsx("p",{style:{color:"#64748b",marginBottom:"20px",fontSize:"16px"},children:"Please login on the main page to access the dashboard."}),v.jsx("a",{href:"/",style:{display:"inline-block",padding:"12px 28px",background:"linear-gradient(135deg, #1763e1, #4a8af4)",color:"#fff",borderRadius:"10px",fontWeight:"600",fontSize:"16px",textDecoration:"none"},children:"Go to Home Page"})]})})}const TR=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();const T6=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const E6=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase());const U1=n=>{const t=E6(n);return t.charAt(0).toUpperCase()+t.slice(1)};var S6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w6=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const x6=B.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:c,...h},f)=>B.createElement("svg",{ref:f,...S6,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:TR("lucide",r),...!o&&!w6(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,p])=>B.createElement(d,p)),...Array.isArray(o)?o:[o]]));const Yt=(n,t)=>{const e=B.forwardRef(({className:i,...r},o)=>B.createElement(x6,{ref:o,iconNode:t,className:TR(`lucide-${T6(U1(n))}`,`lucide-${n}`,i),...r}));return e.displayName=U1(n),e};const A6=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ER=Yt("arrow-left",A6);const R6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],C6=Yt("arrow-right",R6);const I6=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Pd=Yt("award",I6);const N6=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nv=Yt("book-open",N6);const D6=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],k6=Yt("camera",D6);const M6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],O6=Yt("chart-column",M6);const P6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],L6=Yt("chevron-left",P6);const V6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],j6=Yt("chevron-right",V6);const U6=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],z6=Yt("external-link",U6);const B6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],SR=Yt("file-text",B6);const F6=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],iv=Yt("headphones",F6);const H6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],q6=Yt("house",H6);const G6=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],z1=Yt("layers",G6);const $6=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Y6=Yt("lightbulb",$6);const K6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],W6=Yt("log-out",K6);const Q6=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],X6=Yt("menu",Q6);const J6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Z6=Yt("message-circle",J6);const t3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ld=Yt("message-square",t3);const e3=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],wR=Yt("pen-line",e3);const n3=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],sv=Yt("pen-tool",n3);const i3=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hd=Yt("plus",i3);const s3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xR=Yt("search",s3);const r3=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],a3=Yt("send",r3);const o3=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],l3=Yt("settings",o3);const c3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],AR=Yt("shield",c3);const u3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Py=Yt("trash-2",u3);const h3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],f3=Yt("trending-up",h3);const d3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RR=Yt("triangle-alert",d3);const m3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],B1=Yt("user-plus",m3);const g3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p3=Yt("user",g3);const y3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ly=Yt("users",y3);const _3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ru=Yt("x",_3),v3=[{to:"/",icon:q6,label:"Home"},{to:"/listening",icon:iv,label:"Listening"},{to:"/reading",icon:nv,label:"Reading"},{to:"/writing",icon:sv,label:"Writing"},{to:"/fullmock",icon:SR,label:"Full Mock"}];function b3({isOpen:n,onClose:t}){const{userData:e,isAdmin:i,logout:r}=ki();return ys(),v.jsxs(v.Fragment,{children:[n&&v.jsx("div",{className:"sidebar-overlay",onClick:t}),v.jsxs("aside",{className:`sidebar ${n?"open":""}`,children:[v.jsxs("div",{className:"sidebar-header",children:[v.jsx("div",{className:"sidebar-brand",children:v.jsx("div",{className:"brand-icon",style:{width:"150px",height:"56px",background:"transparent",padding:"0 8px"},children:v.jsxs("a",{href:"/",children:[" ",v.jsx("img",{src:"/image/logo.png",alt:"YES English Center",style:{width:"100%",height:"100%",objectFit:"contain"}})]})})}),v.jsx("button",{className:"sidebar-close",onClick:t,children:v.jsx(ru,{size:20})})]}),v.jsxs("nav",{className:"sidebar-nav",children:[v.jsx("div",{className:"nav-label",children:"Main"}),v3.map(({to:o,icon:c,label:h})=>v.jsxs(Jc,{to:o,end:o==="/",className:({isActive:f})=>`nav-item ${f?"active":""}`,onClick:t,children:[v.jsx(c,{size:20}),v.jsx("span",{children:h})]},o)),v.jsx("div",{className:"nav-divider"}),v.jsx("div",{className:"nav-label",children:"Other"}),v.jsxs(Jc,{to:"/feedback",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:t,children:[v.jsx(Ld,{size:20}),v.jsx("span",{children:"Feedback"})]}),v.jsx("div",{className:"nav-divider"}),v.jsx("div",{className:"nav-label",children:"Account"}),v.jsxs(Jc,{to:"/settings",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:t,children:[v.jsx(l3,{size:20}),v.jsx("span",{children:"My Settings"})]}),i&&v.jsxs(Jc,{to:"/admin",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:t,children:[v.jsx(AR,{size:20}),v.jsx("span",{children:"Admin Settings"})]})]}),v.jsxs("div",{className:"sidebar-footer",children:[v.jsxs("div",{className:"sidebar-user",children:[v.jsx("div",{className:"user-avatar",children:(e?.name||"U")[0].toUpperCase()}),v.jsxs("div",{className:"user-info",children:[v.jsx("span",{className:"user-name",children:e?.name||"User"}),v.jsx("span",{className:"user-role",children:e?.role||"student"})]})]}),v.jsxs("button",{className:"logout-btn",onClick:r,children:[v.jsx(W6,{size:18}),v.jsx("span",{children:"Logout"})]})]})]})]})}function T3({onMenuToggle:n}){const{userData:t}=ki(),e=()=>{const i=new Date().getHours();return i<12?"Good Morning":i<17?"Good Afternoon":"Good Evening"};return v.jsxs("header",{className:"topbar",children:[v.jsxs("div",{className:"topbar-left",children:[v.jsx("button",{className:"menu-toggle",onClick:n,children:v.jsx(X6,{size:22})}),v.jsxs("div",{className:"greeting",children:[v.jsxs("h2",{children:[e(),", ",v.jsx("span",{className:"greeting-name",children:t?.name||"Student"})," "]}),v.jsx("p",{children:"Track your IELTS progress and practice tests"})]})]}),v.jsx("div",{className:"topbar-right",children:v.jsx("div",{className:"topbar-avatar",children:(t?.name||"U")[0].toUpperCase()})})]})}function E3(){const[n,t]=B.useState(!1);return v.jsxs("div",{className:"dashboard-layout",children:[v.jsx(b3,{isOpen:n,onClose:()=>t(!1)}),v.jsxs("div",{className:"dashboard-main",children:[v.jsx(T3,{onMenuToggle:()=>t(e=>!e)}),v.jsx("main",{className:"dashboard-content page-enter",children:v.jsx(aN,{})})]})]})}function xl(n,t,e){if(e==="writing"||e==="fullmock")return null;const i=Math.round(n/(t||40)*40);return i>=39?9:i>=37?8.5:i>=35?8:i>=33?7.5:i>=30?7:i>=27?6.5:i>=23?6:i>=19?5.5:i>=15?5:i>=13?4.5:i>=10?4:3.5}function F1(n){const t=parseFloat(n);return t>=9?"band-9":t>=8?"band-8":t>=7?"band-7":t>=6?"band-6":t>=5?"band-5":"band-low"}function Vd(n){return{listening:"",reading:"",writing:"",fullmock:""}[n]||""}function as(n){return{listening:"Listening",reading:"Reading",writing:"Writing",fullmock:"Full Mock"}[n]||n}const rv={listening:"resultsListening",reading:"resultsReading",writing:"resultsWriting",fullmock:"resultFullmock"},CR={listening:"listeningTests",reading:"readingTests",writing:"writingTests",fullmock:"fullmockTests"};async function IR(n,t){const e=rv[t];if(!e)return[];try{const i=ku?.currentUser?.email||"MISSING_EMAIL",r=Du(Bn(Ce,e),ZL(Gr("userId","==",n),Gr("name","==",i),Gr("email","==",i))),o=await Xs(r),c=[];return o.forEach(h=>c.push({id:h.id,type:t,...h.data()})),await Promise.all(c.map(async h=>{if(h.type==="reading"||h.type==="fullmock"){const f=h.testId&&h.testId.match(/\d+/)?h.testId.match(/\d+/)[0]:"";h.displayTitle=`${as(h.type)} Test ${f}`.trim()}else if(h.type==="listening"||h.type==="writing")if(h.testId)try{const f=ms(Ce,CR[h.type],h.testId),d=await tR(f);if(d.exists()){const p=d.data();h.displayTitle=p.title||p.name||`${as(h.type)} Test ${h.testId.match(/\d+/)?.[0]||""}`.trim()}else h.displayTitle=`${as(h.type)} Test ${h.testId.match(/\d+/)?.[0]||""}`.trim()}catch{h.displayTitle=`${as(h.type)} Test ${h.testId.match(/\d+/)?.[0]||""}`.trim()}else h.displayTitle=`${as(h.type)} Test`})),c.sort((h,f)=>{const d=h.createdAt?.toDate?h.createdAt.toDate():h.submittedAt?.toDate?h.submittedAt.toDate():new Date(0);return(f.createdAt?.toDate?f.createdAt.toDate():f.submittedAt?.toDate?f.submittedAt.toDate():new Date(0))-d}),c}catch{return[]}}function av(n){const[t,e]=B.useState([]),[i,r]=B.useState(!0);return B.useEffect(()=>{if(!n)return;let o=!1;return(async()=>{const c=[];for(const h of Object.keys(rv)){const f=await IR(n,h);c.push(...f)}c.sort((h,f)=>{const d=h.createdAt?.toDate?h.createdAt.toDate():h.submittedAt?.toDate?h.submittedAt.toDate():new Date(0);return(f.createdAt?.toDate?f.createdAt.toDate():f.submittedAt?.toDate?f.submittedAt.toDate():new Date(0))-d}),o||(e(c),r(!1))})(),()=>{o=!0}},[n]),{results:t,loading:i}}function S3(n,t){const[e,i]=B.useState([]),[r,o]=B.useState(!0);return B.useEffect(()=>{if(!n||!t)return;let c=!1;return IR(n,t).then(h=>{c||(i(h),o(!1))}),()=>{c=!0}},[n,t]),{results:e,loading:r}}function w3(n){const[t,e]=B.useState([]),[i,r]=B.useState(!0);return B.useEffect(()=>{if(!n)return;const o=CR[n];if(!o)return;e([]),r(!0);let c=!1;return(async()=>{try{const h=await Xs(Bn(Ce,o)),f=[];h.forEach(d=>f.push({id:d.id,...d.data()})),f.sort((d,p)=>{const _=parseInt((d.testId||d.title||d.id).match(/\d+/)?.[0]||"0"),T=parseInt((p.testId||p.title||p.id).match(/\d+/)?.[0]||"0");return _-T}),c||(e(f),r(!1))}catch{c||(e([]),r(!1))}})(),()=>{c=!0}},[n]),{tests:t,loading:i}}async function x3(n,t,e){const i=rv[t];if(!i)return null;try{const r=Du(Bn(Ce,i),Gr("userId","==",n),Gr("testId","==",e),tV("createdAt","desc"),eV(1)),o=await Xs(r);if(!o.empty){const c=o.docs[0];return{id:c.id,type:t,...c.data()}}return null}catch{return null}}function NR(n,t){return{listening:`/pages/mock/listening/resultListening.html?id=${t}`,reading:`/pages/mock/result.html?id=${t}`,writing:`/pages/mock/writing/resultWriting.html?id=${t}`,fullmock:`/pages/mock/full/resultFullMock.html?id=${t}`}[n]||"#"}function A3(n,t){return{listening:`/pages/mock/listening/test.html?testId=${t}`,reading:`/pages/mock/reading/test.html?testId=${t}`,writing:`/pages/mock/writing/test.html?testId=${t}`,fullmock:`/pages/mock/full/fullMock.html?testId=${t}`}[n]||"#"}function R3(n){if(n.type==="fullmock")return`Band ${n.overallBand||"N/A"}`;if(n.type==="writing")return`${n.totalWordCount||0} words`;const t=xl(n.score||0,n.total||40,n.type);return`${n.score||0}/${n.total||40} (Band ${t})`}function H1(n){return n?n.type==="fullmock"?n.overallBand||"":n.type==="writing"?`${n.totalWordCount||0}w`:xl(n.score||0,n.total||40,n.type):""}function C3(n){const{results:t,loading:e}=av(n),[i,r]=B.useState({bestScore:null,strongSkill:{name:"Listening",score:"0.0"},weakArea:{name:"Reading",score:"0.0"},totalTests:0,activity:{}});return B.useEffect(()=>{if(e)return;let o=null,c=-1,h=0,f=0,d=0,p=0;const _={};t.forEach(x=>{let L=x.createdAt?.toDate?x.createdAt.toDate():x.submittedAt?.toDate?x.submittedAt.toDate():null;if(L){const q=L.toLocaleDateString("en-CA");_[q]=(_[q]||0)+1}let U=0;if(x.type==="fullmock")U=parseFloat(x.overallBand)||0;else if(x.type==="listening"||x.type==="reading"){const q=xl(x.score||0,x.total||40,x.type)||0;U=parseFloat(q)}U>c&&(c=U,o={band:U,type:x.type,id:x.id}),x.type==="listening"?(h+=U,f++):x.type==="reading"&&(d+=U,p++)});const T=f>0?h/f:0,w=p>0?d/p:0;let R={name:"Reading",score:"0.0"},I={name:"Listening",score:"0.0"};(f>0||p>0)&&(T>=w?(R={name:"Listening",score:T.toFixed(1)},I={name:"Reading",score:Math.max(0,w).toFixed(1)}):(R={name:"Reading",score:w.toFixed(1)},I={name:"Listening",score:T.toFixed(1)})),r({bestScore:o,strongSkill:R,weakArea:I,totalTests:t.length,activity:_})},[t,e]),{stats:i,loading:e}}function I3(n,t){const[e,i]=B.useState(null),[r,o]=B.useState(!0);return B.useEffect(()=>{if(!t)return;let h=!1;return(async()=>{try{const f=Du(Bn(Ce,"userTargets"),Gr("email","==",t)),d=await Xs(f);d.empty?h||(i(null),o(!1)):h||(i(d.docs[0].data().target),o(!1))}catch{h||(i(null),o(!1))}})(),()=>{h=!0}},[t]),{target:e,saveTargetScore:async h=>{if(!t)return!1;try{const f=Du(Bn(Ce,"userTargets"),Gr("email","==",t)),d=await Xs(f);if(d.empty){const p=ms(Bn(Ce,"userTargets"));await M1(p,{email:t,target:parseFloat(h)})}else{const p=ms(Ce,"userTargets",d.docs[0].id);await M1(p,{email:t,target:parseFloat(h)},{merge:!0})}return i(parseFloat(h)),!0}catch(f){return console.error("Error saving target score",f),!1}},loading:r}}function Qt({variant:n="text",width:t,height:e,style:i,className:r=""}){return v.jsx("div",{className:`skeleton skeleton-${n} ${r}`,style:{width:t,height:e,...i}})}function N3(){return v.jsxs("div",{className:"skeleton-home",children:[v.jsxs("div",{className:"skeleton-header-top",children:[v.jsx(Qt,{variant:"title",width:180,height:32}),v.jsx(Qt,{variant:"text",width:240,height:16,style:{marginTop:8}})]}),v.jsx("div",{className:"skeleton-stats-grid",children:[...Array(4)].map((n,t)=>v.jsxs("div",{className:"skeleton-stat-card redesign-skeleton glass-card",children:[v.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:16},children:[v.jsx(Qt,{variant:"text",width:80,height:16}),v.jsx(Qt,{variant:"circle",width:32,height:32})]}),v.jsx(Qt,{variant:"title",width:60,height:32}),v.jsx(Qt,{variant:"text",width:100,height:14,style:{marginTop:8}})]},t))}),v.jsxs("div",{className:"skeleton-bottom-grid",children:[v.jsxs("div",{className:"skeleton-activity-section glass-card redesign-skeleton",children:[v.jsx(Qt,{variant:"title",width:120,height:24}),v.jsx(Qt,{variant:"card",height:200,style:{marginTop:24}})]}),v.jsxs("div",{className:"skeleton-target-section glass-card redesign-skeleton",children:[v.jsx(Qt,{variant:"title",width:140,height:24}),v.jsxs("div",{style:{marginTop:32,display:"flex",flexDirection:"column",gap:24},children:[v.jsx(Qt,{variant:"text",width:"100%",height:24}),v.jsx(Qt,{variant:"text",width:"100%",height:24}),v.jsx(Qt,{variant:"text",width:"100%",height:32,style:{marginTop:16}})]})]})]})]})}function D3(){return v.jsx("div",{className:"skeleton-test-list",children:[...Array(16)].map((n,t)=>v.jsxs("div",{className:"skeleton-test-card glass-card",children:[v.jsxs("div",{className:"skeleton-test-header",children:[v.jsx(Qt,{variant:"circle",width:40,height:40}),v.jsxs("div",{style:{flex:1},children:[v.jsx(Qt,{variant:"text",width:"60%",height:16}),v.jsx(Qt,{variant:"text",width:"40%",height:12,style:{marginTop:6}})]}),v.jsx(Qt,{variant:"text",width:18,height:18})]}),v.jsx(Qt,{variant:"text",width:"80%",height:13,style:{marginTop:12}}),v.jsx("div",{style:{marginTop:12},children:v.jsx(Qt,{variant:"text",width:"50%",height:14})})]},t))})}function k3(){return v.jsx("div",{className:"skeleton-manage-tests",children:[...Array(3)].map((n,t)=>v.jsxs("div",{className:"skeleton-manage-card glass-card",children:[v.jsxs("div",{className:"skeleton-manage-header",children:[v.jsx(Qt,{variant:"circle",width:36,height:36}),v.jsxs("div",{style:{flex:1},children:[v.jsx(Qt,{variant:"text",width:"55%",height:16}),v.jsx(Qt,{variant:"text",width:"35%",height:12,style:{marginTop:6}})]})]}),v.jsxs("div",{className:"skeleton-manage-meta",children:[v.jsx(Qt,{variant:"text",width:80,height:22,style:{borderRadius:8}}),v.jsx(Qt,{variant:"text",width:80,height:22,style:{borderRadius:8}})]}),v.jsxs("div",{className:"skeleton-manage-actions",children:[v.jsx(Qt,{variant:"text",width:80,height:32,style:{borderRadius:8}}),v.jsx(Qt,{variant:"text",width:80,height:32,style:{borderRadius:8}})]})]},t))})}function M3(){return v.jsx("div",{className:"skeleton-manage-users",children:[...Array(4)].map((n,t)=>v.jsxs("div",{className:"skeleton-user-row glass-card",children:[v.jsx(Qt,{variant:"circle",width:40,height:40}),v.jsxs("div",{style:{flex:1},children:[v.jsx(Qt,{variant:"text",width:"45%",height:15}),v.jsx(Qt,{variant:"text",width:"60%",height:12,style:{marginTop:6}})]}),v.jsx(Qt,{variant:"text",width:60,height:24,style:{borderRadius:12}}),v.jsx(Qt,{variant:"text",width:32,height:32,style:{borderRadius:8}})]},t))})}function O3(){const{user:n,userData:t}=ki(),{stats:e,loading:i}=C3(n?.uid),{target:r,saveTargetScore:o,loading:c}=I3(n?.uid,n?.email),{results:h}=av(n?.uid);Qy();const f=new Date,[d,p]=B.useState(new Date(f.getFullYear(),f.getMonth(),1)),_=B.useMemo(()=>{const C=d.getFullYear(),P=d.getMonth(),M=new Date(C,P,1).getDay(),j=new Date(C,P+1,0).getDate();let O=M===0?6:M-1;const wt=[];for(let ft=0;ft<O;ft++)wt.push(null);for(let ft=1;ft<=j;ft++){const lt=new Date(C,P,ft).toLocaleDateString("en-CA");wt.push({day:ft,dateStr:lt})}return wt},[d]),T=C=>C?C===1?"#fecaca":C===2?"#f7acacff":C===3?"#ff8080ff":C===4?"#da6060ff":"#d92727ff":"#f1f5f9",[w,R]=B.useState(!1),I=()=>{p(C=>new Date(C.getFullYear(),C.getMonth()-1,1))},x=()=>{p(C=>new Date(C.getFullYear(),C.getMonth()+1,1))},L=C=>{o(C),R(!1)};if(i||c)return v.jsx("div",{className:"home-page dashboard-redesign",children:v.jsx(N3,{})});const U=h.find(C=>C.type==="listening"),q=h.find(C=>C.type==="reading"),et=U&&parseFloat(H1(U))||0,J=q&&parseFloat(H1(q))||0,tt=(et+J)/2,k=r?et>=r:!1,N=r?J>=r:!1;return v.jsxs("div",{className:"home-page dashboard-redesign",children:[v.jsxs("div",{className:"dashboard-header-top",children:[v.jsxs("div",{className:"title-block",children:[v.jsx("h1",{children:"Dashboard"}),v.jsx("p",{children:"Welcome back! Here's your IELTS progress overview."})]}),v.jsxs("div",{className:"goal-block",children:[v.jsx("span",{className:"goal-label",children:"Goal"}),v.jsx("span",{className:"goal-value",children:r||"?"})]})]}),v.jsx("section",{className:"stats-section",children:v.jsxs("div",{className:"stats-grid redesign",children:[v.jsxs("div",{className:"stat-card glass-card redesign-card",children:[v.jsxs("div",{className:"stat-header",children:[v.jsx("span",{className:"stat-label",children:"Total Tests"}),v.jsx("div",{className:"icon-circle outline-green",children:""})]}),v.jsx("div",{className:"stat-value",children:i?"...":e.totalTests}),v.jsx("div",{className:"stat-sub",children:i?"...":`${e.totalTests} completed`})]}),v.jsxs("div",{className:"stat-card glass-card redesign-card",children:[v.jsxs("div",{className:"stat-header",children:[v.jsx("span",{className:"stat-label",children:"Best Score"}),v.jsx("div",{className:"icon-circle outline-red",children:v.jsx(Pd,{size:16})})]}),v.jsx("div",{className:"stat-value",children:i?"...":e.bestScore?.band||"0.0"}),v.jsx("div",{className:"stat-sub",children:i?"...":`Band ${e.bestScore?.band||"0.0"}`})]}),v.jsxs("div",{className:"stat-card glass-card redesign-card",children:[v.jsxs("div",{className:"stat-header",children:[v.jsx("span",{className:"stat-label",children:"Weak Area"}),v.jsx("div",{className:"icon-circle outline-orange",children:v.jsx(RR,{size:16})})]}),v.jsx("div",{className:"stat-value",children:i?"...":e.weakArea?.name}),v.jsx("div",{className:"stat-sub",children:i?"...":`Score: ${e.weakArea?.score}`})]}),v.jsxs("div",{className:"stat-card glass-card redesign-card",children:[v.jsxs("div",{className:"stat-header",children:[v.jsx("span",{className:"stat-label",children:"Strong Skill"}),v.jsx("div",{className:"icon-circle outline-green",children:v.jsx(Pd,{size:16})})]}),v.jsx("div",{className:"stat-value",children:i?"...":e.strongSkill?.name}),v.jsx("div",{className:"stat-sub",children:i?"...":`Score: ${e.strongSkill?.score}`})]})]})}),v.jsxs("div",{className:"dashboard-bottom-grid",children:[v.jsxs("section",{className:"activity-section glass-card redesign-card",children:[v.jsxs("div",{className:"activity-header",children:[v.jsxs("div",{className:"activity-title",style:{display:"flex",alignItems:"center",gap:"12px"},children:[v.jsx("h3",{children:"My Activity"}),v.jsxs("div",{className:"month-nav",style:{display:"flex",alignItems:"center",gap:"4px"},children:[v.jsx("button",{onClick:I,className:"nav-btn",children:v.jsx(L6,{size:16})}),v.jsx("span",{className:"activity-subtitle",style:{minWidth:"100px",textAlign:"center"},children:d.toLocaleString("default",{month:"long",year:"numeric"})}),v.jsx("button",{onClick:x,className:"nav-btn",children:v.jsx(j6,{size:16})})]})]}),v.jsxs("div",{className:"activity-legend",children:[v.jsx("span",{children:"Less"}),v.jsxs("div",{className:"legend-dots",children:[v.jsx("span",{style:{backgroundColor:T(0)}}),v.jsx("span",{style:{backgroundColor:T(1)}}),v.jsx("span",{style:{backgroundColor:T(2)}}),v.jsx("span",{style:{backgroundColor:T(3)}}),v.jsx("span",{style:{backgroundColor:T(4)}}),v.jsx("span",{style:{backgroundColor:T(5)}})]}),v.jsx("span",{children:"More"})]})]}),v.jsx("div",{className:"calendar-container",children:v.jsxs("div",{className:"calendar-grid",children:[["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(C=>v.jsx("div",{className:"cal-head",children:C},C)),_.map((C,P)=>v.jsx("div",{className:`cal-day ${C?"":"empty"} ${C&&C.day===f.getDate()&&d.getMonth()===f.getMonth()?"today":""}`,children:C&&v.jsx("div",{className:"cal-day-inner",style:{backgroundColor:T(e.activity[C.dateStr])},children:C.day})},P))]})})]}),v.jsxs("section",{className:"target-section glass-card redesign-card",children:[v.jsx("div",{className:"target-header",children:v.jsxs("div",{className:"target-title-area",children:[v.jsx("h3",{children:"Target Score"}),r?v.jsxs("button",{className:"target-btn active",onClick:()=>R(!0),children:[r.toFixed(1)," ",v.jsx("span",{children:""})]}):v.jsx("button",{className:"target-btn",onClick:()=>R(!0),children:"Set Target"})]})}),v.jsxs("div",{className:"progress-bars",children:[v.jsxs("div",{className:"prog-item",children:[v.jsxs("div",{className:"prog-labels",children:[v.jsxs("span",{children:["Listening ",r&&v.jsx("span",{className:k?"target-met":"target-miss",children:k?" Target":" Target"})]}),v.jsxs("span",{className:"prog-score",children:[v.jsx("strong",{children:et.toFixed(1)})," / 9.0"]})]}),v.jsx("div",{className:"prog-track",children:v.jsx("div",{className:"prog-fill listening",style:{width:`${et/9*100}%`}})})]}),v.jsxs("div",{className:"prog-item",children:[v.jsxs("div",{className:"prog-labels",children:[v.jsxs("span",{children:["Reading ",r&&v.jsx("span",{className:N?"target-met":"target-miss",children:N?" Target":" Target"})]}),v.jsxs("span",{className:"prog-score",children:[v.jsx("strong",{children:J.toFixed(1)})," / 9.0"]})]}),v.jsx("div",{className:"prog-track",children:v.jsx("div",{className:"prog-fill reading",style:{width:`${J/9*100}%`}})})]}),v.jsxs("div",{className:"prog-overall",children:[v.jsxs("div",{className:"prog-labels",children:[v.jsx("span",{children:"Overall Progress"}),v.jsxs("span",{className:"prog-score",children:[v.jsx("strong",{children:tt.toFixed(1)})," / ",r||9]})]}),v.jsx("div",{className:"prog-track",children:v.jsx("div",{className:"prog-fill overall",style:{width:`${Math.min(100,tt/(r||9)*100)}%`}})}),v.jsx("p",{className:"achieve-text",children:"Achieve your target IELTS score"}),r&&v.jsxs("div",{className:"gap-target",children:[v.jsx("span",{className:"gap-label",children:"Gap to Target"}),v.jsx("strong",{className:"gap-val",children:Math.max(0,r-tt).toFixed(1)})]})]})]})]})]}),w&&v.jsx("div",{className:"target-modal-overlay",onClick:()=>R(!1),children:v.jsxs("div",{className:"target-modal-content glass-card redesign-card",onClick:C=>C.stopPropagation(),children:[v.jsxs("div",{className:"target-modal-header",children:[v.jsx("h4",{children:"Select Target Score"}),v.jsx("button",{className:"close-btn",onClick:()=>R(!1),children:""})]}),v.jsx("div",{className:"target-grid",children:[4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9].map(C=>v.jsx("button",{className:`target-score-btn ${r===C?"selected":""}`,onClick:()=>L(C),children:C.toFixed(1)},C))}),v.jsx("p",{className:"target-modal-hint",children:"Choose your goal IELTS band score. We save this securely to track your progress."})]})})]})}const Vy={listening:{title:"Listening Tests",desc:"Improve your listening skills with real IELTS audio materials",time:"30 minutes  40 questions"},reading:{title:"Reading Tests",desc:"Practice with authentic IELTS reading passages",time:"60 minutes  40 questions"},writing:{title:"Writing Tests",desc:"Practice Task 1 and Task 2 writing skills",time:"60 minutes  2 tasks"},fullmock:{title:"Full Mock Tests",desc:"Complete IELTS practice under real conditions",time:"3 hours  Full Test"}};function P3({test:n,type:t,userId:e}){const[i,r]=B.useState(void 0);B.useEffect(()=>{!e||!n.id||x3(e,t,n.id).then(d=>r(d))},[e,t,n.id]);const o=()=>{window.location.href=A3(t,n.id)},c=d=>{i&&(d.stopPropagation(),window.location.href=NR(t,i.id))},h=n.title||n.name||`${as(t)} Test ${n.id&&n.id.match(/\d+/)?n.id.match(/\d+/)[0]:""}`.trim(),f=n.description||Vy[t]?.desc||"";return v.jsxs("div",{className:"test-card glass-card",onClick:o,children:[v.jsxs("div",{className:"test-card-header",children:[v.jsx("span",{className:"test-card-icon",children:Vd(t)}),v.jsxs("div",{className:"test-card-info",children:[v.jsx("h4",{children:h}),v.jsx("p",{children:Vy[t]?.time})]}),v.jsx(C6,{size:18,className:"test-card-arrow"})]}),f&&v.jsx("p",{className:"test-card-desc",children:f}),v.jsx("div",{className:"test-card-result",children:i===void 0?v.jsxs("div",{className:"result-loading",children:[v.jsx("div",{className:"spinner-sm"})," Loading result..."]}):i===null?v.jsx("div",{className:"result-empty",children:"Take this test to see your score"}):v.jsxs("div",{className:"result-badge",onClick:c,children:[v.jsx("span",{className:"result-score-text",children:t==="fullmock"?`Band ${i.overallBand||"N/A"}`:t==="writing"?`${i.totalWordCount||0} words`:`${i.score||0}/${i.total||40} correct`}),t!=="writing"&&t!=="fullmock"&&v.jsxs("span",{className:`band-pill ${F1(xl(i.score||0,i.total||40,t))}`,children:["Band ",xl(i.score||0,i.total||40,t)]}),t==="fullmock"&&i.overallBand&&v.jsx("span",{className:`band-pill ${F1(i.overallBand)}`,children:"Overall"})]})})]})}function L3(){const{type:n}=vw(),{user:t}=ki(),{tests:e,loading:i}=w3(n),r=Vy[n]||{title:"Tests",desc:""};return v.jsxs("div",{className:"test-section page-enter",children:[v.jsxs("div",{className:"test-section-header",children:[v.jsx("span",{className:"test-section-icon",children:Vd(n)}),v.jsxs("div",{children:[v.jsx("h2",{children:r.title}),v.jsx("p",{children:r.desc})]})]}),i?v.jsx(D3,{}):e.length===0?v.jsxs("div",{className:"empty-state glass-card",children:[v.jsx("span",{className:"empty-icon",children:Vd(n)}),v.jsx("p",{children:"No tests available yet. Check back soon!"})]}):v.jsx("div",{className:"test-list",children:e.map(o=>v.jsx(P3,{test:o,type:n,userId:t?.uid},o.id))})]})}function th(n){return n+.5|0}const Ur=(n,t,e)=>Math.max(Math.min(n,e),t);function au(n){return Ur(th(n*2.55),0,255)}function $r(n){return Ur(th(n*255),0,255)}function Fs(n){return Ur(th(n/2.55)/100,0,1)}function q1(n){return Ur(th(n*100),0,100)}const si={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jy=[..."0123456789ABCDEF"],V3=n=>jy[n&15],j3=n=>jy[(n&240)>>4]+jy[n&15],zf=n=>(n&240)>>4===(n&15),U3=n=>zf(n.r)&&zf(n.g)&&zf(n.b)&&zf(n.a);function z3(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&si[n[1]]*17,g:255&si[n[2]]*17,b:255&si[n[3]]*17,a:t===5?si[n[4]]*17:255}:(t===7||t===9)&&(e={r:si[n[1]]<<4|si[n[2]],g:si[n[3]]<<4|si[n[4]],b:si[n[5]]<<4|si[n[6]],a:t===9?si[n[7]]<<4|si[n[8]]:255})),e}const B3=(n,t)=>n<255?t(n):"";function F3(n){var t=U3(n)?V3:j3;return n?"#"+t(n.r)+t(n.g)+t(n.b)+B3(n.a,t):void 0}const H3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function DR(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function q3(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function G3(n,t,e){const i=DR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function $3(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function ov(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,d,p;return o!==c&&(p=o-c,d=h>.5?p/(2-o-c):p/(o+c),f=$3(e,i,r,p,o),f=f*60+.5),[f|0,d||0,h]}function lv(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map($r)}function cv(n,t,e){return lv(DR,n,t,e)}function Y3(n,t,e){return lv(G3,n,t,e)}function K3(n,t,e){return lv(q3,n,t,e)}function kR(n){return(n%360+360)%360}function W3(n){const t=H3.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?au(+t[5]):$r(+t[5]));const r=kR(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Y3(r,o,c):t[1]==="hsv"?i=K3(r,o,c):i=cv(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function Q3(n,t){var e=ov(n);e[0]=kR(e[0]+t),e=cv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function X3(n){if(!n)return;const t=ov(n),e=t[0],i=q1(t[1]),r=q1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Fs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const G1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function J3(){const n={},t=Object.keys($1),e=Object.keys(G1);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,G1[o]);o=parseInt($1[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Bf;function Z3(n){Bf||(Bf=J3(),Bf.transparent=[0,0,0,0]);const t=Bf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const tj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ej(n){const t=tj.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?au(c):Ur(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?au(i):Ur(i,0,255)),r=255&(t[4]?au(r):Ur(r,0,255)),o=255&(t[6]?au(o):Ur(o,0,255)),{r:i,g:r,b:o,a:e}}}function nj(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Fs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Kp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,il=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ij(n,t,e){const i=il(Fs(n.r)),r=il(Fs(n.g)),o=il(Fs(n.b));return{r:$r(Kp(i+e*(il(Fs(t.r))-i))),g:$r(Kp(r+e*(il(Fs(t.g))-r))),b:$r(Kp(o+e*(il(Fs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ff(n,t,e){if(n){let i=ov(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=cv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function MR(n,t){return n&&Object.assign(t||{},n)}function Y1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=$r(n[3]))):(t=MR(n,{r:0,g:0,b:0,a:1}),t.a=$r(t.a)),t}function sj(n){return n.charAt(0)==="r"?ej(n):W3(n)}class Mu{constructor(t){if(t instanceof Mu)return t;const e=typeof t;let i;e==="object"?i=Y1(t):e==="string"&&(i=z3(t)||Z3(t)||sj(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=MR(this._rgb);return t&&(t.a=Fs(t.a)),t}set rgb(t){this._rgb=Y1(t)}rgbString(){return this._valid?nj(this._rgb):void 0}hexString(){return this._valid?F3(this._rgb):void 0}hslString(){return this._valid?X3(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=ij(this._rgb,t._rgb,e)),this}clone(){return new Mu(this.rgb)}alpha(t){return this._rgb.a=$r(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=th(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ff(this._rgb,2,t),this}darken(t){return Ff(this._rgb,2,-t),this}saturate(t){return Ff(this._rgb,1,t),this}desaturate(t){return Ff(this._rgb,1,-t),this}rotate(t){return Q3(this._rgb,t),this}}function js(){}const rj=(()=>{let n=0;return()=>n++})();function le(n){return n==null}function $e(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function pn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function es(n,t){return pn(n)?n:t}function Ft(n,t){return typeof n>"u"?t:n}const aj=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ee(n,t,e,i){let r,o,c;if($e(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(qt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function jd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Ud(n){if($e(n))return n.map(Ud);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Ud(n[e[r]]);return t}return n}function OR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function oj(n,t,e,i){if(!OR(n))return;const r=t[n],o=e[n];qt(r)&&qt(o)?Ou(r,o,i):t[n]=Ud(o)}function Ou(n,t,e){const i=$e(t)?t:[t],r=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||oj;let c;for(let h=0;h<r;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let d=0,p=f.length;d<p;++d)o(f[d],n,c,e)}return n}function pu(n,t){return Ou(n,t,{merger:lj})}function lj(n,t,e){if(!OR(n))return;const i=t[n],r=e[n];qt(i)&&qt(r)?pu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Ud(r))}const K1={"":n=>n,x:n=>n.x,y:n=>n.y};function cj(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function uj(n){const t=cj(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function zd(n,t){return(K1[t]||(K1[t]=uj(t)))(n)}function uv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Bd=n=>typeof n<"u",ta=n=>typeof n=="function",W1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function hj(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Je=Math.PI,Ci=2*Je,fj=Ci+Je,Fd=Number.POSITIVE_INFINITY,dj=Je/180,Ai=Je/2,La=Je/4,Q1=Je*2/3,PR=Math.log10,Al=Math.sign;function yu(n,t,e){return Math.abs(n-t)<e}function X1(n){const t=Math.round(n);n=yu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(PR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function mj(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function gj(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Pu(n){return!gj(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function pj(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function yj(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ha(n){return n*(Je/180)}function _j(n){return n*(180/Je)}function J1(n){if(!pn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function vj(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Je&&(o+=Ci),{angle:o,distance:r}}function Uy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function bj(n,t){return(n-t+fj)%Ci-Je}function rs(n){return(n%Ci+Ci)%Ci}function LR(n,t,e,i){const r=rs(n),o=rs(t),c=rs(e),h=rs(o-r),f=rs(c-r),d=rs(r-o),p=rs(r-c);return r===o||r===c||i&&o===c||h>f&&d<p}function ai(n,t,e){return Math.max(t,Math.min(e,n))}function Tj(n){return ai(n,-32768,32767)}function cl(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function hv(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const qa=(n,t,e,i)=>hv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Ej=(n,t,e)=>hv(n,e,i=>n[i][t]>=e);function Sj(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const VR=["push","pop","shift","splice","unshift"];function wj(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),VR.forEach(e=>{const i="_onData"+uv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function Z1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(VR.forEach(o=>{delete n[o]}),delete n._chartjs)}function xj(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const jR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function UR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,jR.call(window,()=>{i=!1,n.apply(t,e)}))}}function Aj(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const fv=n=>n==="start"?"left":n==="end"?"right":"center",hn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Rj=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function Cj(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=c.axis,{min:_,max:T,minDefined:w,maxDefined:R}=c.getUserBounds();if(w){if(r=Math.min(qa(f,p,_).lo,e?i:qa(t,p,c.getPixelForValue(_)).lo),d){const I=f.slice(0,r+1).reverse().findIndex(x=>!le(x[h.axis]));r-=Math.max(0,I)}r=ai(r,0,i-1)}if(R){let I=Math.max(qa(f,c.axis,T,!0).hi+1,e?0:qa(t,p,c.getPixelForValue(T),!0).hi+1);if(d){const x=f.slice(I-1).findIndex(L=>!le(L[h.axis]));I+=Math.max(0,x)}o=ai(I,r,i)-r}else o=i-r}return{start:r,count:o}}function Ij(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Hf=n=>n===0||n===1,tS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ci/e)),eS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ci/e)+1,_u={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ai)+1,easeOutSine:n=>Math.sin(n*Ai),easeInOutSine:n=>-.5*(Math.cos(Je*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Hf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Hf(n)?n:tS(n,.075,.3),easeOutElastic:n=>Hf(n)?n:eS(n,.075,.3),easeInOutElastic(n){return Hf(n)?n:n<.5?.5*tS(n*2,.1125,.45):.5+.5*eS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-_u.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?_u.easeInBounce(n*2)*.5:_u.easeOutBounce(n*2-1)*.5+.5};function dv(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function nS(n){return dv(n)?n:new Mu(n)}function Wp(n){return dv(n)?n:new Mu(n).saturate(.5).darken(.1).hexString()}const Nj=["x","y","borderWidth","radius","tension"],Dj=["color","borderColor","backgroundColor"];function kj(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Dj},numbers:{type:"number",properties:Nj}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Mj(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const iS=new Map;function Oj(n,t){t=t||{};const e=n+JSON.stringify(t);let i=iS.get(e);return i||(i=new Intl.NumberFormat(n,t),iS.set(e,i)),i}function zR(n,t,e){return Oj(t,e).format(n)}const Pj={values(n){return $e(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=Lj(n,e)}const c=PR(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),zR(n,i,f)}};function Lj(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var BR={formatters:Pj};function Vj(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const io=Object.create(null),zy=Object.create(null);function vu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Qp(n,t,e){return typeof t=="string"?Ou(vu(n,t),e):Ou(vu(n,""),t)}class jj{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Wp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Wp(r.borderColor),this.hoverColor=(i,r)=>Wp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Qp(this,t,e)}get(t){return vu(this,t)}describe(t,e){return Qp(zy,t,e)}override(t,e){return Qp(io,t,e)}route(t,e,i,r){const o=vu(this,t),c=vu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],d=c[r];return qt(f)?Object.assign({},d,f):Ft(f,d)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ne=new jj({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[kj,Mj,Vj]);function Uj(n){return!n||le(n.size)||le(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Va(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function rS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function By(n,t,e,i){FR(n,t,e,i,null)}function FR(n,t,e,i,r){let o,c,h,f,d,p,_,T;const w=t.pointStyle,R=t.rotation,I=t.radius;let x=(R||0)*dj;if(w&&typeof w=="object"&&(o=w.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(x),n.drawImage(w,-w.width/2,-w.height/2,w.width,w.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),w){default:r?n.ellipse(e,i,r/2,I,0,0,Ci):n.arc(e,i,I,0,Ci),n.closePath();break;case"triangle":p=r?r/2:I,n.moveTo(e+Math.sin(x)*p,i-Math.cos(x)*I),x+=Q1,n.lineTo(e+Math.sin(x)*p,i-Math.cos(x)*I),x+=Q1,n.lineTo(e+Math.sin(x)*p,i-Math.cos(x)*I),n.closePath();break;case"rectRounded":d=I*.516,f=I-d,c=Math.cos(x+La)*f,_=Math.cos(x+La)*(r?r/2-d:f),h=Math.sin(x+La)*f,T=Math.sin(x+La)*(r?r/2-d:f),n.arc(e-_,i-h,d,x-Je,x-Ai),n.arc(e+T,i-c,d,x-Ai,x),n.arc(e+_,i+h,d,x,x+Ai),n.arc(e-T,i+c,d,x+Ai,x+Je),n.closePath();break;case"rect":if(!R){f=Math.SQRT1_2*I,p=r?r/2:f,n.rect(e-p,i-f,2*p,2*f);break}x+=La;case"rectRot":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,h=Math.sin(x)*I,T=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-h),n.lineTo(e+T,i-c),n.lineTo(e+_,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":x+=La;case"cross":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,h=Math.sin(x)*I,T=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,h=Math.sin(x)*I,T=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),x+=La,_=Math.cos(x)*(r?r/2:I),c=Math.cos(x)*I,h=Math.sin(x)*I,T=Math.sin(x)*(r?r/2:I),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=r?r/2:Math.cos(x)*I,h=Math.sin(x)*I,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(x)*(r?r/2:I),i+Math.sin(x)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Lu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ym(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function _m(n){n.restore()}function zj(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Bj(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Fj(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),le(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function Hj(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,p=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,p),n.lineTo(h,p),n.stroke()}}function qj(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Vu(n,t,e,i,r,o={}){const c=$e(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,Fj(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&qj(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),le(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),Hj(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Fy(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Je,Je,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Je,Ai,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Ai,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Ai,!0),n.lineTo(e+c.topLeft,i)}const Gj=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$j=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Yj(n,t){const e=(""+n).match(Gj);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const Kj=n=>+n||0;function HR(n,t){const e={},i=qt(t),r=i?Object.keys(t):t,o=qt(n)?i?c=>Ft(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=Kj(o(c));return e}function Wj(n){return HR(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bu(n){return HR(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ui(n){const t=Wj(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function mn(n,t){n=n||{},t=t||Ne.font;let e=Ft(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ft(n.style,t.style);i&&!(""+i).match($j)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ft(n.family,t.family),lineHeight:Yj(Ft(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ft(n.weight,t.weight),string:""};return r.string=Uj(r),r}function qf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function Qj(n,t,e){const{min:i,max:r}=n,o=aj(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function uo(n,t){return Object.assign(Object.create(n),t)}function mv(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=YR("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>mv([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return GR(h,f,()=>s5(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return oS(h).includes(f)},ownKeys(h){return oS(h)},set(h,f,d){const p=h._storage||(h._storage=r());return h[f]=p[f]=d,delete h._keys,!0}})}function Rl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:qR(n,i),setContext:o=>Rl(n,o,e,i),override:o=>Rl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return GR(o,c,()=>Jj(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function qR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:ta(e)?e:()=>e,isIndexable:ta(i)?i:()=>i}}const Xj=(n,t)=>n?n+uv(t):t,gv=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function GR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function Jj(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return ta(h)&&c.isScriptable(t)&&(h=Zj(t,h,n,e)),$e(h)&&h.length&&(h=t5(t,h,n,c.isIndexable)),gv(t,h)&&(h=Rl(h,r,o&&o[t],c)),h}function Zj(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),gv(n,f)&&(f=pv(r._scopes,r,n,f)),f}function t5(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,d=r._scopes.filter(p=>p!==f);t=[];for(const p of f){const _=pv(d,r,n,p);t.push(Rl(_,o,c&&c[n],h))}}return t}function $R(n,t,e){return ta(n)?n(t,e):n}const e5=(n,t)=>n===!0?t:typeof n=="string"?zd(t,n):void 0;function n5(n,t,e,i,r){for(const o of t){const c=e5(e,o);if(c){n.add(c);const h=$R(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function pv(n,t,e,i){const r=t._rootScopes,o=$R(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=aS(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=aS(h,c,o,f,i),f===null)?!1:mv(Array.from(h),[""],r,o,()=>i5(t,e,i))}function aS(n,t,e,i,r){for(;e;)e=n5(n,t,e,i,r);return e}function i5(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return $e(r)&&qt(e)?e:r||{}}function s5(n,t,e,i){let r;for(const o of t)if(r=YR(Xj(o,n),e),typeof r<"u")return gv(n,r)?pv(e,i,n,r):r}function YR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function oS(n){let t=n._keys;return t||(t=n._keys=r5(n._scopes)),t}function r5(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const a5=Number.EPSILON||1e-14,Cl=(n,t)=>t<n.length&&!n[t].skip&&n[t],KR=n=>n==="x"?"y":"x";function o5(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=Uy(o,r),f=Uy(c,o);let d=h/(h+f),p=f/(h+f);d=isNaN(d)?0:d,p=isNaN(p)?0:p;const _=i*d,T=i*p;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+T*(c.x-r.x),y:o.y+T*(c.y-r.y)}}}function l5(n,t,e){const i=n.length;let r,o,c,h,f,d=Cl(n,0);for(let p=0;p<i-1;++p)if(f=d,d=Cl(n,p+1),!(!f||!d)){if(yu(t[p],0,a5)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[p]=r*c*t[p],e[p+1]=o*c*t[p])}}function c5(n,t,e="x"){const i=KR(e),r=n.length;let o,c,h,f=Cl(n,0);for(let d=0;d<r;++d){if(c=h,h=f,f=Cl(n,d+1),!h)continue;const p=h[e],_=h[i];c&&(o=(p-c[e])/3,h[`cp1${e}`]=p-o,h[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-p)/3,h[`cp2${e}`]=p+o,h[`cp2${i}`]=_+o*t[d])}}function u5(n,t="x"){const e=KR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,d=Cl(n,0);for(c=0;c<i;++c)if(h=f,f=d,d=Cl(n,c+1),!!f){if(d){const p=d[t]-f[t];r[c]=p!==0?(d[e]-f[e])/p:0}o[c]=h?d?Al(r[c-1])!==Al(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}l5(n,r,o),c5(n,o,t)}function Gf(n,t,e){return Math.max(Math.min(n,e),t)}function h5(n,t){let e,i,r,o,c,h=Lu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Lu(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=Gf(r.cp1x,t.left,t.right),r.cp1y=Gf(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=Gf(r.cp2x,t.left,t.right),r.cp2y=Gf(r.cp2y,t.top,t.bottom)))}function f5(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")u5(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=o5(d,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,d=h}t.capBezierPoints&&h5(n,e)}function yv(){return typeof window<"u"&&typeof document<"u"}function _v(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Hd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const vm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function d5(n,t){return vm(n).getPropertyValue(t)}const m5=["top","right","bottom","left"];function Ka(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=m5[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const g5=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function p5(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(g5(r,o,n.target))h=r,f=o;else{const d=t.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function za(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=vm(e),o=r.boxSizing==="border-box",c=Ka(r,"padding"),h=Ka(r,"border","width"),{x:f,y:d,box:p}=p5(n,e),_=c.left+(p&&h.left),T=c.top+(p&&h.top);let{width:w,height:R}=t;return o&&(w-=c.width+h.width,R-=c.height+h.height),{x:Math.round((f-_)/w*e.width/i),y:Math.round((d-T)/R*e.height/i)}}function y5(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&_v(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=vm(o),f=Ka(h,"border","width"),d=Ka(h,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=Hd(h.maxWidth,o,"clientWidth"),r=Hd(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Fd,maxHeight:r||Fd}}const zr=n=>Math.round(n*10)/10;function _5(n,t,e,i){const r=vm(n),o=Ka(r,"margin"),c=Hd(r.maxWidth,n,"clientWidth")||Fd,h=Hd(r.maxHeight,n,"clientHeight")||Fd,f=y5(n,t,e);let{width:d,height:p}=f;if(r.boxSizing==="content-box"){const T=Ka(r,"border","width"),w=Ka(r,"padding");d-=w.width+T.width,p-=w.height+T.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=zr(Math.min(d,c,f.maxWidth)),p=zr(Math.min(p,h,f.maxHeight)),d&&!p&&(p=zr(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=zr(Math.floor(p*i))),{width:d,height:p}}function lS(n,t,e){const i=t||1,r=zr(n.height*i),o=zr(n.width*i);n.height=zr(n.height),n.width=zr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const v5=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};yv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function cS(n,t){const e=d5(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ba(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function b5(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function T5(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ba(n,r,e),h=Ba(r,o,e),f=Ba(o,t,e),d=Ba(c,h,e),p=Ba(h,f,e);return Ba(d,p,e)}const E5=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},S5=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function pl(n,t,e){return n?E5(t,e):S5()}function WR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function QR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function XR(n){return n==="angle"?{between:LR,compare:bj,normalize:rs}:{between:cl,compare:(t,e)=>t-e,normalize:t=>t}}function uS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function w5(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=XR(i),f=t.length;let{start:d,end:p,loop:_}=n,T,w;if(_){for(d+=f,p+=f,T=0,w=f;T<w&&c(h(t[d%f][i]),r,o);++T)d--,p--;d%=f,p%=f}return p<d&&(p+=f),{start:d,end:p,loop:_,style:n.style}}function JR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:d}=XR(i),{start:p,end:_,loop:T,style:w}=w5(n,t,e),R=[];let I=!1,x=null,L,U,q;const et=()=>f(r,q,L)&&h(r,q)!==0,J=()=>h(o,L)===0||f(o,q,L),tt=()=>I||et(),k=()=>!I||J();for(let N=p,C=p;N<=_;++N)U=t[N%c],!U.skip&&(L=d(U[i]),L!==q&&(I=f(L,r,o),x===null&&tt()&&(x=h(L,r)===0?N:C),x!==null&&k()&&(R.push(uS({start:x,end:N,loop:T,count:c,style:w})),x=null),C=N,q=L));return x!==null&&R.push(uS({start:x,end:_,loop:T,count:c,style:w})),R}function ZR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=JR(i[r],n.points,t);o.length&&e.push(...o)}return e}function x5(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function A5(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=d.stop?f:null):(c=f,h.skip&&(t=f)),h=d}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function R5(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=x5(e,r,o,i);if(i===!0)return hS(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,d=!!n._fullLoop&&c===0&&h===r-1;return hS(n,A5(e,c,f,d),e,t)}function hS(n,t,e,i){return!i||!i.setContext||!e?t:C5(n,t,e,i)}function C5(n,t,e,i){const r=n._chart.getContext(),o=fS(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,d=[];let p=o,_=t[0].start,T=_;function w(R,I,x,L){const U=h?-1:1;if(R!==I){for(R+=f;e[R%f].skip;)R-=U;for(;e[I%f].skip;)I+=U;R%f!==I%f&&(d.push({start:R%f,end:I%f,loop:x,style:L}),p=L,_=I%f)}}for(const R of t){_=h?_:R.start;let I=e[_%f],x;for(T=_+1;T<=R.end;T++){const L=e[T%f];x=fS(i.setContext(uo(r,{type:"segment",p0:I,p1:L,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),I5(x,p)&&w(_,T-1,R.loop,p),I=L,p=x}_<T-1&&w(_,T-1,R.loop,p)}return d}function fS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function I5(n,t){if(!t)return!1;const e=[],i=function(r,o){return dv(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function $f(n,t,e){return n.options.clip?n[e]:t[e]}function N5(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:$f(e,t,"left"),right:$f(e,t,"right"),top:$f(i,t,"top"),bottom:$f(i,t,"bottom")}:t}function tC(n,t){const e=t._clip;if(e.disabled)return!1;const i=N5(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class D5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=jR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var zs=new D5;const dS="transparent",k5={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=nS(n||dS),r=i.valid&&nS(t||dS);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class M5{constructor(t,e,i,r){const o=e[i];r=qf([t.to,r,o,t.from]);const c=qf([t.from,o,r]);this._active=!0,this._fn=t.fn||k5[t.type||typeof c],this._easing=_u[t.easing]||_u.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=qf([t.to,e,r,t.from]),this._from=qf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class eC{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(Ne.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];($e(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=P5(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&O5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[d];let _=o[d];const T=i.get(d);if(_)if(T&&_.active()){_.update(T,p,h);continue}else _.cancel();if(!T||!T.duration){t[d]=p;continue}o[d]=_=new M5(T,t,d,p),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return zs.add(this._chart,i),!0}}function O5(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function P5(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function mS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function L5(n,t,e){if(e===!1)return!1;const i=mS(n,e),r=mS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function V5(n){let t,e,i,r;return qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function nC(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function gS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,d;if(t===null)return;let p=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(p=!0,i.all)continue;break}d=n.values[f],pn(d)&&(o||t===0||Al(t)===Al(d))&&(t+=d)}return!p&&!i.all?0:t}function j5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,p;for(f=0,d=c.length;f<d;++f)p=c[f],h[f]={[r]:p,[o]:n[p]};return h}function Xp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function U5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function z5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function B5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function pS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function yS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,p=U5(o,c,i),_=t.length;let T;for(let w=0;w<_;++w){const R=t[w],{[f]:I,[d]:x}=R,L=R._stacks||(R._stacks={});T=L[d]=B5(r,p,I),T[h]=x,T._top=pS(T,c,!0,i.type),T._bottom=pS(T,c,!1,i.type);const U=T._visualValues||(T._visualValues={});U[h]=x}}function Jp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function F5(n,t){return uo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function H5(n,t,e){return uo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Zp=n=>n==="reset"||n==="none",_S=(n,t)=>t?n:Object.assign({},n),q5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:nC(e,!0),values:null};class iC{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Xp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,T,w,R)=>_==="x"?T:_==="r"?R:w,o=e.xAxisID=Ft(i.xAxisID,Jp(t,"x")),c=e.yAxisID=Ft(i.yAxisID,Jp(t,"y")),h=e.rAxisID=Ft(i.rAxisID,Jp(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,h),p=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Z1(this._data,this),t._stacked&&Yc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const r=this._cachedMeta;this._data=j5(e,r)}else if(i!==e){if(i){Z1(i,this);const r=this._cachedMeta;Yc(r),r._parsed=[]}e&&Object.isExtensible(e)&&wj(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Xp(e.vScale,e),e.stack!==i.stack&&(r=!0,Yc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(yS(this,e._parsed),e._stacked=Xp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,_,T;if(this._parsing===!1)i._parsed=r,i._sorted=!0,T=r;else{$e(r[t])?T=this.parseArrayData(i,r,t,e):qt(r[t])?T=this.parseObjectData(i,r,t,e):T=this.parsePrimitiveData(i,r,t,e);const w=()=>_[h]===null||d&&_[h]<d[h];for(p=0;p<e;++p)i._parsed[p+t]=_=T[p],f&&(w()&&(f=!1),d=_);i._sorted=f}c&&yS(this,T)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,d=o.getLabels(),p=o===c,_=new Array(r);let T,w,R;for(T=0,w=r;T<w;++T)R=T+i,_[T]={[h]:p||o.parse(d[R],R),[f]:c.parse(e[R],R)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,d,p,_;for(f=0,d=r;f<d;++f)p=f+i,_=e[p],h[f]={x:o.parse(_[0],p),y:c.parse(_[1],p)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let p,_,T,w;for(p=0,_=r;p<_;++p)T=p+i,w=e[T],d[p]={x:o.parse(zd(w,h),T),y:c.parse(zd(w,f),T)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:nC(r,!0),values:e._stacks[t.axis]._visualValues};return gS(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=gS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=q5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=z5(h);let T,w;function R(){w=r[T];const I=w[h.axis];return!pn(w[t.axis])||p>I||_<I}for(T=0;T<c&&!(!R()&&(this.updateRangeFromParsed(d,t,w,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!R()){this.updateRangeFromParsed(d,t,w,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],pn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=V5(Ft(this.options.clip,L5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,h,f),p=h;p<h+f;++p){const _=r[p];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(p=0;p<c.length;++p)c[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=H5(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=F5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Bd(i);if(h)return _S(h,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],T=d.getOptionScopes(this.getDataset(),p),w=Object.keys(Ne.elements[t]),R=()=>this.getContext(i,r,e),I=d.resolveNamedOptions(T,w,R,_);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(_S(I,f))),I}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),T=p.getOptionScopes(this.getDataset(),_);f=p.createResolver(T,this.getContext(t,i,e))}const d=new eC(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Zp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Zp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Zp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=d=>{for(d.length+=e,h=d.length-1;h>=c;h--)d[h]=d[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Yc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class G5 extends iC{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=Cj(e,r,c);this._drawStart=h,this._drawCount=f,Ij(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(e,r),T=c.axis,w=h.axis,{spanGaps:R,segment:I}=this.options,x=Pu(R)?R:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none",U=e+i,q=t.length;let et=e>0&&this.getParsed(e-1);for(let J=0;J<q;++J){const tt=t[J],k=L?tt:{};if(J<e||J>=U){k.skip=!0;continue}const N=this.getParsed(J),C=le(N[w]),P=k[T]=c.getPixelForValue(N[T],J),M=k[w]=o||C?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,N,f):N[w],J);k.skip=isNaN(P)||isNaN(M)||C,k.stop=J>0&&Math.abs(N[T]-et[T])>x,I&&(k.parsed=N,k.raw=d.data[J]),_&&(k.options=p||this.resolveDataElementOptions(J,tt.active?"active":r)),L||this.updateElement(tt,J,k,r),et=N}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vv{static override(t){Object.assign(vv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ja()}parse(){return ja()}format(){return ja()}add(){return ja()}diff(){return ja()}startOf(){return ja()}endOf(){return ja()}}var $5={_date:vv};function Y5(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const d=h._reversePixels?Ej:qa;if(i){if(r._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const T=d(o,t,e-_),w=d(o,t,e+_);return{lo:T.lo,hi:w.hi}}}}else{const p=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:T}=n,w=T.slice(0,p.lo+1).reverse().findIndex(I=>!le(I[_.axis]));p.lo-=Math.max(0,w);const R=T.slice(p.hi).findIndex(I=>!le(I[_.axis]));p.hi+=Math.max(0,R)}return p}}return{lo:0,hi:o.length-1}}function bm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:d,data:p}=o[h],{lo:_,hi:T}=Y5(o[h],t,c,r);for(let w=_;w<=T;++w){const R=p[w];R.skip||i(R,d,w)}}}function K5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function ty(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||bm(n,e,t,function(h,f,d){!r&&!Lu(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function W5(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:d,endAngle:p}=c.getProps(["startAngle","endAngle"],i),{angle:_}=vj(c,{x:t.x,y:t.y});LR(_,d,p)&&r.push({element:c,datasetIndex:h,index:f})}return bm(n,e,t,o),r}function Q5(n,t,e,i,r,o){let c=[];const h=K5(e);let f=Number.POSITIVE_INFINITY;function d(p,_,T){const w=p.inRange(t.x,t.y,r);if(i&&!w)return;const R=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(R))&&!w)return;const x=h(t,R);x<f?(c=[{element:p,datasetIndex:_,index:T}],f=x):x===f&&c.push({element:p,datasetIndex:_,index:T})}return bm(n,e,t,d),c}function ey(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?W5(n,t,e,r):Q5(n,t,e,i,r,o)}function vS(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return bm(n,e,t,(f,d,p)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:p}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var X5={modes:{index(n,t,e,i){const r=za(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?ty(n,r,o,i,c):ey(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=h[0].index,_=d.data[p];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:p})}),f):[]},dataset(n,t,e,i){const r=za(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?ty(n,r,o,i,c):ey(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let p=0;p<d.length;++p)h.push({element:d[p],datasetIndex:f,index:p})}return h},point(n,t,e,i){const r=za(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return ty(n,r,o,i,c)},nearest(n,t,e,i){const r=za(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return ey(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=za(t,n);return vS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=za(t,n);return vS(n,r,"y",e.intersect,i)}}};const sC=["left","top","right","bottom"];function Kc(n,t){return n.filter(e=>e.pos===t)}function bS(n,t){return n.filter(e=>sC.indexOf(e.pos)===-1&&e.box.axis===t)}function Wc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function J5(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function Z5(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!sC.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function tU(n,t){const e=Z5(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=e[h.stack],p=d&&h.stackWeight/d.weight;h.horizontal?(h.width=p?p*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=p?p*r:f&&t.availableHeight)}return e}function eU(n){const t=J5(n),e=Wc(t.filter(d=>d.box.fullSize),!0),i=Wc(Kc(t,"left"),!0),r=Wc(Kc(t,"right")),o=Wc(Kc(t,"top"),!0),c=Wc(Kc(t,"bottom")),h=bS(t,"x"),f=bS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:Kc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function TS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function rC(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function nU(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&rC(c,o.getPadding());const h=Math.max(0,t.outerWidth-TS(c,n,"left","right")),f=Math.max(0,t.outerHeight-TS(c,n,"top","bottom")),d=h!==n.w,p=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:d,other:p}:{same:p,other:d}}function iU(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function sU(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function ou(n,t,e,i){const r=[];let o,c,h,f,d,p;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,sU(h.horizontal,t));const{same:_,other:T}=nU(t,e,h,i);d|=_&&r.length,p=p||T,f.fullSize||r.push(h)}return d&&ou(r,t,e,i)||p}function Yf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function ES(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},p=h.stackWeight/d.weight||1;if(h.horizontal){const _=t.w*p,T=d.size||f.height;Bd(d.start)&&(c=d.start),f.fullSize?Yf(f,r.left,c,e.outerWidth-r.right-r.left,T):Yf(f,t.left+d.placed,c,_,T),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*p,T=d.size||f.width;Bd(d.start)&&(o=d.start),f.fullSize?Yf(f,o,r.top,T,e.outerHeight-r.bottom-r.top):Yf(f,o,t.top+d.placed,T,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var oi={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ui(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=eU(n.boxes),f=h.vertical,d=h.horizontal;ee(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const p=f.reduce((I,x)=>x.box.options&&x.box.options.display===!1?I:I+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/p,hBoxMaxHeight:c/2}),T=Object.assign({},r);rC(T,ui(i));const w=Object.assign({maxPadding:T,w:o,h:c,x:r.left,y:r.top},r),R=tU(f.concat(d),_);ou(h.fullSize,w,_,R),ou(f,w,_,R),ou(d,w,_,R)&&ou(f,w,_,R),iU(w),ES(h.leftAndTop,w,_,R),w.x+=w.w,w.y+=w.h,ES(h.rightAndBottom,w,_,R),n.chartArea={left:w.left,top:w.top,right:w.left+w.w,bottom:w.top+w.h,height:w.h,width:w.w},ee(h.chartArea,I=>{const x=I.box;Object.assign(x,n.chartArea),x.update(w.w,w.h,{left:0,top:0,right:0,bottom:0})})}};class aC{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class rU extends aC{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fd="$chartjs",aU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SS=n=>n===null||n==="";function oU(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[fd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",SS(r)){const o=cS(n,"width");o!==void 0&&(n.width=o)}if(SS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=cS(n,"height");o!==void 0&&(n.height=o)}return n}const oC=v5?{passive:!0}:!1;function lU(n,t,e){n&&n.addEventListener(t,e,oC)}function cU(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,oC)}function uU(n,t){const e=aU[n.type]||n.type,{x:i,y:r}=za(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function qd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function hU(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qd(h.addedNodes,i),c=c&&!qd(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function fU(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||qd(h.removedNodes,i),c=c&&!qd(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ju=new Map;let wS=0;function lC(){const n=window.devicePixelRatio;n!==wS&&(wS=n,ju.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function dU(n,t){ju.size||window.addEventListener("resize",lC),ju.set(n,t)}function mU(n){ju.delete(n),ju.size||window.removeEventListener("resize",lC)}function gU(n,t,e){const i=n.canvas,r=i&&_v(i);if(!r)return;const o=UR((h,f)=>{const d=r.clientWidth;e(h,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return c.observe(r),dU(n,o),c}function ny(n,t,e){e&&e.disconnect(),t==="resize"&&mU(n)}function pU(n,t,e){const i=n.canvas,r=UR(o=>{n.ctx!==null&&e(uU(o,n))},n);return lU(i,t,r),r}class yU extends aC{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(oU(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fd])return!1;const i=e[fd].initial;["height","width"].forEach(o=>{const c=i[o];le(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[fd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:hU,detach:fU,resize:gU}[e]||pU;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:ny,detach:ny,resize:ny}[e]||cU)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return _5(t,e,i,r)}isAttached(t){const e=t&&_v(t);return!!(e&&e.isConnected)}}function _U(n){return!yv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?rU:yU}class ho{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Pu(this.x)&&Pu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function vU(n,t){const e=n.options.ticks,i=bU(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?EU(t):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>r)return SU(t,d,o,c/r),d;const p=TU(o,t,r);if(c>0){let _,T;const w=c>1?Math.round((f-h)/(c-1)):null;for(Kf(t,d,p,le(w)?0:h-w,h),_=0,T=c-1;_<T;_++)Kf(t,d,p,o[_],o[_+1]);return Kf(t,d,p,f,le(w)?t.length:f+w),d}return Kf(t,d,p),d}function bU(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function TU(n,t,e){const i=wU(n),r=t.length/e;if(!i)return Math.max(r,1);const o=mj(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function EU(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function SU(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Kf(n,t,e,i,r){const o=Ft(i,0),c=Math.min(Ft(r,n.length),n.length);let h=0,f,d,p;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),p=o;p<0;)h++,p=Math.round(o+h*e);for(d=Math.max(o,0);d<c;d++)d===p&&(t.push(n[d]),h++,p=Math.round(o+h*e))}function wU(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const xU=n=>n==="left"?"right":n==="right"?"left":n,xS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,AS=(n,t)=>Math.min(t||n,n);function RS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function AU(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-h||f>c+h)))return f}function RU(n,t){ee(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Qc(n){return n.drawTicks?n.tickLength:0}function CS(n,t){if(!n.display)return 0;const e=mn(n.font,t),i=ui(n.padding);return($e(n.text)?n.text.length:1)*e.lineHeight+i.height}function CU(n,t){return uo(n,{scale:t,type:"scale"})}function IU(n,t,e){return uo(n,{tick:e,index:t,type:"tick"})}function NU(n,t,e){let i=fv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=xU(i)),i}function DU(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:p}=f;let _=0,T,w,R;const I=c-r,x=h-o;if(n.isHorizontal()){if(w=hn(i,o,h),qt(e)){const L=Object.keys(e)[0],U=e[L];R=p[L].getPixelForValue(U)+I-t}else e==="center"?R=(d.bottom+d.top)/2+I-t:R=xS(n,e,t);T=h-o}else{if(qt(e)){const L=Object.keys(e)[0],U=e[L];w=p[L].getPixelForValue(U)-x+t}else e==="center"?w=(d.left+d.right)/2-x+t:w=xS(n,e,t);R=hn(i,c,r),_=e==="left"?-Ai:Ai}return{titleX:w,titleY:R,maxWidth:T,rotation:_}}class Vl extends ho{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=es(t,Number.POSITIVE_INFINITY),e=es(e,Number.NEGATIVE_INFINITY),i=es(i,Number.POSITIVE_INFINITY),r=es(r,Number.NEGATIVE_INFINITY),{min:es(t,i),max:es(e,r),minDefined:pn(t),maxDefined:pn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:es(e,es(i,e)),max:es(i,es(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Qj(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?RS(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=vU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=AS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),_=p.widest.width,T=p.highest.height,w=ai(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:w/(i-1),_+6>h&&(h=w/(i-(t.offset?.5:1)),f=this.maxHeight-Qc(t.grid)-e.padding-CS(t.title,this.chart.options.font),d=Math.sqrt(_*_+T*T),c=_j(Math.min(Math.asin(ai((p.highest.height+6)/h,-1,1)),Math.asin(ai(f/d,-1,1))-Math.asin(ai(T/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=CS(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=Qc(o)+f):(t.height=this.maxHeight,t.width=Qc(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:_,highest:T}=this._getLabelSizes(),w=i.padding*2,R=Ha(this.labelRotation),I=Math.cos(R),x=Math.sin(R);if(h){const L=i.mirror?0:x*_.width+I*T.height;t.height=Math.min(this.maxHeight,t.height+L+w)}else{const L=i.mirror?0:I*_.width+x*T.height;t.width=Math.min(this.maxWidth,t.width+L+w)}this._calculatePadding(d,p,x,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,w=0;f?d?(T=r*t.width,w=i*e.height):(T=i*t.height,w=r*e.width):o==="start"?w=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,w=e.width/2),this.paddingLeft=Math.max((T-p+c)*this.width/(this.width-p),0),this.paddingRight=Math.max((w-_+c)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;o==="start"?(p=0,_=t.height):o==="end"&&(p=e.height,_=0),this.paddingTop=p+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)le(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=RS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/AS(e,i));let d=0,p=0,_,T,w,R,I,x,L,U,q,et,J;for(_=0;_<e;_+=f){if(R=t[_].label,I=this._resolveTickFontOptions(_),r.font=x=I.string,L=o[x]=o[x]||{data:{},gc:[]},U=I.lineHeight,q=et=0,!le(R)&&!$e(R))q=sS(r,L.data,L.gc,q,R),et=U;else if($e(R))for(T=0,w=R.length;T<w;++T)J=R[T],!le(J)&&!$e(J)&&(q=sS(r,L.data,L.gc,q,J),et+=U);c.push(q),h.push(et),d=Math.max(q,d),p=Math.max(et,p)}RU(o,e);const tt=c.indexOf(d),k=h.indexOf(p),N=C=>({width:c[C]||0,height:h[C]||0});return{first:N(0),last:N(e-1),widest:N(tt),highest:N(k),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Tj(this._alignToPixels?Va(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=IU(this.getContext(),t,i))}return this.$context||(this.$context=CU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ha(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),T=Qc(o),w=[],R=h.setContext(this.getContext()),I=R.display?R.width:0,x=I/2,L=function(Q){return Va(i,Q,I)};let U,q,et,J,tt,k,N,C,P,M,j,O;if(c==="top")U=L(this.bottom),k=this.bottom-T,C=U-x,M=L(t.top)+x,O=t.bottom;else if(c==="bottom")U=L(this.top),M=t.top,O=L(t.bottom)-x,k=U+x,C=this.top+T;else if(c==="left")U=L(this.right),tt=this.right-T,N=U-x,P=L(t.left)+x,j=t.right;else if(c==="right")U=L(this.left),P=t.left,j=L(t.right)-x,tt=U+x,N=this.left+T;else if(e==="x"){if(c==="center")U=L((t.top+t.bottom)/2+.5);else if(qt(c)){const Q=Object.keys(c)[0],lt=c[Q];U=L(this.chart.scales[Q].getPixelForValue(lt))}M=t.top,O=t.bottom,k=U+x,C=k+T}else if(e==="y"){if(c==="center")U=L((t.left+t.right)/2);else if(qt(c)){const Q=Object.keys(c)[0],lt=c[Q];U=L(this.chart.scales[Q].getPixelForValue(lt))}tt=U-x,N=tt-T,P=t.left,j=t.right}const wt=Ft(r.ticks.maxTicksLimit,_),ft=Math.max(1,Math.ceil(_/wt));for(q=0;q<_;q+=ft){const Q=this.getContext(q),lt=o.setContext(Q),_t=h.setContext(Q),Dt=lt.lineWidth,Mt=lt.color,z=_t.dash||[],it=_t.dashOffset,ct=lt.tickWidth,W=lt.tickColor,ut=lt.tickBorderDash||[],pt=lt.tickBorderDashOffset;et=AU(this,q,f),et!==void 0&&(J=Va(i,et,Dt),d?tt=N=P=j=J:k=C=M=O=J,w.push({tx1:tt,ty1:k,tx2:N,ty2:C,x1:P,y1:M,x2:j,y2:O,width:Dt,color:Mt,borderDash:z,borderDashOffset:it,tickWidth:ct,tickColor:W,tickBorderDash:ut,tickBorderDashOffset:pt}))}return this._ticksLength=_,this._borderValue=U,w}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:p,mirror:_}=o,T=Qc(i.grid),w=T+p,R=_?-p:w,I=-Ha(this.labelRotation),x=[];let L,U,q,et,J,tt,k,N,C,P,M,j,O="middle";if(r==="top")tt=this.bottom-R,k=this._getXAxisLabelAlignment();else if(r==="bottom")tt=this.top+R,k=this._getXAxisLabelAlignment();else if(r==="left"){const ft=this._getYAxisLabelAlignment(T);k=ft.textAlign,J=ft.x}else if(r==="right"){const ft=this._getYAxisLabelAlignment(T);k=ft.textAlign,J=ft.x}else if(e==="x"){if(r==="center")tt=(t.top+t.bottom)/2+w;else if(qt(r)){const ft=Object.keys(r)[0],Q=r[ft];tt=this.chart.scales[ft].getPixelForValue(Q)+w}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")J=(t.left+t.right)/2-w;else if(qt(r)){const ft=Object.keys(r)[0],Q=r[ft];J=this.chart.scales[ft].getPixelForValue(Q)}k=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const wt=this._getLabelSizes();for(L=0,U=h.length;L<U;++L){q=h[L],et=q.label;const ft=o.setContext(this.getContext(L));N=this.getPixelForTick(L)+o.labelOffset,C=this._resolveTickFontOptions(L),P=C.lineHeight,M=$e(et)?et.length:1;const Q=M/2,lt=ft.color,_t=ft.textStrokeColor,Dt=ft.textStrokeWidth;let Mt=k;c?(J=N,k==="inner"&&(L===U-1?Mt=this.options.reverse?"left":"right":L===0?Mt=this.options.reverse?"right":"left":Mt="center"),r==="top"?d==="near"||I!==0?j=-M*P+P/2:d==="center"?j=-wt.highest.height/2-Q*P+P:j=-wt.highest.height+P/2:d==="near"||I!==0?j=P/2:d==="center"?j=wt.highest.height/2-Q*P:j=wt.highest.height-M*P,_&&(j*=-1),I!==0&&!ft.showLabelBackdrop&&(J+=P/2*Math.sin(I))):(tt=N,j=(1-M)*P/2);let z;if(ft.showLabelBackdrop){const it=ui(ft.backdropPadding),ct=wt.heights[L],W=wt.widths[L];let ut=j-it.top,pt=0-it.left;switch(O){case"middle":ut-=ct/2;break;case"bottom":ut-=ct;break}switch(k){case"center":pt-=W/2;break;case"right":pt-=W;break;case"inner":L===U-1?pt-=W:L>0&&(pt-=W/2);break}z={left:pt,top:ut,width:W+it.width,height:ct+it.height,color:ft.backdropColor}}x.push({label:et,font:C,textOffset:j,options:{rotation:I,color:lt,strokeColor:_t,strokeWidth:Dt,textAlign:Mt,textBaseline:O,translation:[J,tt],backdrop:z}})}return x}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ha(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let d,p;return e==="left"?r?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-h,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+h,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,_,T;this.isHorizontal()?(d=Va(t,this.left,c)-c/2,p=Va(t,this.right,h)+h/2,_=T=f):(_=Va(t,this.top,c)-c/2,T=Va(t,this.bottom,h)+h/2,d=p=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(p,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ym(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,d=c.label,p=c.textOffset;Vu(i,d,0,p,f,h)}r&&_m(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=mn(i.font),c=ui(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,$e(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:p,maxWidth:_,rotation:T}=DU(this,f,e,h);Vu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:T,textAlign:NU(h,e,r),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ft(t.grid&&t.grid.z,-1),r=Ft(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Vl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return mn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Wf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;OU(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,kU(t,c,i),this.override&&Ne.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ne[r]&&(delete Ne[r][i],this.override&&delete io[i])}}function kU(n,t,e){const i=Ou(Object.create(null),[e?Ne.get(e):{},Ne.get(t),n.defaults]);Ne.set(t,i),n.defaultRoutes&&MU(t,n.defaultRoutes),n.descriptors&&Ne.describe(t,n.descriptors)}function MU(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Ne.route(o,r,f,h)})}function OU(n){return"id"in n&&"defaults"in n}class PU{constructor(){this.controllers=new Wf(iC,"datasets",!0),this.elements=new Wf(ho,"elements"),this.plugins=new Wf(Object,"plugins"),this.scales=new Wf(Vl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):ee(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=uv(t);he(i["before"+r],[],i),e[t](i),he(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var is=new PU;class LU{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(he(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ft(i.options&&i.options.plugins,{}),o=VU(i);return r===!1&&!e?[]:UU(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function VU(n){const t={},e=[],i=Object.keys(is.plugins.items);for(let o=0;o<i.length;o++)e.push(is.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function jU(n,t){return!t&&n===!1?null:n===!0?{}:n}function UU(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,d=jU(i[f],r);d!==null&&o.push({plugin:h,options:zU(n.config,{plugin:h,local:e[f]},d,c)})}return o}function zU(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hy(n,t){const e=Ne.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function BU(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function FU(n,t){return n===t?"_index_":"_value_"}function IS(n){if(n==="x"||n==="y"||n==="r")return n}function HU(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function qy(n,...t){if(IS(n))return n;for(const e of t){const i=e.axis||HU(e.position)||n.length>1&&IS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function NS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function qU(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return NS(n,"x",e[0])||NS(n,"y",e[0])}return{}}function GU(n,t){const e=io[n.type]||{scales:{}},i=t.scales||{},r=Hy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=qy(c,h,qU(c,n),Ne.scales[h.type]),d=FU(f,r),p=e.scales||{};o[c]=pu(Object.create(null),[{axis:f},h,p[f],p[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Hy(h,t),p=(io[h]||{}).scales||{};Object.keys(p).forEach(_=>{const T=BU(_,f),w=c[T+"AxisID"]||T;o[w]=o[w]||Object.create(null),pu(o[w],[{axis:T},i[w],p[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];pu(h,[Ne.scales[h.type],Ne.scale])}),o}function cC(n){const t=n.options||(n.options={});t.plugins=Ft(t.plugins,{}),t.scales=GU(n,t)}function uC(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function $U(n){return n=n||{},n.data=uC(n.data),cC(n),n}const DS=new Map,hC=new Set;function Qf(n,t){let e=DS.get(n);return e||(e=t(),DS.set(n,e),hC.add(e)),e}const Xc=(n,t,e)=>{const i=zd(t,e);i!==void 0&&n.add(i)};class YU{constructor(t){this._config=$U(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=uC(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),cC(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(p=>{t&&(f.add(t),p.forEach(_=>Xc(f,t,_))),p.forEach(_=>Xc(f,r,_)),p.forEach(_=>Xc(f,io[o]||{},_)),p.forEach(_=>Xc(f,Ne,_)),p.forEach(_=>Xc(f,zy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),hC.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,io[e]||{},Ne.datasets[e]||{},{type:e},Ne,zy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=kS(this._resolverCache,t,r);let f=c;if(WU(c,e)){o.$shared=!1,i=ta(i)?i():i;const d=this.createResolver(t,i,h);f=Rl(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=kS(this._resolverCache,t,i);return qt(e)?Rl(o,e,void 0,r):o}}function kS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:mv(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const KU=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>ta(n[t]));function WU(n,t){const{isScriptable:e,isIndexable:i}=qR(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(ta(h)||KU(h))||c&&$e(h))return!0}return!1}var QU="4.5.1";const XU=["top","bottom","left","right","chartArea"];function MS(n,t){return n==="top"||n==="bottom"||XU.indexOf(n)===-1&&t==="x"}function OS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function PS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function JU(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function fC(n){return yv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dd={},LS=n=>{const t=fC(n);return Object.values(dd).filter(e=>e.canvas===t).pop()};function ZU(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function tz(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Tm=class{static defaults=Ne;static instances=dd;static overrides=io;static registry=is;static version=QU;static getChart=LS;static register(...t){is.add(...t),VS()}static unregister(...t){is.remove(...t),VS()}constructor(t,e){const i=this.config=new YU(e),r=fC(t),o=LS(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||_U(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,p=f&&f.width;if(this.id=rj(),this.ctx=h,this.canvas=f,this.width=p,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new LU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Aj(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],dd[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}zs.listen(this,"complete",PS),zs.listen(this,"progress",JU),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return le(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():lS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return rS(this.canvas,this.ctx),this}stop(){return zs.stop(this),this}resize(t,e){zs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,lS(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ee(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=qy(c,h),d=f==="r",p=f==="x";return{options:h,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),ee(o,c=>{const h=c.options,f=h.id,d=qy(f,h),p=Ft(h.type,c.dtype);(h.position===void 0||MS(h.position,d)!==MS(c.dposition))&&(h.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===p)_=i[f];else{const T=is.getScale(p);_=new T({id:f,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),ee(r,(c,h)=>{c||delete i[h]}),ee(i,c=>{oi.configure(this,c,c.options),oi.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(OS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Hy(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=is.getController(h),{datasetElementType:d,dataElementType:p}=Ne.datasets[h];Object.assign(f,{dataElementType:is.getElement(p),datasetElementType:d&&is.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ee(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:_}=this.getDatasetMeta(d),T=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(T),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||ee(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(OS("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ee(this.scales,t=>{oi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!W1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;ZU(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!W1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;oi.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ee(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,ta(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(zs.has(this)?this.attached&&!zs.running(this)&&zs.start(this):(this.draw(),PS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=tC(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&ym(e,r),t.controller.draw(),r&&_m(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Lu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=X5.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=uo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Bd(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),zs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),rS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete dd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ee(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ee(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ee(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!jd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=hj(t),d=tz(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const p=!jd(h,r);return(p||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=d,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function VS(){return ee(Tm.instances,n=>n._plugins.invalidate())}function dC(n,t,e=t){n.lineCap=Ft(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ft(e.borderDash,t.borderDash)),n.lineDashOffset=Ft(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ft(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ft(e.borderWidth,t.borderWidth),n.strokeStyle=Ft(e.borderColor,t.borderColor)}function ez(n,t,e){n.lineTo(e.x,e.y)}function nz(n){return n.stepped?zj:n.tension||n.cubicInterpolationMode==="monotone"?Bj:ez}function mC(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),d=Math.min(o,h),p=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:d<f&&!p?i+d-f:d-f}}function iz(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:d}=mC(r,e,i),p=nz(o);let{move:_=!0,reverse:T}=i||{},w,R,I;for(w=0;w<=d;++w)R=r[(h+(T?d-w:w))%c],!R.skip&&(_?(n.moveTo(R.x,R.y),_=!1):p(n,I,R,T,o.stepped),I=R);return f&&(R=r[(h+(T?d:0))%c],p(n,I,R,T,o.stepped)),!!f}function sz(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=mC(r,e,i),{move:f=!0,reverse:d}=i||{};let p=0,_=0,T,w,R,I,x,L;const U=et=>(c+(d?h-et:et))%o,q=()=>{I!==x&&(n.lineTo(p,x),n.lineTo(p,I),n.lineTo(p,L))};for(f&&(w=r[U(0)],n.moveTo(w.x,w.y)),T=0;T<=h;++T){if(w=r[U(T)],w.skip)continue;const et=w.x,J=w.y,tt=et|0;tt===R?(J<I?I=J:J>x&&(x=J),p=(_*p+et)/++_):(q(),n.lineTo(et,J),R=tt,_=0,I=x=J),L=J}q()}function Gy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?sz:iz}function rz(n){return n.stepped?b5:n.tension||n.cubicInterpolationMode==="monotone"?T5:Ba}function az(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),dC(n,t.options),n.stroke(r)}function oz(n,t,e,i){const{segments:r,options:o}=t,c=Gy(t);for(const h of r)dC(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const lz=typeof Path2D=="function";function cz(n,t,e,i){lz&&!t.options.segment?az(n,t,e,i):oz(n,t,e,i)}class Em extends ho{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;f5(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=R5(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=ZR(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=rz(i);let d,p;for(d=0,p=c.length;d<p;++d){const{start:_,end:T}=c[d],w=o[_],R=o[T];if(w===R){h.push(w);continue}const I=Math.abs((r-w[e])/(R[e]-w[e])),x=f(w,R,I,i.stepped);x[e]=t[e],h.push(x)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Gy(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Gy(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),cz(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function jS(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class uz extends ho{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return jS(this,t,"x",e)}inYRange(t,e){return jS(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Lu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,By(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function hz(n,t,e){const i=n.segments,r=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:d}=h;d=Sm(f,d,r);const p=$y(e,r[f],r[d],h.loop);if(!t.segments){c.push({source:h,target:p,start:r[f],end:r[d]});continue}const _=ZR(t,p);for(const T of _){const w=$y(e,o[T.start],o[T.end],T.loop),R=JR(h,r,w);for(const I of R)c.push({source:I,target:T,start:{[e]:US(p,w,"start",Math.max)},end:{[e]:US(p,w,"end",Math.min)}})}}return c}function $y(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=rs(r),o=rs(o)),{property:n,start:r,end:o}}function fz(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Sm(c,h,r);const f=r[c],d=r[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Sm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function US(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function gC(n,t){let e=[],i=!1;return $e(n)?(i=!0,e=n):e=fz(n,t),e.length?new Em({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function zS(n){return n&&n.fill!==!1}function dz(n,t,e){let r=n[t].fill;const o=[t];let c;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!pn(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function mz(n,t,e){const i=_z(n);if(qt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return pn(r)&&Math.floor(r)===r?gz(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function gz(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function pz(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:qt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function yz(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:qt(n)?i=n.value:i=t.getBaseValue(),i}function _z(n){const t=n.options,e=t.fill;let i=Ft(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function vz(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,c=i.points,h=bz(t,e);h.push(gC({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let p=d.start;p<=d.end;p++)Tz(r,c[p],h)}return new Em({points:r,options:{}})}function bz(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function Tz(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:c,last:h,point:f}=Ez(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function Ez(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let d=0;d<o.length;d++){const p=o[d],_=c[p.start][e],T=c[p.end][e];if(cl(r,_,T)){h=r===_,f=r===T;break}}return{first:h,last:f,point:i}}class pC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:c}=this;return e=e||{start:0,end:Ci},t.arc(r,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function Sz(n){const{chart:t,fill:e,line:i}=n;if(pn(e))return wz(t,e);if(e==="stack")return vz(n);if(e==="shape")return!0;const r=xz(n);return r instanceof pC?r:gC(r,i)}function wz(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function xz(n){return(n.scale||{}).getPointPositionForValue?Rz(n):Az(n)}function Az(n){const{scale:t={},fill:e}=n,i=pz(e,t);if(pn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function Rz(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,c=yz(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new pC({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<r;++f)h.push(t.getPointPositionForValue(f,c));return h}function iy(n,t,e){const i=Sz(t),{chart:r,index:o,line:c,scale:h,axis:f}=t,d=c.options,p=d.fill,_=d.backgroundColor,{above:T=_,below:w=_}=p||{},R=r.getDatasetMeta(o),I=tC(r,R);i&&c.points.length&&(ym(n,e),Cz(n,{line:c,target:i,above:T,below:w,area:e,scale:h,axis:f,clip:I}),_m(n))}function Cz(n,t){const{line:e,target:i,above:r,below:o,area:c,scale:h,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(d==="x"?(BS(n,i,c.top),sy(n,{line:e,target:i,color:r,scale:h,property:d,clip:f}),n.restore(),n.save(),BS(n,i,c.bottom)):d==="y"&&(FS(n,i,c.left),sy(n,{line:e,target:i,color:o,scale:h,property:d,clip:f}),n.restore(),n.save(),FS(n,i,c.right),p=r)),sy(n,{line:e,target:i,color:p,scale:h,property:d,clip:f}),n.restore()}function BS(n,t,e){const{segments:i,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:d}=h,p=r[f],_=r[Sm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function FS(n,t,e){const{segments:i,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:d}=h,p=r[f],_=r[Sm(f,d,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function sy(n,t){const{line:e,target:i,property:r,color:o,scale:c,clip:h}=t,f=hz(e,i,r);for(const{source:d,target:p,start:_,end:T}of f){const{style:{backgroundColor:w=o}={}}=d,R=i!==!0;n.save(),n.fillStyle=w,Iz(n,c,h,R&&$y(r,_,T)),n.beginPath();const I=!!e.pathSegment(n,d);let x;if(R){I?n.closePath():HS(n,i,T,r);const L=!!i.pathSegment(n,p,{move:I,reverse:!0});x=I&&L,x||HS(n,i,_,r)}n.closePath(),n.fill(x?"evenodd":"nonzero"),n.restore()}}function Iz(n,t,e,i){const r=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,d,p,_;o==="x"?(f=c,d=r.top,p=h,_=r.bottom):(f=r.left,d=c,p=r.right,_=h),n.beginPath(),e&&(f=Math.max(f,e.left),p=Math.min(p,e.right),d=Math.max(d,e.top),_=Math.min(_,e.bottom)),n.rect(f,d,p-f,_-d),n.clip()}}function HS(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Nz={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof Em&&(f={visible:n.isDatasetVisible(c),index:c,fill:mz(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,r.push(f);for(c=0;c<i;++c)f=r[c],!(!f||f.fill===!1)&&(f.fill=dz(r,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&iy(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;zS(o)&&iy(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!zS(i)||e.drawTime!=="beforeDatasetDraw"||iy(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const qS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},Dz=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class GS extends ho{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=mn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=qS(i,o);let d,p;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(c,o,h,f)+10):(p=this.maxHeight,d=this._fitCols(c,r,h,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=r+h;let _=t;o.textAlign="left",o.textBaseline="middle";let T=-1,w=-p;return this.legendItems.forEach((R,I)=>{const x=i+e/2+o.measureText(R.text).width;(I===0||d[d.length-1]+x+2*h>c)&&(_+=p,d[d.length-(I>0?0:1)]=0,w+=p,T++),f[I]={left:0,top:w,row:T,width:x,height:r},d[d.length-1]+=x+h}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=c-t;let _=h,T=0,w=0,R=0,I=0;return this.legendItems.forEach((x,L)=>{const{itemWidth:U,itemHeight:q}=kz(i,e,o,x,r);L>0&&w+q+2*h>p&&(_+=T+h,d.push({width:T,height:w}),R+=T+h,I++,T=w=0),f[L]={left:R,top:w,col:I,width:U,height:q},T=Math.max(T,U),w+=q+h}),_+=T,d.push({width:T,height:w}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=pl(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=hn(i,this.left+r,this.right-this.lineWidths[h]);for(const d of e)h!==d.row&&(h=d.row,f=hn(i,this.left+r,this.right-this.lineWidths[h])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let h=0,f=hn(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const d of e)d.col!==h&&(h=d.col,f=hn(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ym(t,this),this._draw(),_m(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=Ne.color,f=pl(t.rtl,this.left,this.width),d=mn(c.font),{padding:p}=c,_=d.size,T=_/2;let w;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:R,boxHeight:I,itemHeight:x}=qS(c,_),L=function(tt,k,N){if(isNaN(R)||R<=0||isNaN(I)||I<0)return;r.save();const C=Ft(N.lineWidth,1);if(r.fillStyle=Ft(N.fillStyle,h),r.lineCap=Ft(N.lineCap,"butt"),r.lineDashOffset=Ft(N.lineDashOffset,0),r.lineJoin=Ft(N.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=Ft(N.strokeStyle,h),r.setLineDash(Ft(N.lineDash,[])),c.usePointStyle){const P={radius:I*Math.SQRT2/2,pointStyle:N.pointStyle,rotation:N.rotation,borderWidth:C},M=f.xPlus(tt,R/2),j=k+T;FR(r,P,M,j,c.pointStyleWidth&&R)}else{const P=k+Math.max((_-I)/2,0),M=f.leftForLtr(tt,R),j=bu(N.borderRadius);r.beginPath(),Object.values(j).some(O=>O!==0)?Fy(r,{x:M,y:P,w:R,h:I,radius:j}):r.rect(M,P,R,I),r.fill(),C!==0&&r.stroke()}r.restore()},U=function(tt,k,N){Vu(r,N.text,tt,k+x/2,d,{strikethrough:N.hidden,textAlign:f.textAlign(N.textAlign)})},q=this.isHorizontal(),et=this._computeTitleHeight();q?w={x:hn(o,this.left+p,this.right-i[0]),y:this.top+p+et,line:0}:w={x:this.left+p,y:hn(o,this.top+et+p,this.bottom-e[0].height),line:0},WR(this.ctx,t.textDirection);const J=x+p;this.legendItems.forEach((tt,k)=>{r.strokeStyle=tt.fontColor,r.fillStyle=tt.fontColor;const N=r.measureText(tt.text).width,C=f.textAlign(tt.textAlign||(tt.textAlign=c.textAlign)),P=R+T+N;let M=w.x,j=w.y;f.setWidth(this.width),q?k>0&&M+P+p>this.right&&(j=w.y+=J,w.line++,M=w.x=hn(o,this.left+p,this.right-i[w.line])):k>0&&j+J>this.bottom&&(M=w.x=M+e[w.line].width+p,w.line++,j=w.y=hn(o,this.top+et+p,this.bottom-e[w.line].height));const O=f.x(M);if(L(O,j,tt),M=Rj(C,M+R+T,q?M+P:this.right,t.rtl),U(f.x(M),j,tt),q)w.x+=P+p;else if(typeof tt.text!="string"){const wt=d.lineHeight;w.y+=yC(tt,wt)+p}else w.y+=J}),QR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=mn(e.font),r=ui(e.padding);if(!e.display)return;const o=pl(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,d=r.top+f;let p,_=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),p=this.top+d,_=hn(t.align,_,this.right-T);else{const R=this.columnSizes.reduce((I,x)=>Math.max(I,x.height),0);p=d+hn(t.align,this.top,this.bottom-R-t.labels.padding-this._computeTitleHeight())}const w=hn(h,_,_+T);c.textAlign=o.textAlign(fv(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Vu(c,e.text,w,p,i)}_computeTitleHeight(){const t=this.options.title,e=mn(t.font),i=ui(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(cl(t,this.left,this.right)&&cl(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],cl(t,r.left,r.left+r.width)&&cl(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Pz(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=Dz(r,i);r&&!o&&he(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function kz(n,t,e,i,r){const o=Mz(i,n,t,e),c=Oz(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function Mz(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function Oz(n,t,e){let i=n;return typeof t.text!="string"&&(i=yC(t,e)),i}function yC(n,t){const e=n.text?n.text.length:0;return t*e}function Pz(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Lz={id:"legend",_element:GS,start(n,t,e){const i=n.legend=new GS({ctx:n.ctx,options:e,chart:n});oi.configure(n,i,e),oi.addBox(n,i)},stop(n){oi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;oi.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),p=ui(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class _C extends ho{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=$e(i.text)?i.text.length:1;this._padding=ui(i.padding);const o=r*mn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,d,p,_;return this.isHorizontal()?(p=hn(h,i,o),_=e+t,d=o-i):(c.position==="left"?(p=i+t,_=hn(h,r,e),f=Je*-.5):(p=o-t,_=hn(h,e,r),f=Je*.5),d=r-e),{titleX:p,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=mn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);Vu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:fv(e.align),textBaseline:"middle",translation:[c,h]})}}function Vz(n,t){const e=new _C({ctx:n.ctx,options:t,chart:n});oi.configure(n,e,t),oi.addBox(n,e),n.titleBlock=e}var jz={id:"title",_element:_C,start(n,t,e){Vz(n,e)},stop(n){const t=n.titleBlock;oi.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;oi.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=Uy(t,d);p<r&&(r=p,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function ns(n,t){return t&&($e(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Bs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Uz(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function $S(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=mn(t.bodyFont),d=mn(t.titleFont),p=mn(t.footerFont),_=o.length,T=r.length,w=i.length,R=ui(t.padding);let I=R.height,x=0,L=i.reduce((et,J)=>et+J.before.length+J.lines.length+J.after.length,0);if(L+=n.beforeBody.length+n.afterBody.length,_&&(I+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),L){const et=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=w*et+(L-w)*f.lineHeight+(L-1)*t.bodySpacing}T&&(I+=t.footerMarginTop+T*p.lineHeight+(T-1)*t.footerSpacing);let U=0;const q=function(et){x=Math.max(x,e.measureText(et).width+U)};return e.save(),e.font=d.string,ee(n.title,q),e.font=f.string,ee(n.beforeBody.concat(n.afterBody),q),U=t.displayColors?c+2+t.boxPadding:0,ee(i,et=>{ee(et.before,q),ee(et.lines,q),ee(et.after,q)}),U=0,e.font=p.string,ee(n.footer,q),e.restore(),x+=R.width,{width:x,height:I}}function zz(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Bz(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function Fz(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=r<=(h+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),Bz(d,n,t,e)&&(d="center"),d}function YS(n,t,e){const i=e.yAlign||t.yAlign||zz(n,e);return{xAlign:e.xAlign||t.xAlign||Fz(n,t,e,i),yAlign:i}}function Hz(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function qz(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function KS(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,d=r+o,{topLeft:p,topRight:_,bottomLeft:T,bottomRight:w}=bu(c);let R=Hz(t,h);const I=qz(t,f,d);return f==="center"?h==="left"?R+=d:h==="right"&&(R-=d):h==="left"?R-=Math.max(p,T)+r:h==="right"&&(R+=Math.max(_,w)+r),{x:ai(R,0,i.width-t.width),y:ai(I,0,i.height-t.height)}}function Xf(n,t,e){const i=ui(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function WS(n){return ns([],Bs(n))}function Gz(n,t,e){return uo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function QS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const vC={beforeTitle:js,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:js,beforeBody:js,beforeLabel:js,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return le(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:js,afterBody:js,beforeFooter:js,footer:js,afterFooter:js};function Cn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?vC[t].call(e,i):r}class XS extends ho{static positioners=lu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new eC(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Gz(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Cn(i,"beforeTitle",this,t),o=Cn(i,"title",this,t),c=Cn(i,"afterTitle",this,t);let h=[];return h=ns(h,Bs(r)),h=ns(h,Bs(o)),h=ns(h,Bs(c)),h}getBeforeBody(t,e){return WS(Cn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return ee(t,o=>{const c={before:[],lines:[],after:[]},h=QS(i,o);ns(c.before,Bs(Cn(h,"beforeLabel",this,o))),ns(c.lines,Cn(h,"label",this,o)),ns(c.after,Bs(Cn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return WS(Cn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Cn(i,"beforeFooter",this,t),o=Cn(i,"footer",this,t),c=Cn(i,"afterFooter",this,t);let h=[];return h=ns(h,Bs(r)),h=ns(h,Bs(o)),h=ns(h,Bs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,d;for(f=0,d=e.length;f<d;++f)h.push(Uz(this.chart,e[f]));return t.filter&&(h=h.filter((p,_,T)=>t.filter(p,_,T,i))),t.itemSort&&(h=h.sort((p,_)=>t.itemSort(p,_,i))),ee(h,p=>{const _=QS(t.callbacks,p);r.push(Cn(_,"labelColor",this,p)),o.push(Cn(_,"labelPointStyle",this,p)),c.push(Cn(_,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=lu[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=$S(this,i),d=Object.assign({},h,f),p=YS(this.chart,i,d),_=KS(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:_}=bu(h),{x:T,y:w}=t,{width:R,height:I}=e;let x,L,U,q,et,J;return o==="center"?(et=w+I/2,r==="left"?(x=T,L=x-c,q=et+c,J=et-c):(x=T+R,L=x+c,q=et-c,J=et+c),U=x):(r==="left"?L=T+Math.max(f,p)+c:r==="right"?L=T+R-Math.max(d,_)-c:L=this.caretX,o==="top"?(q=w,et=q-c,x=L-c,U=L+c):(q=w+I,et=q+c,x=L+c,U=L-c),J=q),{x1:x,x2:L,x3:U,y1:q,y2:et,y3:J}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const d=pl(i.rtl,this.x,this.width);for(t.x=Xf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=mn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=mn(o.bodyFont),_=Xf(this,"left",o),T=r.x(_),w=f<p.lineHeight?(p.lineHeight-f)/2:0,R=e.y+w;if(o.usePointStyle){const I={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},x=r.leftForLtr(T,d)+d/2,L=R+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,By(t,I,x,L),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,By(t,I,x,L)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=r.leftForLtr(T,d),x=r.leftForLtr(r.xPlus(T,1),d-2),L=bu(c.borderRadius);Object.values(L).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Fy(t,{x:I,y:R,w:d,h:f,radius:L}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Fy(t,{x,y:R+1,w:d-2,h:f-2,radius:L}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,R,d,f),t.strokeRect(I,R,d,f),t.fillStyle=c.backgroundColor,t.fillRect(x,R+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:p}=i,_=mn(i.bodyFont);let T=_.lineHeight,w=0;const R=pl(i.rtl,this.x,this.width),I=function(N){e.fillText(N,R.x(t.x+w),t.y+T/2),t.y+=T+o},x=R.textAlign(c);let L,U,q,et,J,tt,k;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Xf(this,x,i),e.fillStyle=i.bodyColor,ee(this.beforeBody,I),w=h&&x!=="right"?c==="center"?d/2+p:d+2+p:0,et=0,tt=r.length;et<tt;++et){for(L=r[et],U=this.labelTextColors[et],e.fillStyle=U,ee(L.before,I),q=L.lines,h&&q.length&&(this._drawColorBox(e,t,et,R,i),T=Math.max(_.lineHeight,f)),J=0,k=q.length;J<k;++J)I(q[J]),T=_.lineHeight;ee(L.after,I)}w=0,T=_.lineHeight,ee(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=pl(i.rtl,this.x,this.width);for(t.x=Xf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=mn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:d,height:p}=i,{topLeft:_,topRight:T,bottomLeft:w,bottomRight:R}=bu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+d-T,f),e.quadraticCurveTo(h+d,f,h+d,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+d,f+p-R),e.quadraticCurveTo(h+d,f+p,h+d-R,f+p),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+w,f+p),e.quadraticCurveTo(h,f+p,h,f+p-w),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=lu[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=$S(this,t),f=Object.assign({},c,this._size),d=YS(e,t,f),p=KS(t,f,d,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ui(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),WR(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),QR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!jd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!jd(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=lu[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var $z={id:"tooltip",_element:XS,positioners:lu,afterInit(n,t,e){e&&(n.tooltip=new XS({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vC},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Yz=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Kz(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Yz(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const Wz=(n,t)=>n===null?null:ai(Math.round(n),0,t);function JS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Qz extends Vl{static id="category";static defaults={ticks:{callback:JS}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(le(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Kz(i,t,Ft(e,t),this._addedLabels),Wz(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return JS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Xz(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:d,maxTicks:p,maxDigits:_,includeBounds:T}=n,w=o||1,R=p-1,{min:I,max:x}=t,L=!le(c),U=!le(h),q=!le(d),et=(x-I)/(_+1);let J=X1((x-I)/R/w)*w,tt,k,N,C;if(J<1e-14&&!L&&!U)return[{value:I},{value:x}];C=Math.ceil(x/J)-Math.floor(I/J),C>R&&(J=X1(C*J/R/w)*w),le(f)||(tt=Math.pow(10,f),J=Math.ceil(J*tt)/tt),r==="ticks"?(k=Math.floor(I/J)*J,N=Math.ceil(x/J)*J):(k=I,N=x),L&&U&&o&&pj((h-c)/o,J/1e3)?(C=Math.round(Math.min((h-c)/J,p)),J=(h-c)/C,k=c,N=h):q?(k=L?c:k,N=U?h:N,C=d-1,J=(N-k)/C):(C=(N-k)/J,yu(C,Math.round(C),J/1e3)?C=Math.round(C):C=Math.ceil(C));const P=Math.max(J1(J),J1(k));tt=Math.pow(10,le(f)?P:f),k=Math.round(k*tt)/tt,N=Math.round(N*tt)/tt;let M=0;for(L&&(T&&k!==c?(e.push({value:c}),k<c&&M++,yu(Math.round((k+M*J)*tt)/tt,c,ZS(c,et,n))&&M++):k<c&&M++);M<C;++M){const j=Math.round((k+M*J)*tt)/tt;if(U&&j>h)break;e.push({value:j})}return U&&T&&N!==h?e.length&&yu(e[e.length-1].value,h,ZS(h,et,n))?e[e.length-1].value=h:e.push({value:h}):(!U||N===h)&&e.push({value:N}),e}function ZS(n,t,{horizontal:e,minRotation:i}){const r=Ha(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class Jz extends Vl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return le(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Al(r),d=Al(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=Xz(r,o);return t.bounds==="ticks"&&yj(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return zR(t,this.chart.options.locale,this.options.ticks.format)}}class Zz extends Jz{static id="linear";static defaults={ticks:{callback:BR.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=pn(t)?t:0,this.max=pn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ha(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const wm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(wm);function tw(n,t){return n-t}function ew(n,t){if(le(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),pn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Pu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function nw(n,t,e,i){const r=Dn.length;for(let o=Dn.indexOf(n);o<r-1;++o){const c=wm[Dn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Dn[o]}return Dn[r-1]}function t9(n,t,e,i,r){for(let o=Dn.length-1;o>=Dn.indexOf(e);o--){const c=Dn[o];if(wm[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Dn[e?Dn.indexOf(e):0]}function e9(n){for(let t=Dn.indexOf(n)+1,e=Dn.length;t<e;++t)if(wm[Dn[t]].common)return Dn[t]}function iw(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=hv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function n9(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function sw(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:n9(n,i,r,e)}class rw extends Vl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new $5._date(t.adapters.date);r.init(e),pu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:ew(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=pn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=pn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=Sj(r,o,c);return this._unit=e.unit||(i.autoSkip?nw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):t9(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:e9(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),sw(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ai(e,0,c),i=ai(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||nw(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ft(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=Pu(f)||f===!0,p={};let _=e,T,w;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const R=r.ticks.source==="data"&&this.getDataTimestamps();for(T=_,w=0;T<i;T=+t.add(T,h,c),w++)iw(p,T,R);return(T===i||r.bounds==="ticks"||w===1)&&iw(p,T,R),Object.keys(p).sort(tw).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&h[f],_=d&&h[d],T=i[e],w=d&&_&&T&&T.major;return this._adapter.format(t,r||(w?_:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Ha(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,sw(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(ew(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xj(t.sort(tw))}}function Jf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=qa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=qa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?h+(f-h)*(t-o)/d:h}class T9 extends rw{static id="timeseries";static defaults=rw.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Jf(e,this.min),this._tableRange=Jf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,d,p;for(c=0,h=t.length;c<h;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)p=r[c+1],f=r[c-1],d=r[c],Math.round((p+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Jf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Jf(this._table,i*this._tableRange+this._minPos,!0)}}const bC="label";function aw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function i9(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function TC(n,t){n.labels=t}function EC(n,t,e=bC){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function s9(n,t=bC){const e={labels:[],datasets:[]};return TC(e,n.labels),EC(e,n.datasets,t),e}function r9(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:d=[],fallbackContent:p,updateMode:_,...T}=n,w=B.useRef(null),R=B.useRef(null),I=()=>{w.current&&(R.current=new Tm(w.current,{type:c,data:s9(h,o),options:f&&{...f},plugins:d}),aw(t,R.current))},x=()=>{aw(t,null),R.current&&(R.current.destroy(),R.current=null)};return B.useEffect(()=>{!r&&R.current&&f&&i9(R.current,f)},[r,f]),B.useEffect(()=>{!r&&R.current&&TC(R.current.config.data,h.labels)},[r,h.labels]),B.useEffect(()=>{!r&&R.current&&h.datasets&&EC(R.current.config.data,h.datasets,o)},[r,h.datasets]),B.useEffect(()=>{R.current&&(r?(x(),setTimeout(I)):R.current.update(_))},[r,f,h.labels,h.datasets,_]),B.useEffect(()=>{R.current&&(x(),setTimeout(I))},[c]),B.useEffect(()=>(I(),()=>x()),[]),v.jsx("canvas",{ref:w,role:"img",height:e,width:i,...T,children:p})}const a9=B.forwardRef(r9);function o9(n,t){return Tm.register(t),B.forwardRef((e,i)=>v.jsx(a9,{...e,ref:i,type:n}))}const l9=o9("line",G5);Tm.register(Qz,Zz,uz,Em,jz,$z,Lz,Nz);function c9(){const{user:n,userData:t}=ki(),[e,i]=B.useState("results"),{results:r,loading:o}=av(n?.uid),[c,h]=B.useState("all"),f=c==="all"?r:r.filter(d=>d.type===c);return v.jsxs("div",{className:"settings-page page-enter",children:[v.jsxs("div",{className:"profile-card glass-card",children:[v.jsx("div",{className:"profile-avatar",children:t?.photoURL?v.jsx("img",{src:t.photoURL,alt:"Profile"}):v.jsx("span",{children:(t?.name||"U")[0].toUpperCase()})}),v.jsxs("div",{className:"profile-info",children:[v.jsx("h2",{children:t?.name||"User"}),v.jsx("p",{children:t?.email||n?.email}),v.jsx("span",{className:`role-badge ${t?.role==="admin"?"admin":"student"}`,children:(t?.role||"student").charAt(0).toUpperCase()+(t?.role||"student").slice(1)})]})]}),v.jsxs("div",{className:"settings-tabs",children:[v.jsxs("button",{className:`tab-btn ${e==="results"?"active":""}`,onClick:()=>i("results"),children:[v.jsx(SR,{size:16})," Results"]}),v.jsxs("button",{className:`tab-btn ${e==="statistics"?"active":""}`,onClick:()=>i("statistics"),children:[v.jsx(O6,{size:16})," Statistics"]}),v.jsxs("button",{className:`tab-btn ${e==="personal"?"active":""}`,onClick:()=>i("personal"),children:[v.jsx(p3,{size:16})," Personal"]})]}),e==="results"&&v.jsxs("div",{className:"tab-content",children:[v.jsx("div",{className:"filter-row",children:["all","listening","reading","writing","fullmock"].map(d=>v.jsx("button",{className:`filter-btn ${c===d?"active":""}`,onClick:()=>h(d),children:d==="all"?"All":as(d)},d))}),v.jsx("div",{className:"results-list",children:o?v.jsxs("div",{className:"loading-container",children:[v.jsx("div",{className:"spinner"}),v.jsx("span",{children:"Loading..."})]}):f.length===0?v.jsxs("div",{className:"empty-state glass-card",children:[v.jsx("span",{className:"empty-icon",children:""}),v.jsx("p",{children:"No results found."})]}):f.map((d,p)=>{let _="";d.type==="writing"&&d.submittedAt?d.submittedAt.toDate?_=d.submittedAt.toDate().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):typeof d.submittedAt=="string"&&(_=d.submittedAt.split(" at ")[0]):d.createdAt?.toDate&&(_=d.createdAt.toDate().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}));const T=d.displayTitle||as(d.type);return v.jsxs("a",{href:NR(d.type,d.id),className:"result-row glass-card",children:[v.jsx("span",{className:"result-row-icon",children:Vd(d.type)}),v.jsxs("div",{className:"result-row-info",children:[v.jsx("span",{className:"result-row-type",style:{fontWeight:500},children:T}),v.jsx("span",{className:"result-row-date",children:_})]}),v.jsx("span",{className:"result-row-score",children:R3(d)})]},d.id||p)})})]}),e==="statistics"&&v.jsx(u9,{userId:n?.uid}),e==="personal"&&v.jsx(h9,{})]})}function u9({userId:n}){const[t,e]=B.useState("listening"),{results:i,loading:r}=S3(n,t),o=[...i].sort((_,T)=>{const w=_.createdAt?.toDate?_.createdAt.toDate():new Date(0),R=T.createdAt?.toDate?T.createdAt.toDate():new Date(0);return w-R}),c=o.map(_=>(_.createdAt?.toDate?_.createdAt.toDate():new Date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),h=o.map(_=>t==="fullmock"?_.overallBand||0:t==="writing"?_.totalWordCount||0:xl(_.score||0,_.total||40,t)),f={labels:c,datasets:[{label:`${as(t)} Progress`,data:h,borderColor:"#1763e1",backgroundColor:"rgba(23, 99, 225, 0.08)",borderWidth:3,tension:.4,fill:!0,pointRadius:5,pointHoverRadius:7,pointBackgroundColor:"#1763e1",pointBorderColor:"#fff",pointBorderWidth:2}]},d={responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"top",labels:{font:{size:13,weight:"600"}}},tooltip:{backgroundColor:"rgba(255,255,255,0.95)",titleColor:"#0f172a",bodyColor:"#475569",borderColor:"#1763e1",borderWidth:1,padding:12}},scales:{y:{beginAtZero:t==="writing",title:{display:!0,text:t==="writing"?"Word Count":"IELTS Band",font:{size:13,weight:"600"}}},x:{title:{display:!0,text:"Test Date",font:{size:13,weight:"600"}}}}};let p=null;if(h.length>=2){const _=h[h.length-1]-h[0];_>.5||t==="writing"&&_>50?p={icon:"",label:"Improving",color:"#10b981"}:_<-.5||t==="writing"&&_<-50?p={icon:"",label:"Needs Attention",color:"#ef4444"}:p={icon:"",label:"Consistent",color:"#f59e0b"}}return v.jsxs("div",{className:"tab-content",children:[v.jsx("div",{className:"stats-controls",children:v.jsxs("select",{value:t,onChange:_=>e(_.target.value),className:"skill-select",children:[v.jsx("option",{value:"listening",children:"Listening"}),v.jsx("option",{value:"reading",children:"Reading"}),v.jsx("option",{value:"writing",children:"Writing"}),v.jsx("option",{value:"fullmock",children:"Full Mock"})]})}),r?v.jsxs("div",{className:"loading-container",children:[v.jsx("div",{className:"spinner"}),v.jsx("span",{children:"Loading stats..."})]}):h.length===0?v.jsxs("div",{className:"empty-state glass-card",children:[v.jsx("span",{className:"empty-icon",children:""}),v.jsxs("p",{children:["No data yet for ",as(t),"."]})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"chart-container glass-card",children:v.jsx(l9,{data:f,options:d})}),p&&v.jsxs("div",{className:"trend-card glass-card",style:{borderLeft:`4px solid ${p.color}`},children:[v.jsx("span",{className:"trend-icon",children:p.icon}),v.jsxs("div",{children:[v.jsx("strong",{children:p.label}),v.jsxs("p",{children:[h.length," tests completed  Latest: ",h[h.length-1],t!=="writing"?" band":" words"]})]})]})]})]})}function h9(){const{user:n,userData:t}=ki(),[e,i]=B.useState(t?.name||""),[r,o]=B.useState(t?.username||""),[c,h]=B.useState(""),[f,d]=B.useState(""),[p,_]=B.useState(""),[T,w]=B.useState(null),[R,I]=B.useState(""),x=B.useRef(),L=(tt,k="success")=>{w({text:tt,type:k}),setTimeout(()=>w(null),4e3)},U=async()=>{if(!e.trim())return L("Please enter a valid name","error");I("name");try{await qp(ms(Ce,"users",n.uid),{name:e.trim()}),L("Name updated!")}catch(tt){L("Failed: "+tt.message,"error")}I("")},q=async()=>{if(!r.trim())return L("Please enter a username","error");I("username");try{const tt=Du(Bn(Ce,"users"),Gr("username","==",r.trim())),k=await Xs(tt);if(!k.empty&&k.docs[0].id!==n.uid){L("Username already taken","error"),I("");return}await qp(ms(Ce,"users",n.uid),{username:r.trim()}),L("Username updated!")}catch(tt){L("Failed: "+tt.message,"error")}I("")},et=async()=>{if(!c||!f||!p)return L("Fill all password fields","error");if(f.length<6)return L("Password must be at least 6 characters","error");if(f!==p)return L("Passwords do not match","error");I("password");try{const tt=Dl.credential(n.email,c);await _M(n,tt),await vM(n,f),h(""),d(""),_(""),L("Password changed!")}catch(tt){L({"auth/wrong-password":"Current password incorrect","auth/weak-password":"Password too weak"}[tt.code]||"Failed: "+tt.message,"error")}I("")},J=async tt=>{const k=tt.target.files?.[0];if(k){I("pfp");try{const N=Oy(_6,`profilePictures/${n.uid}`);await ky(N,k);const C=await My(N);await qp(ms(Ce,"users",n.uid),{photoURL:C}),L("Profile picture updated!")}catch(N){L("Upload failed: "+N.message,"error")}I("")}};return v.jsxs("div",{className:"tab-content personal-tab",children:[T&&v.jsx("div",{className:`flash-msg ${T.type}`,children:T.text}),v.jsxs("div",{className:"personal-section glass-card",children:[v.jsx("h4",{children:"Profile Picture"}),v.jsxs("div",{className:"pfp-section",children:[v.jsx("div",{className:"pfp-preview",children:t?.photoURL?v.jsx("img",{src:t.photoURL,alt:"Profile"}):v.jsx("span",{children:(t?.name||"U")[0]})}),v.jsxs("button",{className:"upload-btn",onClick:()=>x.current?.click(),disabled:R==="pfp",children:[v.jsx(k6,{size:16})," ",R==="pfp"?"Uploading...":"Change Photo"]}),v.jsx("input",{ref:x,type:"file",accept:"image/*",hidden:!0,onChange:J})]})]}),v.jsxs("div",{className:"personal-section glass-card",children:[v.jsx("h4",{children:"Full Name"}),v.jsxs("div",{className:"input-row",children:[v.jsx("input",{value:e,onChange:tt=>i(tt.target.value),placeholder:"Your full name"}),v.jsx("button",{onClick:U,disabled:R==="name",children:R==="name"?"Saving...":"Save"})]})]}),v.jsxs("div",{className:"personal-section glass-card",children:[v.jsx("h4",{children:"Username"}),v.jsxs("div",{className:"input-row",children:[v.jsx("input",{value:r,onChange:tt=>o(tt.target.value),placeholder:"Choose a username"}),v.jsx("button",{onClick:q,disabled:R==="username",children:R==="username"?"Saving...":"Save"})]})]}),v.jsxs("div",{className:"personal-section glass-card",children:[v.jsx("h4",{children:"Change Password"}),v.jsxs("div",{className:"pw-fields",children:[v.jsx("input",{type:"password",value:c,onChange:tt=>h(tt.target.value),placeholder:"Current password"}),v.jsx("input",{type:"password",value:f,onChange:tt=>d(tt.target.value),placeholder:"New password"}),v.jsx("input",{type:"password",value:p,onChange:tt=>_(tt.target.value),placeholder:"Confirm new password"})]}),v.jsx("button",{className:"pw-btn",onClick:et,disabled:R==="password",children:R==="password"?"Changing...":"Change Password"})]})]})}const f9=[{type:"listening",icon:iv,color:"#8b5cf6",addUrl:"/settings/admin/tests/add/listening/index.html",manageRoute:"/admin/tests/listening"},{type:"reading",icon:nv,color:"#3b82f6",addUrl:"/settings/admin/tests/add/reading/index.html",manageRoute:"/admin/tests/reading"},{type:"writing",icon:sv,color:"#10b981",addUrl:"/settings/admin/tests/add/writing/index.html",manageRoute:"/admin/tests/writing"}];function d9(){const{isAdmin:n}=ki();return n?v.jsxs("div",{className:"admin-page page-enter",children:[v.jsxs("div",{className:"admin-header",children:[v.jsx(AR,{size:28,className:"admin-icon"}),v.jsxs("div",{children:[v.jsx("h2",{children:"Admin Settings"}),v.jsx("p",{children:"Manage tests, users, and system settings"})]})]}),v.jsxs("section",{className:"admin-section",children:[v.jsx("h3",{className:"admin-section-title",children:" Test Management"}),v.jsx("div",{className:"admin-grid",children:f9.map(({type:t,icon:e,color:i,addUrl:r,manageRoute:o})=>v.jsxs("div",{className:"admin-card glass-card",children:[v.jsxs("div",{className:"admin-card-header",children:[v.jsx("div",{className:"admin-card-icon",style:{background:i},children:v.jsx(e,{size:20,color:"#fff"})}),v.jsxs("h4",{children:[t.charAt(0).toUpperCase()+t.slice(1)," Tests"]})]}),v.jsxs("div",{className:"admin-card-actions",children:[v.jsxs("a",{href:r,className:"admin-action-btn add",children:[v.jsx(hd,{size:16})," Add New"]}),v.jsxs(yl,{to:o,className:"admin-action-btn edit",children:[v.jsx(wR,{size:16})," Manage"]})]})]},t))})]}),v.jsxs("section",{className:"admin-section",children:[v.jsx("h3",{className:"admin-section-title",children:" System Management"}),v.jsx("div",{className:"management-list",children:v.jsxs(yl,{to:"/admin/users",className:"management-item glass-card",children:[v.jsx("div",{className:"management-icon",children:v.jsx(Ly,{size:22})}),v.jsxs("div",{className:"management-info",children:[v.jsx("span",{className:"management-label",children:"Manage Users & Data"}),v.jsx("span",{className:"management-desc",children:"Create, delete users, groups, results, feedback"})]}),v.jsx(z6,{size:16,className:"management-arrow"})]})})]})]}):v.jsx(Zy,{to:"/",replace:!0})}const ow=vR();function m9(){const{isAdmin:n}=ki(),[t,e]=B.useState([]),[i,r]=B.useState([]),[o,c]=B.useState(!0),[h,f]=B.useState("users"),[d,p]=B.useState(""),[_,T]=B.useState(!1),[w,R]=B.useState(!1),[I,x]=B.useState(!1),[L,U]=B.useState(!1),[q,et]=B.useState({text:"",type:""}),[J,tt]=B.useState({email:"",password:"",name:"",username:"",role:"student"}),[k,N]=B.useState({name:"",photo:null}),[C,P]=B.useState({name:"",band:"",group:"",photo:null}),[M,j]=B.useState({name:"",group:"",feedback:""}),O=B.useCallback(async()=>{try{const W=await Xs(Bn(Ce,"users"));e(W.docs.map(ut=>({id:ut.id,...ut.data()})))}catch(W){console.error("Error loading users:",W)}},[]),wt=B.useCallback(async()=>{try{const W=await Xs(Bn(Ce,"groups"));r(W.docs.map(ut=>({id:ut.id,...ut.data()})))}catch(W){console.error("Error loading groups:",W)}},[]);B.useEffect(()=>{Promise.all([O(),wt()]).finally(()=>c(!1))},[O,wt]);const ft=(W,ut="success")=>{et({text:W,type:ut}),setTimeout(()=>et({text:"",type:""}),4e3)},Q=async W=>{W.preventDefault();try{const ut=await ku.currentUser.getIdToken(),pt=await fetch("https://us-central1-yes-english-center.cloudfunctions.net/createUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ut}`},body:JSON.stringify(J)});if(!pt.ok)throw new Error(await pt.text());const kt=await pt.json();ft(` User created (UID: ${kt.uid})`),tt({email:"",password:"",name:"",username:"",role:"student"}),T(!1),await O()}catch(ut){ft(` ${ut.message}`,"error")}},lt=async W=>{if(confirm("Are you sure you want to delete this user?"))try{const ut=await ku.currentUser.getIdToken(),pt=await fetch("https://us-central1-yes-english-center.cloudfunctions.net/deleteUser",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ut}`},body:JSON.stringify({uid:W})});if(!pt.ok)throw new Error(await pt.text());ft(" User deleted"),await O()}catch(ut){ft(` ${ut.message}`,"error")}},_t=async W=>{if(W.preventDefault(),!k.photo||!k.name)return ft(" Fill all fields","error");try{const ut=Oy(ow,`groups/${Date.now()}_${k.photo.name}`);await ky(ut,k.photo);const pt=await My(ut);await Gp(Bn(Ce,"groups"),{name:k.name,photoURL:pt,createdAt:Date.now()}),ft(" Group added"),N({name:"",photo:null}),R(!1),await wt()}catch(ut){ft(` ${ut.message}`,"error")}},Dt=async W=>{if(confirm("Delete this group?"))try{await eR(ms(Ce,"groups",W)),ft(" Group deleted"),await wt()}catch(ut){ft(` ${ut.message}`,"error")}},Mt=async W=>{if(W.preventDefault(),!C.photo||!C.name||!C.band||!C.group)return ft(" Fill all fields","error");try{const ut=Oy(ow,`results/${Date.now()}_${C.photo.name}`);await ky(ut,C.photo);const pt=await My(ut);await Gp(Bn(Ce,"results"),{name:C.name,band:parseFloat(C.band),group:C.group,photoURL:pt,createdAt:Date.now()}),ft(" Result added"),P({name:"",band:"",group:"",photo:null}),x(!1)}catch(ut){ft(` ${ut.message}`,"error")}},z=async W=>{if(W.preventDefault(),!M.name||!M.group||!M.feedback)return ft(" Fill all fields","error");try{await Gp(Bn(Ce,"feedbacks"),{...M,createdAt:Date.now()}),ft(" Feedback added"),j({name:"",group:"",feedback:""}),U(!1)}catch(ut){ft(` ${ut.message}`,"error")}};if(!n)return v.jsx(Zy,{to:"/",replace:!0});const it=t.filter(W=>(W.email||"").toLowerCase().includes(d.toLowerCase())||(W.name||"").toLowerCase().includes(d.toLowerCase())||(W.username||"").toLowerCase().includes(d.toLowerCase())),ct=[{key:"users",label:"Users",icon:Ly,count:t.length},{key:"groups",label:"Groups",icon:z1,count:i.length},{key:"results",label:"Results",icon:Pd},{key:"feedback",label:"Feedback",icon:Ld}];return v.jsxs("div",{className:"manage-page page-enter",children:[v.jsxs("div",{className:"manage-header",children:[v.jsxs(yl,{to:"/admin",className:"back-link",children:[v.jsx(ER,{size:20})," Back to Admin"]}),v.jsxs("h2",{children:[v.jsx(Ly,{size:24})," Manage Users & Data"]})]}),q.text&&v.jsx("div",{className:`toast ${q.type}`,children:q.text}),v.jsx("div",{className:"manage-tabs",children:ct.map(({key:W,label:ut,icon:pt,count:kt})=>v.jsxs("button",{className:`tab-btn ${h===W?"active":""}`,onClick:()=>f(W),children:[v.jsx(pt,{size:18})," ",ut,kt!=null?` (${kt})`:""]},W))}),o?v.jsx(M3,{}):v.jsxs(v.Fragment,{children:[h==="users"&&v.jsxs("div",{className:"tab-content",children:[v.jsxs("div",{className:"tab-toolbar",children:[v.jsxs("div",{className:"search-box",children:[v.jsx(xR,{size:18}),v.jsx("input",{placeholder:"Search users...",value:d,onChange:W=>p(W.target.value)})]}),v.jsxs("button",{className:"action-btn primary",onClick:()=>T(!_),children:[_?v.jsx(ru,{size:18}):v.jsx(B1,{size:18}),_?"Cancel":"Create User"]})]}),_&&v.jsxs("form",{className:"inline-form glass-card",onSubmit:Q,children:[v.jsxs("h4",{children:[v.jsx(B1,{size:18})," Create New User"]}),v.jsxs("div",{className:"form-grid",children:[v.jsx("input",{placeholder:"Full Name",value:J.name,onChange:W=>tt({...J,name:W.target.value}),required:!0}),v.jsx("input",{placeholder:"Username",value:J.username,onChange:W=>tt({...J,username:W.target.value}),required:!0}),v.jsx("input",{type:"email",placeholder:"Email",value:J.email,onChange:W=>tt({...J,email:W.target.value}),required:!0}),v.jsx("input",{type:"password",placeholder:"Password",value:J.password,onChange:W=>tt({...J,password:W.target.value}),required:!0}),v.jsxs("select",{value:J.role,onChange:W=>tt({...J,role:W.target.value}),children:[v.jsx("option",{value:"student",children:"Student"}),v.jsx("option",{value:"admin",children:"Admin"})]})]}),v.jsx("button",{type:"submit",className:"action-btn primary",children:"Create"})]}),v.jsxs("div",{className:"users-list",children:[it.map(W=>v.jsxs("div",{className:"user-card glass-card",children:[v.jsx("div",{className:"user-avatar-sm",children:(W.name||W.email||"U")[0].toUpperCase()}),v.jsxs("div",{className:"user-details",children:[v.jsx("span",{className:"user-name-text",children:W.name||"No name"}),v.jsx("span",{className:"user-email",children:W.email})]}),v.jsx("span",{className:`role-badge ${W.role}`,children:W.role||"student"}),v.jsx("button",{className:"delete-btn",onClick:()=>lt(W.id),title:"Delete user",children:v.jsx(Py,{size:16})})]},W.id)),it.length===0&&v.jsx("p",{className:"empty-msg",children:"No users found"})]})]}),h==="groups"&&v.jsxs("div",{className:"tab-content",children:[v.jsxs("div",{className:"tab-toolbar",children:[v.jsx("span",{}),v.jsxs("button",{className:"action-btn primary",onClick:()=>R(!w),children:[w?v.jsx(ru,{size:18}):v.jsx(hd,{size:18}),w?"Cancel":"Add Group"]})]}),w&&v.jsxs("form",{className:"inline-form glass-card",onSubmit:_t,children:[v.jsxs("h4",{children:[v.jsx(z1,{size:18})," Add New Group"]}),v.jsxs("div",{className:"form-grid",children:[v.jsx("input",{placeholder:"Group Name",value:k.name,onChange:W=>N({...k,name:W.target.value}),required:!0}),v.jsx("input",{type:"file",accept:"image/*",onChange:W=>N({...k,photo:W.target.files[0]}),required:!0})]}),v.jsx("button",{type:"submit",className:"action-btn primary",children:"Add Group"})]}),v.jsxs("div",{className:"groups-grid",children:[i.map(W=>v.jsxs("div",{className:"group-card glass-card",children:[v.jsx("img",{src:W.photoURL,alt:W.name,className:"group-photo"}),v.jsx("span",{className:"group-name",children:W.name}),v.jsx("button",{className:"delete-btn",onClick:()=>Dt(W.id),title:"Delete group",children:v.jsx(Py,{size:16})})]},W.id)),i.length===0&&v.jsx("p",{className:"empty-msg",children:"No groups yet"})]})]}),h==="results"&&v.jsxs("div",{className:"tab-content",children:[v.jsxs("div",{className:"tab-toolbar",children:[v.jsx("span",{}),v.jsxs("button",{className:"action-btn primary",onClick:()=>x(!I),children:[I?v.jsx(ru,{size:18}):v.jsx(hd,{size:18}),I?"Cancel":"Add Result"]})]}),I&&v.jsxs("form",{className:"inline-form glass-card",onSubmit:Mt,children:[v.jsxs("h4",{children:[v.jsx(Pd,{size:18})," Add Student Result"]}),v.jsxs("div",{className:"form-grid",children:[v.jsx("input",{placeholder:"Student Name",value:C.name,onChange:W=>P({...C,name:W.target.value}),required:!0}),v.jsx("input",{type:"number",step:"0.5",min:"0",max:"9",placeholder:"IELTS Band",value:C.band,onChange:W=>P({...C,band:W.target.value}),required:!0}),v.jsx("input",{placeholder:"Group",value:C.group,onChange:W=>P({...C,group:W.target.value}),required:!0}),v.jsx("input",{type:"file",accept:"image/*",onChange:W=>P({...C,photo:W.target.files[0]}),required:!0})]}),v.jsx("button",{type:"submit",className:"action-btn primary",children:"Add Result"})]}),v.jsx("p",{className:"empty-msg",children:"Use the form above to add student IELTS results to the landing page."})]}),h==="feedback"&&v.jsxs("div",{className:"tab-content",children:[v.jsxs("div",{className:"tab-toolbar",children:[v.jsx("span",{}),v.jsxs("button",{className:"action-btn primary",onClick:()=>U(!L),children:[L?v.jsx(ru,{size:18}):v.jsx(hd,{size:18}),L?"Cancel":"Add Feedback"]})]}),L&&v.jsxs("form",{className:"inline-form glass-card",onSubmit:z,children:[v.jsxs("h4",{children:[v.jsx(Ld,{size:18})," Add Student Feedback"]}),v.jsxs("div",{className:"form-grid",children:[v.jsx("input",{placeholder:"Student Name",value:M.name,onChange:W=>j({...M,name:W.target.value}),required:!0}),v.jsx("input",{placeholder:"Group",value:M.group,onChange:W=>j({...M,group:W.target.value}),required:!0}),v.jsx("textarea",{placeholder:"Feedback text...",value:M.feedback,onChange:W=>j({...M,feedback:W.target.value}),required:!0,rows:3})]}),v.jsx("button",{type:"submit",className:"action-btn primary",children:"Add Feedback"})]}),v.jsx("p",{className:"empty-msg",children:"Use the form above to add student feedback to the landing page."})]})]})]})}const lw={listening:{label:"Listening",icon:iv,collection:"listeningTests",color:"#8b5cf6",editPath:"/settings/admin/tests/edit/listening/editListening/"},reading:{label:"Reading",icon:nv,collection:"readingTests",color:"#3b82f6",editPath:"/settings/admin/tests/edit/reading/editReading/"},writing:{label:"Writing",icon:sv,collection:"writingTests",color:"#10b981",editPath:"/settings/admin/tests/edit/writing/editWriting/"}};function g9(){const{isAdmin:n}=ki(),{type:t}=vw(),[e,i]=B.useState([]),[r,o]=B.useState(!0),[c,h]=B.useState(""),[f,d]=B.useState(null),[p,_]=B.useState(!1),T=lw[t]||lw.listening,w=T.icon,R=B.useCallback(async()=>{o(!0);try{const U=await Xs(Bn(Ce,T.collection));i(U.docs.map(q=>({id:q.id,...q.data()})))}catch(U){console.error("Error loading tests:",U)}finally{o(!1)}},[T.collection]);B.useEffect(()=>{R()},[R]);const I=async()=>{if(f){_(!0);try{await eR(ms(Ce,T.collection,f.id)),i(U=>U.filter(q=>q.id!==f.id)),d(null)}catch(U){alert("Error deleting test: "+U.message)}finally{_(!1)}}};if(!n)return v.jsx(Zy,{to:"/",replace:!0});const x=U=>U.title||U.name||`${T.label} Test ${U.id.replace("test-","")}`,L=e.filter(U=>x(U).toLowerCase().includes(c.toLowerCase()));return v.jsxs("div",{className:"manage-tests-page page-enter",children:[v.jsxs("div",{className:"manage-header",children:[v.jsxs(yl,{to:"/admin",className:"back-link",children:[v.jsx(ER,{size:20})," Back to Admin"]}),v.jsxs("h2",{style:{color:T.color},children:[v.jsx(w,{size:24})," Manage ",T.label," Tests"]}),v.jsxs("p",{className:"test-count",children:[e.length," test",e.length!==1?"s":""," found"]})]}),v.jsxs("div",{className:"mt-toolbar",children:[v.jsxs("div",{className:"search-box",children:[v.jsx(xR,{size:18}),v.jsx("input",{placeholder:`Search ${T.label.toLowerCase()} tests...`,value:c,onChange:U=>h(U.target.value)})]}),v.jsx("a",{href:`/settings/admin/tests/add/${t}/index.html`,className:"action-btn primary",children:"+ Add New Test"})]}),r?v.jsx(k3,{}):L.length===0?v.jsxs("div",{className:"empty-state-mt",children:[v.jsx(w,{size:48,strokeWidth:1.5}),v.jsxs("h3",{children:["No ",T.label," Tests"]}),v.jsx("p",{children:"No tests found. Create one to get started."}),v.jsx("a",{href:`/settings/admin/tests/add/${t}/index.html`,className:"action-btn primary",style:{marginTop:"0.75rem"},children:"+ Add First Test"})]}):v.jsx("div",{className:"tests-grid-mt",children:L.map(U=>v.jsxs("div",{className:"test-card-mt glass-card",children:[v.jsxs("div",{className:"test-card-header",style:{borderLeftColor:T.color},children:[v.jsx("div",{className:"test-icon-sm",style:{background:T.color},children:v.jsx(w,{size:18,color:"#fff"})}),v.jsxs("div",{className:"test-info",children:[v.jsx("h4",{children:U.title||U.name||`${T.label} Test ${U.id.replace("test-","")}`}),U.description&&v.jsx("p",{className:"test-desc",children:U.description})]})]}),v.jsxs("div",{className:"test-meta",children:[U.questions&&v.jsxs("span",{className:"meta-tag",children:[Array.isArray(U.questions)?U.questions.length:Object.keys(U.questions).length," questions"]}),U.passages&&v.jsxs("span",{className:"meta-tag",children:[Array.isArray(U.passages)?U.passages.length:Object.keys(U.passages).length," passages"]}),U.duration&&v.jsxs("span",{className:"meta-tag",children:[U.duration," min"]})]}),v.jsxs("div",{className:"test-card-actions",children:[v.jsxs("button",{className:"tc-btn edit",title:"Edit",onClick:()=>window.location.assign(`${T.editPath}?testId=${U.id}`),children:[v.jsx(wR,{size:16})," Edit"]}),v.jsxs("button",{className:"tc-btn delete",onClick:()=>d(U),title:"Delete",children:[v.jsx(Py,{size:16})," Delete"]})]})]},U.id))}),f&&v.jsx("div",{className:"modal-overlay",onClick:()=>!p&&d(null),children:v.jsxs("div",{className:"modal-box",onClick:U=>U.stopPropagation(),children:[v.jsx("h3",{children:" Delete Test"}),v.jsxs("p",{children:["Are you sure you want to delete ",v.jsx("strong",{children:x(f)}),"?"]}),v.jsx("p",{className:"modal-warning",children:"This action cannot be undone."}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-btn cancel",onClick:()=>d(null),disabled:p,children:"Cancel"}),v.jsx("button",{className:"modal-btn confirm",onClick:I,disabled:p,children:p?"Deleting...":"Delete"})]})]})})]})}function p9(){const{user:n,userData:t}=ki(),[e,i]=B.useState("Report an error"),[r,o]=B.useState(""),[c,h]=B.useState("Medium"),[f,d]=B.useState(""),[p,_]=B.useState("idle"),T=[{id:"Report an error",icon:RR,label:"Report an error"},{id:"Feature request",icon:Y6,label:"Feature request"},{id:"Improvement",icon:f3,label:"Improvement"},{id:"General feedback",icon:Z6,label:"General feedback"}],w=async R=>{if(R.preventDefault(),!r.trim()||f.trim().length<10)return;_("sending");const I="8614804182:AAEL5prKYyCY3D02FWqtlWVASaFjev-qeRg",x="1351499476",L=t?.name||"User",U=t?.email||n?.email||"N/A",q=`
 *New Feedback Received*
        
 *User:* ${L}
 *Email:* ${U}
        
 *Category:* ${e}
 *Priority:* ${c}
 *Subject:* ${r}
        
 *Message:*
${f}
        `;try{(await fetch(`https://api.telegram.org/bot${I}/sendMessage`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:x,text:q,parse_mode:"Markdown"})})).ok?(_("success"),o(""),d(""),h("Medium"),i("Report an error"),setTimeout(()=>_("idle"),3e3)):(_("error"),setTimeout(()=>_("idle"),3e3))}catch(et){console.error("Error sending feedback:",et),_("error"),setTimeout(()=>_("idle"),3e3)}};return v.jsxs("div",{className:"feedback-page page-enter",children:[v.jsxs("div",{className:"feedback-header",children:[v.jsx("div",{className:"feedback-icon-wrapper",children:v.jsx(Ld,{size:24,className:"feedback-header-icon"})}),v.jsx("h1",{children:"Feedback"}),v.jsx("p",{children:"Help us improve YES English Center! Your opinion is very important to us."})]}),v.jsxs("div",{className:"feedback-layout",children:[v.jsx("div",{className:"feedback-main",children:v.jsxs("div",{className:"glass-card feedback-form-card",children:[v.jsx("h2",{children:"Send Feedback"}),v.jsxs("form",{onSubmit:w,className:"feedback-form",children:[v.jsxs("div",{className:"form-row",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Name"}),v.jsx("input",{type:"text",value:t?.name||"User",readOnly:!0,className:"readonly-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Email"}),v.jsx("input",{type:"email",value:t?.email||n?.email||"",readOnly:!0,className:"readonly-input"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{children:["Category ",v.jsx("span",{className:"required",children:"*"})]}),v.jsx("div",{className:"category-grid",children:T.map(R=>v.jsxs("button",{type:"button",className:`category-btn ${e===R.id?"active":""}`,onClick:()=>i(R.id),children:[v.jsx(R.icon,{size:16}),v.jsx("span",{children:R.label})]},R.id))})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{children:["Subject ",v.jsx("span",{className:"required",children:"*"})," ",v.jsxs("span",{className:"char-count",children:["(",r.length,"/3 min)"]})]}),v.jsx("input",{type:"text",placeholder:"Briefly describe the essence of your request (minimum 3 characters)",value:r,onChange:R=>o(R.target.value),required:!0,minLength:3})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Priority"}),v.jsxs("select",{value:c,onChange:R=>h(R.target.value),children:[v.jsx("option",{value:"Low",children:"Low"}),v.jsx("option",{value:"Medium",children:"Medium"}),v.jsx("option",{value:"High",children:"High"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsxs("label",{children:["Message ",v.jsx("span",{className:"required",children:"*"})," ",v.jsxs("span",{className:"char-count",children:["(",f.length,"/10 min)"]})]}),v.jsx("textarea",{placeholder:"Briefly describe your feedback, suggestion or problem... (minimum 10 characters)",value:f,onChange:R=>d(R.target.value),required:!0,minLength:10,rows:5})]}),v.jsxs("div",{className:"form-actions",children:[p==="success"&&v.jsx("div",{className:"status-message success",children:"Feedback sent successfully!"}),p==="error"&&v.jsx("div",{className:"status-message error",children:"Failed to send. Please try again."}),v.jsxs("button",{type:"submit",className:"submit-btn",disabled:p==="sending"||r.length<3||f.length<10,children:[v.jsx(a3,{size:18}),v.jsx("span",{children:p==="sending"?"Sending...":"Send Feedback"})]})]})]})]})}),v.jsxs("div",{className:"feedback-sidebar",children:[v.jsxs("div",{className:"glass-card info-card",children:[v.jsx("h3",{children:"Contact Information"}),v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{children:[v.jsx("span",{className:"contact-label",children:"Email"}),v.jsx("a",{href:"mailto:abdulazizvaliev5075@gmail.com",className:"contact-value highlight",children:"abdulazizvaliev5075@gmail.com"})]})]}),v.jsxs("div",{className:"contact-item",children:[v.jsx("div",{className:"contact-icon",children:""}),v.jsxs("div",{children:[v.jsx("span",{className:"contact-label",children:"Response time"}),v.jsx("span",{className:"contact-value",children:"Typically within 24 hours"})]})]})]}),v.jsxs("div",{className:"glass-card faq-card",children:[v.jsx("h3",{children:"FAQ"}),v.jsxs("div",{className:"faq-item",children:[v.jsx("h4",{children:"How quickly do you respond?"}),v.jsx("p",{children:"We try to respond to all inquiries within 24 hours on working days."})]}),v.jsxs("div",{className:"faq-item",children:[v.jsx("h4",{children:"When will I receive bonus attempts?"}),v.jsx("p",{children:"Bonus attempts are granted within 2-3 working days after your suggestion is reviewed."})]}),v.jsxs("div",{className:"faq-item",children:[v.jsx("h4",{children:"What are considered useful suggestions?"}),v.jsx("p",{children:"Suggestions for improving functionality, fixing errors, or new platform features."})]})]}),v.jsxs("div",{className:"glass-card tips-card",children:[v.jsx("h3",{children:"Tips for a better review"}),v.jsxs("ul",{children:[v.jsx("li",{children:"Be specific in describing the problem"}),v.jsx("li",{children:"Attach screenshots if possible (via email)"}),v.jsx("li",{children:"Specify the device on which the problem occurred"}),v.jsx("li",{children:"Offer possible solutions"})]})]})]})]})]})}function y9(){return v.jsx(v6,{children:v.jsx(kN,{children:v.jsx(lN,{children:v.jsxs(Us,{element:v.jsx(b6,{children:v.jsx(E3,{})}),children:[v.jsx(Us,{index:!0,element:v.jsx(O3,{})}),v.jsx(Us,{path:"settings",element:v.jsx(c9,{})}),v.jsx(Us,{path:"feedback",element:v.jsx(p9,{})}),v.jsx(Us,{path:"admin",element:v.jsx(d9,{})}),v.jsx(Us,{path:"admin/users",element:v.jsx(m9,{})}),v.jsx(Us,{path:"admin/tests/:type",element:v.jsx(g9,{})}),v.jsx(Us,{path:":type",element:v.jsx(L3,{})})]})})})})}lI.createRoot(document.getElementById("root")).render(v.jsx(B.StrictMode,{children:v.jsx(y9,{})}));
